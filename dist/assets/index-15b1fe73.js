function Jte(o,l){for(var a=0;a<l.length;a++){const c=l[a];if(typeof c!="string"&&!Array.isArray(c)){for(const m in c)if(m!=="default"&&!(m in o)){const p=Object.getOwnPropertyDescriptor(c,m);p&&Object.defineProperty(o,m,p.get?p:{enumerable:!0,get:()=>c[m]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))c(m);new MutationObserver(m=>{for(const p of m)if(p.type==="childList")for(const h of p.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&c(h)}).observe(document,{childList:!0,subtree:!0});function a(m){const p={};return m.integrity&&(p.integrity=m.integrity),m.referrerPolicy&&(p.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?p.credentials="include":m.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function c(m){if(m.ep)return;m.ep=!0;const p=a(m);fetch(m.href,p)}})();function uP(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function ene(o){if(o.__esModule)return o;var l=o.default;if(typeof l=="function"){var a=function c(){return this instanceof c?Reflect.construct(l,arguments,this.constructor):l.apply(this,arguments)};a.prototype=l.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(o).forEach(function(c){var m=Object.getOwnPropertyDescriptor(o,c);Object.defineProperty(a,c,m.get?m:{enumerable:!0,get:function(){return o[c]}})}),a}var cP={exports:{}},yp={},fP={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jc=Symbol.for("react.element"),tne=Symbol.for("react.portal"),nne=Symbol.for("react.fragment"),rne=Symbol.for("react.strict_mode"),one=Symbol.for("react.profiler"),sne=Symbol.for("react.provider"),lne=Symbol.for("react.context"),ine=Symbol.for("react.forward_ref"),ane=Symbol.for("react.suspense"),une=Symbol.for("react.memo"),cne=Symbol.for("react.lazy"),LB=Symbol.iterator;function fne(o){return o===null||typeof o!="object"?null:(o=LB&&o[LB]||o["@@iterator"],typeof o=="function"?o:null)}var dP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mP=Object.assign,pP={};function ka(o,l,a){this.props=o,this.context=l,this.refs=pP,this.updater=a||dP}ka.prototype.isReactComponent={};ka.prototype.setState=function(o,l){if(typeof o!="object"&&typeof o!="function"&&o!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,o,l,"setState")};ka.prototype.forceUpdate=function(o){this.updater.enqueueForceUpdate(this,o,"forceUpdate")};function gP(){}gP.prototype=ka.prototype;function zC(o,l,a){this.props=o,this.context=l,this.refs=pP,this.updater=a||dP}var UC=zC.prototype=new gP;UC.constructor=zC;mP(UC,ka.prototype);UC.isPureReactComponent=!0;var $B=Array.isArray,hP=Object.prototype.hasOwnProperty,jC={current:null},vP={key:!0,ref:!0,__self:!0,__source:!0};function CP(o,l,a){var c,m={},p=null,h=null;if(l!=null)for(c in l.ref!==void 0&&(h=l.ref),l.key!==void 0&&(p=""+l.key),l)hP.call(l,c)&&!vP.hasOwnProperty(c)&&(m[c]=l[c]);var b=arguments.length-2;if(b===1)m.children=a;else if(1<b){for(var A=Array(b),_=0;_<b;_++)A[_]=arguments[_+2];m.children=A}if(o&&o.defaultProps)for(c in b=o.defaultProps,b)m[c]===void 0&&(m[c]=b[c]);return{$$typeof:jc,type:o,key:p,ref:h,props:m,_owner:jC.current}}function dne(o,l){return{$$typeof:jc,type:o.type,key:l,ref:o.ref,props:o.props,_owner:o._owner}}function HC(o){return typeof o=="object"&&o!==null&&o.$$typeof===jc}function mne(o){var l={"=":"=0",":":"=2"};return"$"+o.replace(/[=:]/g,function(a){return l[a]})}var MB=/\/+/g;function lv(o,l){return typeof o=="object"&&o!==null&&o.key!=null?mne(""+o.key):l.toString(36)}function Bm(o,l,a,c,m){var p=typeof o;(p==="undefined"||p==="boolean")&&(o=null);var h=!1;if(o===null)h=!0;else switch(p){case"string":case"number":h=!0;break;case"object":switch(o.$$typeof){case jc:case tne:h=!0}}if(h)return h=o,m=m(h),o=c===""?"."+lv(h,0):c,$B(m)?(a="",o!=null&&(a=o.replace(MB,"$&/")+"/"),Bm(m,l,a,"",function(_){return _})):m!=null&&(HC(m)&&(m=dne(m,a+(!m.key||h&&h.key===m.key?"":(""+m.key).replace(MB,"$&/")+"/")+o)),l.push(m)),1;if(h=0,c=c===""?".":c+":",$B(o))for(var b=0;b<o.length;b++){p=o[b];var A=c+lv(p,b);h+=Bm(p,l,a,A,m)}else if(A=fne(o),typeof A=="function")for(o=A.call(o),b=0;!(p=o.next()).done;)p=p.value,A=c+lv(p,b++),h+=Bm(p,l,a,A,m);else if(p==="object")throw l=String(o),Error("Objects are not valid as a React child (found: "+(l==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":l)+"). If you meant to render a collection of children, use an array instead.");return h}function dm(o,l,a){if(o==null)return o;var c=[],m=0;return Bm(o,c,"","",function(p){return l.call(a,p,m++)}),c}function pne(o){if(o._status===-1){var l=o._result;l=l(),l.then(function(a){(o._status===0||o._status===-1)&&(o._status=1,o._result=a)},function(a){(o._status===0||o._status===-1)&&(o._status=2,o._result=a)}),o._status===-1&&(o._status=0,o._result=l)}if(o._status===1)return o._result.default;throw o._result}var Vn={current:null},Fm={transition:null},gne={ReactCurrentDispatcher:Vn,ReactCurrentBatchConfig:Fm,ReactCurrentOwner:jC};st.Children={map:dm,forEach:function(o,l,a){dm(o,function(){l.apply(this,arguments)},a)},count:function(o){var l=0;return dm(o,function(){l++}),l},toArray:function(o){return dm(o,function(l){return l})||[]},only:function(o){if(!HC(o))throw Error("React.Children.only expected to receive a single React element child.");return o}};st.Component=ka;st.Fragment=nne;st.Profiler=one;st.PureComponent=zC;st.StrictMode=rne;st.Suspense=ane;st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gne;st.cloneElement=function(o,l,a){if(o==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+o+".");var c=mP({},o.props),m=o.key,p=o.ref,h=o._owner;if(l!=null){if(l.ref!==void 0&&(p=l.ref,h=jC.current),l.key!==void 0&&(m=""+l.key),o.type&&o.type.defaultProps)var b=o.type.defaultProps;for(A in l)hP.call(l,A)&&!vP.hasOwnProperty(A)&&(c[A]=l[A]===void 0&&b!==void 0?b[A]:l[A])}var A=arguments.length-2;if(A===1)c.children=a;else if(1<A){b=Array(A);for(var _=0;_<A;_++)b[_]=arguments[_+2];c.children=b}return{$$typeof:jc,type:o.type,key:m,ref:p,props:c,_owner:h}};st.createContext=function(o){return o={$$typeof:lne,_currentValue:o,_currentValue2:o,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},o.Provider={$$typeof:sne,_context:o},o.Consumer=o};st.createElement=CP;st.createFactory=function(o){var l=CP.bind(null,o);return l.type=o,l};st.createRef=function(){return{current:null}};st.forwardRef=function(o){return{$$typeof:ine,render:o}};st.isValidElement=HC;st.lazy=function(o){return{$$typeof:cne,_payload:{_status:-1,_result:o},_init:pne}};st.memo=function(o,l){return{$$typeof:une,type:o,compare:l===void 0?null:l}};st.startTransition=function(o){var l=Fm.transition;Fm.transition={};try{o()}finally{Fm.transition=l}};st.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};st.useCallback=function(o,l){return Vn.current.useCallback(o,l)};st.useContext=function(o){return Vn.current.useContext(o)};st.useDebugValue=function(){};st.useDeferredValue=function(o){return Vn.current.useDeferredValue(o)};st.useEffect=function(o,l){return Vn.current.useEffect(o,l)};st.useId=function(){return Vn.current.useId()};st.useImperativeHandle=function(o,l,a){return Vn.current.useImperativeHandle(o,l,a)};st.useInsertionEffect=function(o,l){return Vn.current.useInsertionEffect(o,l)};st.useLayoutEffect=function(o,l){return Vn.current.useLayoutEffect(o,l)};st.useMemo=function(o,l){return Vn.current.useMemo(o,l)};st.useReducer=function(o,l,a){return Vn.current.useReducer(o,l,a)};st.useRef=function(o){return Vn.current.useRef(o)};st.useState=function(o){return Vn.current.useState(o)};st.useSyncExternalStore=function(o,l,a){return Vn.current.useSyncExternalStore(o,l,a)};st.useTransition=function(){return Vn.current.useTransition()};st.version="18.2.0";fP.exports=st;var ae=fP.exports;const yP=uP(ae),hne=Jte({__proto__:null,default:yP},[ae]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vne=ae,Cne=Symbol.for("react.element"),yne=Symbol.for("react.fragment"),Ene=Object.prototype.hasOwnProperty,bne=vne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ane={key:!0,ref:!0,__self:!0,__source:!0};function EP(o,l,a){var c,m={},p=null,h=null;a!==void 0&&(p=""+a),l.key!==void 0&&(p=""+l.key),l.ref!==void 0&&(h=l.ref);for(c in l)Ene.call(l,c)&&!Ane.hasOwnProperty(c)&&(m[c]=l[c]);if(o&&o.defaultProps)for(c in l=o.defaultProps,l)m[c]===void 0&&(m[c]=l[c]);return{$$typeof:Cne,type:o,key:p,ref:h,props:m,_owner:bne.current}}yp.Fragment=yne;yp.jsx=EP;yp.jsxs=EP;cP.exports=yp;var j=cP.exports,Lv={},bP={exports:{}},wr={},AP={exports:{}},SP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(o){function l(K,Me){var Xe=K.length;K.push(Me);e:for(;0<Xe;){var ce=Xe-1>>>1,It=K[ce];if(0<m(It,Me))K[ce]=Me,K[Xe]=It,Xe=ce;else break e}}function a(K){return K.length===0?null:K[0]}function c(K){if(K.length===0)return null;var Me=K[0],Xe=K.pop();if(Xe!==Me){K[0]=Xe;e:for(var ce=0,It=K.length,Zs=It>>>1;ce<Zs;){var $r=2*(ce+1)-1,To=K[$r],rt=$r+1,yt=K[rt];if(0>m(To,Xe))rt<It&&0>m(yt,To)?(K[ce]=yt,K[rt]=Xe,ce=rt):(K[ce]=To,K[$r]=Xe,ce=$r);else if(rt<It&&0>m(yt,Xe))K[ce]=yt,K[rt]=Xe,ce=rt;else break e}}return Me}function m(K,Me){var Xe=K.sortIndex-Me.sortIndex;return Xe!==0?Xe:K.id-Me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var p=performance;o.unstable_now=function(){return p.now()}}else{var h=Date,b=h.now();o.unstable_now=function(){return h.now()-b}}var A=[],_=[],O=1,I=null,z=3,Q=!1,oe=!1,X=!1,ke=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(K){for(var Me=a(_);Me!==null;){if(Me.callback===null)c(_);else if(Me.startTime<=K)c(_),Me.sortIndex=Me.expirationTime,l(A,Me);else break;Me=a(_)}}function G(K){if(X=!1,N(K),!oe)if(a(A)!==null)oe=!0,or(xe);else{var Me=a(_);Me!==null&&si(G,Me.startTime-K)}}function xe(K,Me){oe=!1,X&&(X=!1,R(_e),_e=-1),Q=!0;var Xe=z;try{for(N(Me),I=a(A);I!==null&&(!(I.expirationTime>Me)||K&&!Z());){var ce=I.callback;if(typeof ce=="function"){I.callback=null,z=I.priorityLevel;var It=ce(I.expirationTime<=Me);Me=o.unstable_now(),typeof It=="function"?I.callback=It:I===a(A)&&c(A),N(Me)}else c(A);I=a(A)}if(I!==null)var Zs=!0;else{var $r=a(_);$r!==null&&si(G,$r.startTime-Me),Zs=!1}return Zs}finally{I=null,z=Xe,Q=!1}}var Se=!1,De=null,_e=-1,Pe=5,de=-1;function Z(){return!(o.unstable_now()-de<Pe)}function je(){if(De!==null){var K=o.unstable_now();de=K;var Me=!0;try{Me=De(!0,K)}finally{Me?Ot():(Se=!1,De=null)}}else Se=!1}var Ot;if(typeof B=="function")Ot=function(){B(je)};else if(typeof MessageChannel<"u"){var fn=new MessageChannel,$e=fn.port2;fn.port1.onmessage=je,Ot=function(){$e.postMessage(null)}}else Ot=function(){ke(je,0)};function or(K){De=K,Se||(Se=!0,Ot())}function si(K,Me){_e=ke(function(){K(o.unstable_now())},Me)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(K){K.callback=null},o.unstable_continueExecution=function(){oe||Q||(oe=!0,or(xe))},o.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Pe=0<K?Math.floor(1e3/K):5},o.unstable_getCurrentPriorityLevel=function(){return z},o.unstable_getFirstCallbackNode=function(){return a(A)},o.unstable_next=function(K){switch(z){case 1:case 2:case 3:var Me=3;break;default:Me=z}var Xe=z;z=Me;try{return K()}finally{z=Xe}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(K,Me){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Xe=z;z=K;try{return Me()}finally{z=Xe}},o.unstable_scheduleCallback=function(K,Me,Xe){var ce=o.unstable_now();switch(typeof Xe=="object"&&Xe!==null?(Xe=Xe.delay,Xe=typeof Xe=="number"&&0<Xe?ce+Xe:ce):Xe=ce,K){case 1:var It=-1;break;case 2:It=250;break;case 5:It=1073741823;break;case 4:It=1e4;break;default:It=5e3}return It=Xe+It,K={id:O++,callback:Me,priorityLevel:K,startTime:Xe,expirationTime:It,sortIndex:-1},Xe>ce?(K.sortIndex=Xe,l(_,K),a(A)===null&&K===a(_)&&(X?(R(_e),_e=-1):X=!0,si(G,Xe-ce))):(K.sortIndex=It,l(A,K),oe||Q||(oe=!0,or(xe))),K},o.unstable_shouldYield=Z,o.unstable_wrapCallback=function(K){var Me=z;return function(){var Xe=z;z=Me;try{return K.apply(this,arguments)}finally{z=Xe}}}})(SP);AP.exports=SP;var Sne=AP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wP=ae,Sr=Sne;function ve(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,a=1;a<arguments.length;a++)l+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xP=new Set,Ac={};function ni(o,l){ha(o,l),ha(o+"Capture",l)}function ha(o,l){for(Ac[o]=l,o=0;o<l.length;o++)xP.add(l[o])}var Jo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$v=Object.prototype.hasOwnProperty,wne=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zB={},UB={};function xne(o){return $v.call(UB,o)?!0:$v.call(zB,o)?!1:wne.test(o)?UB[o]=!0:(zB[o]=!0,!1)}function kne(o,l,a,c){if(a!==null&&a.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function Dne(o,l,a,c){if(l===null||typeof l>"u"||kne(o,l,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function Wn(o,l,a,c,m,p,h){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=c,this.attributeNamespace=m,this.mustUseProperty=a,this.propertyName=o,this.type=l,this.sanitizeURL=p,this.removeEmptyString=h}var xn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){xn[o]=new Wn(o,0,!1,o,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];xn[l]=new Wn(l,1,!1,o[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(o){xn[o]=new Wn(o,2,!1,o.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){xn[o]=new Wn(o,2,!1,o,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){xn[o]=new Wn(o,3,!1,o.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(o){xn[o]=new Wn(o,3,!0,o,null,!1,!1)});["capture","download"].forEach(function(o){xn[o]=new Wn(o,4,!1,o,null,!1,!1)});["cols","rows","size","span"].forEach(function(o){xn[o]=new Wn(o,6,!1,o,null,!1,!1)});["rowSpan","start"].forEach(function(o){xn[o]=new Wn(o,5,!1,o.toLowerCase(),null,!1,!1)});var VC=/[\-:]([a-z])/g;function WC(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(VC,WC);xn[l]=new Wn(l,1,!1,o,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(VC,WC);xn[l]=new Wn(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(VC,WC);xn[l]=new Wn(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(o){xn[o]=new Wn(o,1,!1,o.toLowerCase(),null,!1,!1)});xn.xlinkHref=new Wn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(o){xn[o]=new Wn(o,1,!1,o.toLowerCase(),null,!0,!0)});function KC(o,l,a,c){var m=xn.hasOwnProperty(l)?xn[l]:null;(m!==null?m.type!==0:c||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(Dne(l,a,m,c)&&(a=null),c||m===null?xne(l)&&(a===null?o.removeAttribute(l):o.setAttribute(l,""+a)):m.mustUseProperty?o[m.propertyName]=a===null?m.type===3?!1:"":a:(l=m.attributeName,c=m.attributeNamespace,a===null?o.removeAttribute(l):(m=m.type,a=m===3||m===4&&a===!0?"":""+a,c?o.setAttributeNS(c,l,a):o.setAttribute(l,a))))}var rs=wP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mm=Symbol.for("react.element"),Zi=Symbol.for("react.portal"),Ji=Symbol.for("react.fragment"),qC=Symbol.for("react.strict_mode"),Mv=Symbol.for("react.profiler"),kP=Symbol.for("react.provider"),DP=Symbol.for("react.context"),GC=Symbol.for("react.forward_ref"),zv=Symbol.for("react.suspense"),Uv=Symbol.for("react.suspense_list"),YC=Symbol.for("react.memo"),Bs=Symbol.for("react.lazy"),_P=Symbol.for("react.offscreen"),jB=Symbol.iterator;function ec(o){return o===null||typeof o!="object"?null:(o=jB&&o[jB]||o["@@iterator"],typeof o=="function"?o:null)}var Mt=Object.assign,iv;function uc(o){if(iv===void 0)try{throw Error()}catch(a){var l=a.stack.trim().match(/\n( *(at )?)/);iv=l&&l[1]||""}return`
`+iv+o}var av=!1;function uv(o,l){if(!o||av)return"";av=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(_){var c=_}Reflect.construct(o,[],l)}else{try{l.call()}catch(_){c=_}o.call(l.prototype)}else{try{throw Error()}catch(_){c=_}o()}}catch(_){if(_&&c&&typeof _.stack=="string"){for(var m=_.stack.split(`
`),p=c.stack.split(`
`),h=m.length-1,b=p.length-1;1<=h&&0<=b&&m[h]!==p[b];)b--;for(;1<=h&&0<=b;h--,b--)if(m[h]!==p[b]){if(h!==1||b!==1)do if(h--,b--,0>b||m[h]!==p[b]){var A=`
`+m[h].replace(" at new "," at ");return o.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",o.displayName)),A}while(1<=h&&0<=b);break}}}finally{av=!1,Error.prepareStackTrace=a}return(o=o?o.displayName||o.name:"")?uc(o):""}function _ne(o){switch(o.tag){case 5:return uc(o.type);case 16:return uc("Lazy");case 13:return uc("Suspense");case 19:return uc("SuspenseList");case 0:case 2:case 15:return o=uv(o.type,!1),o;case 11:return o=uv(o.type.render,!1),o;case 1:return o=uv(o.type,!0),o;default:return""}}function jv(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case Ji:return"Fragment";case Zi:return"Portal";case Mv:return"Profiler";case qC:return"StrictMode";case zv:return"Suspense";case Uv:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case DP:return(o.displayName||"Context")+".Consumer";case kP:return(o._context.displayName||"Context")+".Provider";case GC:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case YC:return l=o.displayName||null,l!==null?l:jv(o.type)||"Memo";case Bs:l=o._payload,o=o._init;try{return jv(o(l))}catch{}}return null}function Nne(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jv(l);case 8:return l===qC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function qs(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function NP(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Bne(o){var l=NP(o)?"checked":"value",a=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),c=""+o[l];if(!o.hasOwnProperty(l)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var m=a.get,p=a.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return m.call(this)},set:function(h){c=""+h,p.call(this,h)}}),Object.defineProperty(o,l,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(h){c=""+h},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function pm(o){o._valueTracker||(o._valueTracker=Bne(o))}function BP(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var a=l.getValue(),c="";return o&&(c=NP(o)?o.checked?"true":"false":o.value),o=c,o!==a?(l.setValue(o),!0):!1}function jm(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Hv(o,l){var a=l.checked;return Mt({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??o._wrapperState.initialChecked})}function HB(o,l){var a=l.defaultValue==null?"":l.defaultValue,c=l.checked!=null?l.checked:l.defaultChecked;a=qs(l.value!=null?l.value:a),o._wrapperState={initialChecked:c,initialValue:a,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function FP(o,l){l=l.checked,l!=null&&KC(o,"checked",l,!1)}function Vv(o,l){FP(o,l);var a=qs(l.value),c=l.type;if(a!=null)c==="number"?(a===0&&o.value===""||o.value!=a)&&(o.value=""+a):o.value!==""+a&&(o.value=""+a);else if(c==="submit"||c==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?Wv(o,l.type,a):l.hasOwnProperty("defaultValue")&&Wv(o,l.type,qs(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function VB(o,l,a){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var c=l.type;if(!(c!=="submit"&&c!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,a||l===o.value||(o.value=l),o.defaultValue=l}a=o.name,a!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,a!==""&&(o.name=a)}function Wv(o,l,a){(l!=="number"||jm(o.ownerDocument)!==o)&&(a==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+a&&(o.defaultValue=""+a))}var cc=Array.isArray;function ca(o,l,a,c){if(o=o.options,l){l={};for(var m=0;m<a.length;m++)l["$"+a[m]]=!0;for(a=0;a<o.length;a++)m=l.hasOwnProperty("$"+o[a].value),o[a].selected!==m&&(o[a].selected=m),m&&c&&(o[a].defaultSelected=!0)}else{for(a=""+qs(a),l=null,m=0;m<o.length;m++){if(o[m].value===a){o[m].selected=!0,c&&(o[m].defaultSelected=!0);return}l!==null||o[m].disabled||(l=o[m])}l!==null&&(l.selected=!0)}}function Kv(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(ve(91));return Mt({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function WB(o,l){var a=l.value;if(a==null){if(a=l.children,l=l.defaultValue,a!=null){if(l!=null)throw Error(ve(92));if(cc(a)){if(1<a.length)throw Error(ve(93));a=a[0]}l=a}l==null&&(l=""),a=l}o._wrapperState={initialValue:qs(a)}}function PP(o,l){var a=qs(l.value),c=qs(l.defaultValue);a!=null&&(a=""+a,a!==o.value&&(o.value=a),l.defaultValue==null&&o.defaultValue!==a&&(o.defaultValue=a)),c!=null&&(o.defaultValue=""+c)}function KB(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function TP(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qv(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?TP(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var gm,RP=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,a,c,m){MSApp.execUnsafeLocalFunction(function(){return o(l,a,c,m)})}:o}(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(gm=gm||document.createElement("div"),gm.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=gm.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function Sc(o,l){if(l){var a=o.firstChild;if(a&&a===o.lastChild&&a.nodeType===3){a.nodeValue=l;return}}o.textContent=l}var mc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fne=["Webkit","ms","Moz","O"];Object.keys(mc).forEach(function(o){Fne.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),mc[l]=mc[o]})});function OP(o,l,a){return l==null||typeof l=="boolean"||l===""?"":a||typeof l!="number"||l===0||mc.hasOwnProperty(o)&&mc[o]?(""+l).trim():l+"px"}function IP(o,l){o=o.style;for(var a in l)if(l.hasOwnProperty(a)){var c=a.indexOf("--")===0,m=OP(a,l[a],c);a==="float"&&(a="cssFloat"),c?o.setProperty(a,m):o[a]=m}}var Pne=Mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gv(o,l){if(l){if(Pne[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(ve(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(ve(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(ve(61))}if(l.style!=null&&typeof l.style!="object")throw Error(ve(62))}}function Yv(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qv=null;function QC(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Xv=null,fa=null,da=null;function qB(o){if(o=Wc(o)){if(typeof Xv!="function")throw Error(ve(280));var l=o.stateNode;l&&(l=wp(l),Xv(o.stateNode,o.type,l))}}function LP(o){fa?da?da.push(o):da=[o]:fa=o}function $P(){if(fa){var o=fa,l=da;if(da=fa=null,qB(o),l)for(o=0;o<l.length;o++)qB(l[o])}}function MP(o,l){return o(l)}function zP(){}var cv=!1;function UP(o,l,a){if(cv)return o(l,a);cv=!0;try{return MP(o,l,a)}finally{cv=!1,(fa!==null||da!==null)&&(zP(),$P())}}function wc(o,l){var a=o.stateNode;if(a===null)return null;var c=wp(a);if(c===null)return null;a=c[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(o=o.type,c=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!c;break e;default:o=!1}if(o)return null;if(a&&typeof a!="function")throw Error(ve(231,l,typeof a));return a}var Zv=!1;if(Jo)try{var tc={};Object.defineProperty(tc,"passive",{get:function(){Zv=!0}}),window.addEventListener("test",tc,tc),window.removeEventListener("test",tc,tc)}catch{Zv=!1}function Tne(o,l,a,c,m,p,h,b,A){var _=Array.prototype.slice.call(arguments,3);try{l.apply(a,_)}catch(O){this.onError(O)}}var pc=!1,Hm=null,Vm=!1,Jv=null,Rne={onError:function(o){pc=!0,Hm=o}};function One(o,l,a,c,m,p,h,b,A){pc=!1,Hm=null,Tne.apply(Rne,arguments)}function Ine(o,l,a,c,m,p,h,b,A){if(One.apply(this,arguments),pc){if(pc){var _=Hm;pc=!1,Hm=null}else throw Error(ve(198));Vm||(Vm=!0,Jv=_)}}function ri(o){var l=o,a=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,l.flags&4098&&(a=l.return),o=l.return;while(o)}return l.tag===3?a:null}function jP(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function GB(o){if(ri(o)!==o)throw Error(ve(188))}function Lne(o){var l=o.alternate;if(!l){if(l=ri(o),l===null)throw Error(ve(188));return l!==o?null:o}for(var a=o,c=l;;){var m=a.return;if(m===null)break;var p=m.alternate;if(p===null){if(c=m.return,c!==null){a=c;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===a)return GB(m),o;if(p===c)return GB(m),l;p=p.sibling}throw Error(ve(188))}if(a.return!==c.return)a=m,c=p;else{for(var h=!1,b=m.child;b;){if(b===a){h=!0,a=m,c=p;break}if(b===c){h=!0,c=m,a=p;break}b=b.sibling}if(!h){for(b=p.child;b;){if(b===a){h=!0,a=p,c=m;break}if(b===c){h=!0,c=p,a=m;break}b=b.sibling}if(!h)throw Error(ve(189))}}if(a.alternate!==c)throw Error(ve(190))}if(a.tag!==3)throw Error(ve(188));return a.stateNode.current===a?o:l}function HP(o){return o=Lne(o),o!==null?VP(o):null}function VP(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=VP(o);if(l!==null)return l;o=o.sibling}return null}var WP=Sr.unstable_scheduleCallback,YB=Sr.unstable_cancelCallback,$ne=Sr.unstable_shouldYield,Mne=Sr.unstable_requestPaint,Yt=Sr.unstable_now,zne=Sr.unstable_getCurrentPriorityLevel,XC=Sr.unstable_ImmediatePriority,KP=Sr.unstable_UserBlockingPriority,Wm=Sr.unstable_NormalPriority,Une=Sr.unstable_LowPriority,qP=Sr.unstable_IdlePriority,Ep=null,Fo=null;function jne(o){if(Fo&&typeof Fo.onCommitFiberRoot=="function")try{Fo.onCommitFiberRoot(Ep,o,void 0,(o.current.flags&128)===128)}catch{}}var ro=Math.clz32?Math.clz32:Wne,Hne=Math.log,Vne=Math.LN2;function Wne(o){return o>>>=0,o===0?32:31-(Hne(o)/Vne|0)|0}var hm=64,vm=4194304;function fc(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Km(o,l){var a=o.pendingLanes;if(a===0)return 0;var c=0,m=o.suspendedLanes,p=o.pingedLanes,h=a&268435455;if(h!==0){var b=h&~m;b!==0?c=fc(b):(p&=h,p!==0&&(c=fc(p)))}else h=a&~m,h!==0?c=fc(h):p!==0&&(c=fc(p));if(c===0)return 0;if(l!==0&&l!==c&&!(l&m)&&(m=c&-c,p=l&-l,m>=p||m===16&&(p&4194240)!==0))return l;if(c&4&&(c|=a&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=c;0<l;)a=31-ro(l),m=1<<a,c|=o[a],l&=~m;return c}function Kne(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qne(o,l){for(var a=o.suspendedLanes,c=o.pingedLanes,m=o.expirationTimes,p=o.pendingLanes;0<p;){var h=31-ro(p),b=1<<h,A=m[h];A===-1?(!(b&a)||b&c)&&(m[h]=Kne(b,l)):A<=l&&(o.expiredLanes|=b),p&=~b}}function eC(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function GP(){var o=hm;return hm<<=1,!(hm&4194240)&&(hm=64),o}function fv(o){for(var l=[],a=0;31>a;a++)l.push(o);return l}function Hc(o,l,a){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-ro(l),o[l]=a}function Gne(o,l){var a=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var c=o.eventTimes;for(o=o.expirationTimes;0<a;){var m=31-ro(a),p=1<<m;l[m]=0,c[m]=-1,o[m]=-1,a&=~p}}function ZC(o,l){var a=o.entangledLanes|=l;for(o=o.entanglements;a;){var c=31-ro(a),m=1<<c;m&l|o[c]&l&&(o[c]|=l),a&=~m}}var Ct=0;function YP(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var QP,JC,XP,ZP,JP,tC=!1,Cm=[],Ls=null,$s=null,Ms=null,xc=new Map,kc=new Map,Ps=[],Yne="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function QB(o,l){switch(o){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":xc.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":kc.delete(l.pointerId)}}function nc(o,l,a,c,m,p){return o===null||o.nativeEvent!==p?(o={blockedOn:l,domEventName:a,eventSystemFlags:c,nativeEvent:p,targetContainers:[m]},l!==null&&(l=Wc(l),l!==null&&JC(l)),o):(o.eventSystemFlags|=c,l=o.targetContainers,m!==null&&l.indexOf(m)===-1&&l.push(m),o)}function Qne(o,l,a,c,m){switch(l){case"focusin":return Ls=nc(Ls,o,l,a,c,m),!0;case"dragenter":return $s=nc($s,o,l,a,c,m),!0;case"mouseover":return Ms=nc(Ms,o,l,a,c,m),!0;case"pointerover":var p=m.pointerId;return xc.set(p,nc(xc.get(p)||null,o,l,a,c,m)),!0;case"gotpointercapture":return p=m.pointerId,kc.set(p,nc(kc.get(p)||null,o,l,a,c,m)),!0}return!1}function eT(o){var l=Wl(o.target);if(l!==null){var a=ri(l);if(a!==null){if(l=a.tag,l===13){if(l=jP(a),l!==null){o.blockedOn=l,JP(o.priority,function(){XP(a)});return}}else if(l===3&&a.stateNode.current.memoizedState.isDehydrated){o.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Pm(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var a=nC(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(a===null){a=o.nativeEvent;var c=new a.constructor(a.type,a);Qv=c,a.target.dispatchEvent(c),Qv=null}else return l=Wc(a),l!==null&&JC(l),o.blockedOn=a,!1;l.shift()}return!0}function XB(o,l,a){Pm(o)&&a.delete(l)}function Xne(){tC=!1,Ls!==null&&Pm(Ls)&&(Ls=null),$s!==null&&Pm($s)&&($s=null),Ms!==null&&Pm(Ms)&&(Ms=null),xc.forEach(XB),kc.forEach(XB)}function rc(o,l){o.blockedOn===l&&(o.blockedOn=null,tC||(tC=!0,Sr.unstable_scheduleCallback(Sr.unstable_NormalPriority,Xne)))}function Dc(o){function l(m){return rc(m,o)}if(0<Cm.length){rc(Cm[0],o);for(var a=1;a<Cm.length;a++){var c=Cm[a];c.blockedOn===o&&(c.blockedOn=null)}}for(Ls!==null&&rc(Ls,o),$s!==null&&rc($s,o),Ms!==null&&rc(Ms,o),xc.forEach(l),kc.forEach(l),a=0;a<Ps.length;a++)c=Ps[a],c.blockedOn===o&&(c.blockedOn=null);for(;0<Ps.length&&(a=Ps[0],a.blockedOn===null);)eT(a),a.blockedOn===null&&Ps.shift()}var ma=rs.ReactCurrentBatchConfig,qm=!0;function Zne(o,l,a,c){var m=Ct,p=ma.transition;ma.transition=null;try{Ct=1,ey(o,l,a,c)}finally{Ct=m,ma.transition=p}}function Jne(o,l,a,c){var m=Ct,p=ma.transition;ma.transition=null;try{Ct=4,ey(o,l,a,c)}finally{Ct=m,ma.transition=p}}function ey(o,l,a,c){if(qm){var m=nC(o,l,a,c);if(m===null)bv(o,l,c,Gm,a),QB(o,c);else if(Qne(m,o,l,a,c))c.stopPropagation();else if(QB(o,c),l&4&&-1<Yne.indexOf(o)){for(;m!==null;){var p=Wc(m);if(p!==null&&QP(p),p=nC(o,l,a,c),p===null&&bv(o,l,c,Gm,a),p===m)break;m=p}m!==null&&c.stopPropagation()}else bv(o,l,c,null,a)}}var Gm=null;function nC(o,l,a,c){if(Gm=null,o=QC(c),o=Wl(o),o!==null)if(l=ri(o),l===null)o=null;else if(a=l.tag,a===13){if(o=jP(l),o!==null)return o;o=null}else if(a===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return Gm=o,null}function tT(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zne()){case XC:return 1;case KP:return 4;case Wm:case Une:return 16;case qP:return 536870912;default:return 16}default:return 16}}var Rs=null,ty=null,Tm=null;function nT(){if(Tm)return Tm;var o,l=ty,a=l.length,c,m="value"in Rs?Rs.value:Rs.textContent,p=m.length;for(o=0;o<a&&l[o]===m[o];o++);var h=a-o;for(c=1;c<=h&&l[a-c]===m[p-c];c++);return Tm=m.slice(o,1<c?1-c:void 0)}function Rm(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function ym(){return!0}function ZB(){return!1}function xr(o){function l(a,c,m,p,h){this._reactName=a,this._targetInst=m,this.type=c,this.nativeEvent=p,this.target=h,this.currentTarget=null;for(var b in o)o.hasOwnProperty(b)&&(a=o[b],this[b]=a?a(p):p[b]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ym:ZB,this.isPropagationStopped=ZB,this}return Mt(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ym)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ym)},persist:function(){},isPersistent:ym}),l}var Da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ny=xr(Da),Vc=Mt({},Da,{view:0,detail:0}),ere=xr(Vc),dv,mv,oc,bp=Mt({},Vc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ry,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==oc&&(oc&&o.type==="mousemove"?(dv=o.screenX-oc.screenX,mv=o.screenY-oc.screenY):mv=dv=0,oc=o),dv)},movementY:function(o){return"movementY"in o?o.movementY:mv}}),JB=xr(bp),tre=Mt({},bp,{dataTransfer:0}),nre=xr(tre),rre=Mt({},Vc,{relatedTarget:0}),pv=xr(rre),ore=Mt({},Da,{animationName:0,elapsedTime:0,pseudoElement:0}),sre=xr(ore),lre=Mt({},Da,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),ire=xr(lre),are=Mt({},Da,{data:0}),eF=xr(are),ure={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cre={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fre={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dre(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=fre[o])?!!l[o]:!1}function ry(){return dre}var mre=Mt({},Vc,{key:function(o){if(o.key){var l=ure[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Rm(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?cre[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ry,charCode:function(o){return o.type==="keypress"?Rm(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Rm(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),pre=xr(mre),gre=Mt({},bp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tF=xr(gre),hre=Mt({},Vc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ry}),vre=xr(hre),Cre=Mt({},Da,{propertyName:0,elapsedTime:0,pseudoElement:0}),yre=xr(Cre),Ere=Mt({},bp,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),bre=xr(Ere),Are=[9,13,27,32],oy=Jo&&"CompositionEvent"in window,gc=null;Jo&&"documentMode"in document&&(gc=document.documentMode);var Sre=Jo&&"TextEvent"in window&&!gc,rT=Jo&&(!oy||gc&&8<gc&&11>=gc),nF=String.fromCharCode(32),rF=!1;function oT(o,l){switch(o){case"keyup":return Are.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sT(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ea=!1;function wre(o,l){switch(o){case"compositionend":return sT(l);case"keypress":return l.which!==32?null:(rF=!0,nF);case"textInput":return o=l.data,o===nF&&rF?null:o;default:return null}}function xre(o,l){if(ea)return o==="compositionend"||!oy&&oT(o,l)?(o=nT(),Tm=ty=Rs=null,ea=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return rT&&l.locale!=="ko"?null:l.data;default:return null}}var kre={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oF(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!kre[o.type]:l==="textarea"}function lT(o,l,a,c){LP(c),l=Ym(l,"onChange"),0<l.length&&(a=new ny("onChange","change",null,a,c),o.push({event:a,listeners:l}))}var hc=null,_c=null;function Dre(o){vT(o,0)}function Ap(o){var l=ra(o);if(BP(l))return o}function _re(o,l){if(o==="change")return l}var iT=!1;if(Jo){var gv;if(Jo){var hv="oninput"in document;if(!hv){var sF=document.createElement("div");sF.setAttribute("oninput","return;"),hv=typeof sF.oninput=="function"}gv=hv}else gv=!1;iT=gv&&(!document.documentMode||9<document.documentMode)}function lF(){hc&&(hc.detachEvent("onpropertychange",aT),_c=hc=null)}function aT(o){if(o.propertyName==="value"&&Ap(_c)){var l=[];lT(l,_c,o,QC(o)),UP(Dre,l)}}function Nre(o,l,a){o==="focusin"?(lF(),hc=l,_c=a,hc.attachEvent("onpropertychange",aT)):o==="focusout"&&lF()}function Bre(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Ap(_c)}function Fre(o,l){if(o==="click")return Ap(l)}function Pre(o,l){if(o==="input"||o==="change")return Ap(l)}function Tre(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var so=typeof Object.is=="function"?Object.is:Tre;function Nc(o,l){if(so(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var a=Object.keys(o),c=Object.keys(l);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var m=a[c];if(!$v.call(l,m)||!so(o[m],l[m]))return!1}return!0}function iF(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function aF(o,l){var a=iF(o);o=0;for(var c;a;){if(a.nodeType===3){if(c=o+a.textContent.length,o<=l&&c>=l)return{node:a,offset:l-o};o=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=iF(a)}}function uT(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?uT(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function cT(){for(var o=window,l=jm();l instanceof o.HTMLIFrameElement;){try{var a=typeof l.contentWindow.location.href=="string"}catch{a=!1}if(a)o=l.contentWindow;else break;l=jm(o.document)}return l}function sy(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function Rre(o){var l=cT(),a=o.focusedElem,c=o.selectionRange;if(l!==a&&a&&a.ownerDocument&&uT(a.ownerDocument.documentElement,a)){if(c!==null&&sy(a)){if(l=c.start,o=c.end,o===void 0&&(o=l),"selectionStart"in a)a.selectionStart=l,a.selectionEnd=Math.min(o,a.value.length);else if(o=(l=a.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var m=a.textContent.length,p=Math.min(c.start,m);c=c.end===void 0?p:Math.min(c.end,m),!o.extend&&p>c&&(m=c,c=p,p=m),m=aF(a,p);var h=aF(a,c);m&&h&&(o.rangeCount!==1||o.anchorNode!==m.node||o.anchorOffset!==m.offset||o.focusNode!==h.node||o.focusOffset!==h.offset)&&(l=l.createRange(),l.setStart(m.node,m.offset),o.removeAllRanges(),p>c?(o.addRange(l),o.extend(h.node,h.offset)):(l.setEnd(h.node,h.offset),o.addRange(l)))}}for(l=[],o=a;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<l.length;a++)o=l[a],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Ore=Jo&&"documentMode"in document&&11>=document.documentMode,ta=null,rC=null,vc=null,oC=!1;function uF(o,l,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;oC||ta==null||ta!==jm(c)||(c=ta,"selectionStart"in c&&sy(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),vc&&Nc(vc,c)||(vc=c,c=Ym(rC,"onSelect"),0<c.length&&(l=new ny("onSelect","select",null,l,a),o.push({event:l,listeners:c}),l.target=ta)))}function Em(o,l){var a={};return a[o.toLowerCase()]=l.toLowerCase(),a["Webkit"+o]="webkit"+l,a["Moz"+o]="moz"+l,a}var na={animationend:Em("Animation","AnimationEnd"),animationiteration:Em("Animation","AnimationIteration"),animationstart:Em("Animation","AnimationStart"),transitionend:Em("Transition","TransitionEnd")},vv={},fT={};Jo&&(fT=document.createElement("div").style,"AnimationEvent"in window||(delete na.animationend.animation,delete na.animationiteration.animation,delete na.animationstart.animation),"TransitionEvent"in window||delete na.transitionend.transition);function Sp(o){if(vv[o])return vv[o];if(!na[o])return o;var l=na[o],a;for(a in l)if(l.hasOwnProperty(a)&&a in fT)return vv[o]=l[a];return o}var dT=Sp("animationend"),mT=Sp("animationiteration"),pT=Sp("animationstart"),gT=Sp("transitionend"),hT=new Map,cF="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ys(o,l){hT.set(o,l),ni(l,[o])}for(var Cv=0;Cv<cF.length;Cv++){var yv=cF[Cv],Ire=yv.toLowerCase(),Lre=yv[0].toUpperCase()+yv.slice(1);Ys(Ire,"on"+Lre)}Ys(dT,"onAnimationEnd");Ys(mT,"onAnimationIteration");Ys(pT,"onAnimationStart");Ys("dblclick","onDoubleClick");Ys("focusin","onFocus");Ys("focusout","onBlur");Ys(gT,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ni("onBeforeInput",["compositionend","keypress","textInput","paste"]);ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$re=new Set("cancel close invalid load scroll toggle".split(" ").concat(dc));function fF(o,l,a){var c=o.type||"unknown-event";o.currentTarget=a,Ine(c,l,void 0,o),o.currentTarget=null}function vT(o,l){l=(l&4)!==0;for(var a=0;a<o.length;a++){var c=o[a],m=c.event;c=c.listeners;e:{var p=void 0;if(l)for(var h=c.length-1;0<=h;h--){var b=c[h],A=b.instance,_=b.currentTarget;if(b=b.listener,A!==p&&m.isPropagationStopped())break e;fF(m,b,_),p=A}else for(h=0;h<c.length;h++){if(b=c[h],A=b.instance,_=b.currentTarget,b=b.listener,A!==p&&m.isPropagationStopped())break e;fF(m,b,_),p=A}}}if(Vm)throw o=Jv,Vm=!1,Jv=null,o}function _t(o,l){var a=l[uC];a===void 0&&(a=l[uC]=new Set);var c=o+"__bubble";a.has(c)||(CT(l,o,2,!1),a.add(c))}function Ev(o,l,a){var c=0;l&&(c|=4),CT(a,o,c,l)}var bm="_reactListening"+Math.random().toString(36).slice(2);function Bc(o){if(!o[bm]){o[bm]=!0,xP.forEach(function(a){a!=="selectionchange"&&($re.has(a)||Ev(a,!1,o),Ev(a,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[bm]||(l[bm]=!0,Ev("selectionchange",!1,l))}}function CT(o,l,a,c){switch(tT(l)){case 1:var m=Zne;break;case 4:m=Jne;break;default:m=ey}a=m.bind(null,l,a,o),m=void 0,!Zv||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(m=!0),c?m!==void 0?o.addEventListener(l,a,{capture:!0,passive:m}):o.addEventListener(l,a,!0):m!==void 0?o.addEventListener(l,a,{passive:m}):o.addEventListener(l,a,!1)}function bv(o,l,a,c,m){var p=c;if(!(l&1)&&!(l&2)&&c!==null)e:for(;;){if(c===null)return;var h=c.tag;if(h===3||h===4){var b=c.stateNode.containerInfo;if(b===m||b.nodeType===8&&b.parentNode===m)break;if(h===4)for(h=c.return;h!==null;){var A=h.tag;if((A===3||A===4)&&(A=h.stateNode.containerInfo,A===m||A.nodeType===8&&A.parentNode===m))return;h=h.return}for(;b!==null;){if(h=Wl(b),h===null)return;if(A=h.tag,A===5||A===6){c=p=h;continue e}b=b.parentNode}}c=c.return}UP(function(){var _=p,O=QC(a),I=[];e:{var z=hT.get(o);if(z!==void 0){var Q=ny,oe=o;switch(o){case"keypress":if(Rm(a)===0)break e;case"keydown":case"keyup":Q=pre;break;case"focusin":oe="focus",Q=pv;break;case"focusout":oe="blur",Q=pv;break;case"beforeblur":case"afterblur":Q=pv;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=JB;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=nre;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=vre;break;case dT:case mT:case pT:Q=sre;break;case gT:Q=yre;break;case"scroll":Q=ere;break;case"wheel":Q=bre;break;case"copy":case"cut":case"paste":Q=ire;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=tF}var X=(l&4)!==0,ke=!X&&o==="scroll",R=X?z!==null?z+"Capture":null:z;X=[];for(var B=_,N;B!==null;){N=B;var G=N.stateNode;if(N.tag===5&&G!==null&&(N=G,R!==null&&(G=wc(B,R),G!=null&&X.push(Fc(B,G,N)))),ke)break;B=B.return}0<X.length&&(z=new Q(z,oe,null,a,O),I.push({event:z,listeners:X}))}}if(!(l&7)){e:{if(z=o==="mouseover"||o==="pointerover",Q=o==="mouseout"||o==="pointerout",z&&a!==Qv&&(oe=a.relatedTarget||a.fromElement)&&(Wl(oe)||oe[es]))break e;if((Q||z)&&(z=O.window===O?O:(z=O.ownerDocument)?z.defaultView||z.parentWindow:window,Q?(oe=a.relatedTarget||a.toElement,Q=_,oe=oe?Wl(oe):null,oe!==null&&(ke=ri(oe),oe!==ke||oe.tag!==5&&oe.tag!==6)&&(oe=null)):(Q=null,oe=_),Q!==oe)){if(X=JB,G="onMouseLeave",R="onMouseEnter",B="mouse",(o==="pointerout"||o==="pointerover")&&(X=tF,G="onPointerLeave",R="onPointerEnter",B="pointer"),ke=Q==null?z:ra(Q),N=oe==null?z:ra(oe),z=new X(G,B+"leave",Q,a,O),z.target=ke,z.relatedTarget=N,G=null,Wl(O)===_&&(X=new X(R,B+"enter",oe,a,O),X.target=N,X.relatedTarget=ke,G=X),ke=G,Q&&oe)t:{for(X=Q,R=oe,B=0,N=X;N;N=Qi(N))B++;for(N=0,G=R;G;G=Qi(G))N++;for(;0<B-N;)X=Qi(X),B--;for(;0<N-B;)R=Qi(R),N--;for(;B--;){if(X===R||R!==null&&X===R.alternate)break t;X=Qi(X),R=Qi(R)}X=null}else X=null;Q!==null&&dF(I,z,Q,X,!1),oe!==null&&ke!==null&&dF(I,ke,oe,X,!0)}}e:{if(z=_?ra(_):window,Q=z.nodeName&&z.nodeName.toLowerCase(),Q==="select"||Q==="input"&&z.type==="file")var xe=_re;else if(oF(z))if(iT)xe=Pre;else{xe=Bre;var Se=Nre}else(Q=z.nodeName)&&Q.toLowerCase()==="input"&&(z.type==="checkbox"||z.type==="radio")&&(xe=Fre);if(xe&&(xe=xe(o,_))){lT(I,xe,a,O);break e}Se&&Se(o,z,_),o==="focusout"&&(Se=z._wrapperState)&&Se.controlled&&z.type==="number"&&Wv(z,"number",z.value)}switch(Se=_?ra(_):window,o){case"focusin":(oF(Se)||Se.contentEditable==="true")&&(ta=Se,rC=_,vc=null);break;case"focusout":vc=rC=ta=null;break;case"mousedown":oC=!0;break;case"contextmenu":case"mouseup":case"dragend":oC=!1,uF(I,a,O);break;case"selectionchange":if(Ore)break;case"keydown":case"keyup":uF(I,a,O)}var De;if(oy)e:{switch(o){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else ea?oT(o,a)&&(_e="onCompositionEnd"):o==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(rT&&a.locale!=="ko"&&(ea||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&ea&&(De=nT()):(Rs=O,ty="value"in Rs?Rs.value:Rs.textContent,ea=!0)),Se=Ym(_,_e),0<Se.length&&(_e=new eF(_e,o,null,a,O),I.push({event:_e,listeners:Se}),De?_e.data=De:(De=sT(a),De!==null&&(_e.data=De)))),(De=Sre?wre(o,a):xre(o,a))&&(_=Ym(_,"onBeforeInput"),0<_.length&&(O=new eF("onBeforeInput","beforeinput",null,a,O),I.push({event:O,listeners:_}),O.data=De))}vT(I,l)})}function Fc(o,l,a){return{instance:o,listener:l,currentTarget:a}}function Ym(o,l){for(var a=l+"Capture",c=[];o!==null;){var m=o,p=m.stateNode;m.tag===5&&p!==null&&(m=p,p=wc(o,a),p!=null&&c.unshift(Fc(o,p,m)),p=wc(o,l),p!=null&&c.push(Fc(o,p,m))),o=o.return}return c}function Qi(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function dF(o,l,a,c,m){for(var p=l._reactName,h=[];a!==null&&a!==c;){var b=a,A=b.alternate,_=b.stateNode;if(A!==null&&A===c)break;b.tag===5&&_!==null&&(b=_,m?(A=wc(a,p),A!=null&&h.unshift(Fc(a,A,b))):m||(A=wc(a,p),A!=null&&h.push(Fc(a,A,b)))),a=a.return}h.length!==0&&o.push({event:l,listeners:h})}var Mre=/\r\n?/g,zre=/\u0000|\uFFFD/g;function mF(o){return(typeof o=="string"?o:""+o).replace(Mre,`
`).replace(zre,"")}function Am(o,l,a){if(l=mF(l),mF(o)!==l&&a)throw Error(ve(425))}function Qm(){}var sC=null,lC=null;function iC(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var aC=typeof setTimeout=="function"?setTimeout:void 0,Ure=typeof clearTimeout=="function"?clearTimeout:void 0,pF=typeof Promise=="function"?Promise:void 0,jre=typeof queueMicrotask=="function"?queueMicrotask:typeof pF<"u"?function(o){return pF.resolve(null).then(o).catch(Hre)}:aC;function Hre(o){setTimeout(function(){throw o})}function Av(o,l){var a=l,c=0;do{var m=a.nextSibling;if(o.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(c===0){o.removeChild(m),Dc(l);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=m}while(a);Dc(l)}function zs(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function gF(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var a=o.data;if(a==="$"||a==="$!"||a==="$?"){if(l===0)return o;l--}else a==="/$"&&l++}o=o.previousSibling}return null}var _a=Math.random().toString(36).slice(2),No="__reactFiber$"+_a,Pc="__reactProps$"+_a,es="__reactContainer$"+_a,uC="__reactEvents$"+_a,Vre="__reactListeners$"+_a,Wre="__reactHandles$"+_a;function Wl(o){var l=o[No];if(l)return l;for(var a=o.parentNode;a;){if(l=a[es]||a[No]){if(a=l.alternate,l.child!==null||a!==null&&a.child!==null)for(o=gF(o);o!==null;){if(a=o[No])return a;o=gF(o)}return l}o=a,a=o.parentNode}return null}function Wc(o){return o=o[No]||o[es],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ra(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(ve(33))}function wp(o){return o[Pc]||null}var cC=[],oa=-1;function Qs(o){return{current:o}}function Nt(o){0>oa||(o.current=cC[oa],cC[oa]=null,oa--)}function xt(o,l){oa++,cC[oa]=o.current,o.current=l}var Gs={},Ln=Qs(Gs),tr=Qs(!1),Xl=Gs;function va(o,l){var a=o.type.contextTypes;if(!a)return Gs;var c=o.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===l)return c.__reactInternalMemoizedMaskedChildContext;var m={},p;for(p in a)m[p]=l[p];return c&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=m),m}function nr(o){return o=o.childContextTypes,o!=null}function Xm(){Nt(tr),Nt(Ln)}function hF(o,l,a){if(Ln.current!==Gs)throw Error(ve(168));xt(Ln,l),xt(tr,a)}function yT(o,l,a){var c=o.stateNode;if(l=l.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var m in c)if(!(m in l))throw Error(ve(108,Nne(o)||"Unknown",m));return Mt({},a,c)}function Zm(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Gs,Xl=Ln.current,xt(Ln,o),xt(tr,tr.current),!0}function vF(o,l,a){var c=o.stateNode;if(!c)throw Error(ve(169));a?(o=yT(o,l,Xl),c.__reactInternalMemoizedMergedChildContext=o,Nt(tr),Nt(Ln),xt(Ln,o)):Nt(tr),xt(tr,a)}var Yo=null,xp=!1,Sv=!1;function ET(o){Yo===null?Yo=[o]:Yo.push(o)}function Kre(o){xp=!0,ET(o)}function Xs(){if(!Sv&&Yo!==null){Sv=!0;var o=0,l=Ct;try{var a=Yo;for(Ct=1;o<a.length;o++){var c=a[o];do c=c(!0);while(c!==null)}Yo=null,xp=!1}catch(m){throw Yo!==null&&(Yo=Yo.slice(o+1)),WP(XC,Xs),m}finally{Ct=l,Sv=!1}}return null}var sa=[],la=0,Jm=null,ep=0,Pr=[],Tr=0,Zl=null,Qo=1,Xo="";function Hl(o,l){sa[la++]=ep,sa[la++]=Jm,Jm=o,ep=l}function bT(o,l,a){Pr[Tr++]=Qo,Pr[Tr++]=Xo,Pr[Tr++]=Zl,Zl=o;var c=Qo;o=Xo;var m=32-ro(c)-1;c&=~(1<<m),a+=1;var p=32-ro(l)+m;if(30<p){var h=m-m%5;p=(c&(1<<h)-1).toString(32),c>>=h,m-=h,Qo=1<<32-ro(l)+m|a<<m|c,Xo=p+o}else Qo=1<<p|a<<m|c,Xo=o}function ly(o){o.return!==null&&(Hl(o,1),bT(o,1,0))}function iy(o){for(;o===Jm;)Jm=sa[--la],sa[la]=null,ep=sa[--la],sa[la]=null;for(;o===Zl;)Zl=Pr[--Tr],Pr[Tr]=null,Xo=Pr[--Tr],Pr[Tr]=null,Qo=Pr[--Tr],Pr[Tr]=null}var Ar=null,br=null,Rt=!1,no=null;function AT(o,l){var a=Rr(5,null,null,0);a.elementType="DELETED",a.stateNode=l,a.return=o,l=o.deletions,l===null?(o.deletions=[a],o.flags|=16):l.push(a)}function CF(o,l){switch(o.tag){case 5:var a=o.type;return l=l.nodeType!==1||a.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,Ar=o,br=zs(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,Ar=o,br=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(a=Zl!==null?{id:Qo,overflow:Xo}:null,o.memoizedState={dehydrated:l,treeContext:a,retryLane:1073741824},a=Rr(18,null,null,0),a.stateNode=l,a.return=o,o.child=a,Ar=o,br=null,!0):!1;default:return!1}}function fC(o){return(o.mode&1)!==0&&(o.flags&128)===0}function dC(o){if(Rt){var l=br;if(l){var a=l;if(!CF(o,l)){if(fC(o))throw Error(ve(418));l=zs(a.nextSibling);var c=Ar;l&&CF(o,l)?AT(c,a):(o.flags=o.flags&-4097|2,Rt=!1,Ar=o)}}else{if(fC(o))throw Error(ve(418));o.flags=o.flags&-4097|2,Rt=!1,Ar=o}}}function yF(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Ar=o}function Sm(o){if(o!==Ar)return!1;if(!Rt)return yF(o),Rt=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!iC(o.type,o.memoizedProps)),l&&(l=br)){if(fC(o))throw ST(),Error(ve(418));for(;l;)AT(o,l),l=zs(l.nextSibling)}if(yF(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ve(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var a=o.data;if(a==="/$"){if(l===0){br=zs(o.nextSibling);break e}l--}else a!=="$"&&a!=="$!"&&a!=="$?"||l++}o=o.nextSibling}br=null}}else br=Ar?zs(o.stateNode.nextSibling):null;return!0}function ST(){for(var o=br;o;)o=zs(o.nextSibling)}function Ca(){br=Ar=null,Rt=!1}function ay(o){no===null?no=[o]:no.push(o)}var qre=rs.ReactCurrentBatchConfig;function eo(o,l){if(o&&o.defaultProps){l=Mt({},l),o=o.defaultProps;for(var a in o)l[a]===void 0&&(l[a]=o[a]);return l}return l}var tp=Qs(null),np=null,ia=null,uy=null;function cy(){uy=ia=np=null}function fy(o){var l=tp.current;Nt(tp),o._currentValue=l}function mC(o,l,a){for(;o!==null;){var c=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,c!==null&&(c.childLanes|=l)):c!==null&&(c.childLanes&l)!==l&&(c.childLanes|=l),o===a)break;o=o.return}}function pa(o,l){np=o,uy=ia=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&l&&(er=!0),o.firstContext=null)}function Ir(o){var l=o._currentValue;if(uy!==o)if(o={context:o,memoizedValue:l,next:null},ia===null){if(np===null)throw Error(ve(308));ia=o,np.dependencies={lanes:0,firstContext:o}}else ia=ia.next=o;return l}var Kl=null;function dy(o){Kl===null?Kl=[o]:Kl.push(o)}function wT(o,l,a,c){var m=l.interleaved;return m===null?(a.next=a,dy(l)):(a.next=m.next,m.next=a),l.interleaved=a,ts(o,c)}function ts(o,l){o.lanes|=l;var a=o.alternate;for(a!==null&&(a.lanes|=l),a=o,o=o.return;o!==null;)o.childLanes|=l,a=o.alternate,a!==null&&(a.childLanes|=l),a=o,o=o.return;return a.tag===3?a.stateNode:null}var Fs=!1;function my(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xT(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Zo(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function Us(o,l,a){var c=o.updateQueue;if(c===null)return null;if(c=c.shared,ct&2){var m=c.pending;return m===null?l.next=l:(l.next=m.next,m.next=l),c.pending=l,ts(o,a)}return m=c.interleaved,m===null?(l.next=l,dy(c)):(l.next=m.next,m.next=l),c.interleaved=l,ts(o,a)}function Om(o,l,a){if(l=l.updateQueue,l!==null&&(l=l.shared,(a&4194240)!==0)){var c=l.lanes;c&=o.pendingLanes,a|=c,l.lanes=a,ZC(o,a)}}function EF(o,l){var a=o.updateQueue,c=o.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var m=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var h={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};p===null?m=p=h:p=p.next=h,a=a.next}while(a!==null);p===null?m=p=l:p=p.next=l}else m=p=l;a={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:c.shared,effects:c.effects},o.updateQueue=a;return}o=a.lastBaseUpdate,o===null?a.firstBaseUpdate=l:o.next=l,a.lastBaseUpdate=l}function rp(o,l,a,c){var m=o.updateQueue;Fs=!1;var p=m.firstBaseUpdate,h=m.lastBaseUpdate,b=m.shared.pending;if(b!==null){m.shared.pending=null;var A=b,_=A.next;A.next=null,h===null?p=_:h.next=_,h=A;var O=o.alternate;O!==null&&(O=O.updateQueue,b=O.lastBaseUpdate,b!==h&&(b===null?O.firstBaseUpdate=_:b.next=_,O.lastBaseUpdate=A))}if(p!==null){var I=m.baseState;h=0,O=_=A=null,b=p;do{var z=b.lane,Q=b.eventTime;if((c&z)===z){O!==null&&(O=O.next={eventTime:Q,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var oe=o,X=b;switch(z=l,Q=a,X.tag){case 1:if(oe=X.payload,typeof oe=="function"){I=oe.call(Q,I,z);break e}I=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=X.payload,z=typeof oe=="function"?oe.call(Q,I,z):oe,z==null)break e;I=Mt({},I,z);break e;case 2:Fs=!0}}b.callback!==null&&b.lane!==0&&(o.flags|=64,z=m.effects,z===null?m.effects=[b]:z.push(b))}else Q={eventTime:Q,lane:z,tag:b.tag,payload:b.payload,callback:b.callback,next:null},O===null?(_=O=Q,A=I):O=O.next=Q,h|=z;if(b=b.next,b===null){if(b=m.shared.pending,b===null)break;z=b,b=z.next,z.next=null,m.lastBaseUpdate=z,m.shared.pending=null}}while(1);if(O===null&&(A=I),m.baseState=A,m.firstBaseUpdate=_,m.lastBaseUpdate=O,l=m.shared.interleaved,l!==null){m=l;do h|=m.lane,m=m.next;while(m!==l)}else p===null&&(m.shared.lanes=0);ei|=h,o.lanes=h,o.memoizedState=I}}function bF(o,l,a){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var c=o[l],m=c.callback;if(m!==null){if(c.callback=null,c=a,typeof m!="function")throw Error(ve(191,m));m.call(c)}}}var kT=new wP.Component().refs;function pC(o,l,a,c){l=o.memoizedState,a=a(c,l),a=a==null?l:Mt({},l,a),o.memoizedState=a,o.lanes===0&&(o.updateQueue.baseState=a)}var kp={isMounted:function(o){return(o=o._reactInternals)?ri(o)===o:!1},enqueueSetState:function(o,l,a){o=o._reactInternals;var c=Hn(),m=Hs(o),p=Zo(c,m);p.payload=l,a!=null&&(p.callback=a),l=Us(o,p,m),l!==null&&(oo(l,o,m,c),Om(l,o,m))},enqueueReplaceState:function(o,l,a){o=o._reactInternals;var c=Hn(),m=Hs(o),p=Zo(c,m);p.tag=1,p.payload=l,a!=null&&(p.callback=a),l=Us(o,p,m),l!==null&&(oo(l,o,m,c),Om(l,o,m))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var a=Hn(),c=Hs(o),m=Zo(a,c);m.tag=2,l!=null&&(m.callback=l),l=Us(o,m,c),l!==null&&(oo(l,o,c,a),Om(l,o,c))}};function AF(o,l,a,c,m,p,h){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(c,p,h):l.prototype&&l.prototype.isPureReactComponent?!Nc(a,c)||!Nc(m,p):!0}function DT(o,l,a){var c=!1,m=Gs,p=l.contextType;return typeof p=="object"&&p!==null?p=Ir(p):(m=nr(l)?Xl:Ln.current,c=l.contextTypes,p=(c=c!=null)?va(o,m):Gs),l=new l(a,p),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=kp,o.stateNode=l,l._reactInternals=o,c&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=m,o.__reactInternalMemoizedMaskedChildContext=p),l}function SF(o,l,a,c){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(a,c),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(a,c),l.state!==o&&kp.enqueueReplaceState(l,l.state,null)}function gC(o,l,a,c){var m=o.stateNode;m.props=a,m.state=o.memoizedState,m.refs=kT,my(o);var p=l.contextType;typeof p=="object"&&p!==null?m.context=Ir(p):(p=nr(l)?Xl:Ln.current,m.context=va(o,p)),m.state=o.memoizedState,p=l.getDerivedStateFromProps,typeof p=="function"&&(pC(o,l,p,a),m.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(l=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),l!==m.state&&kp.enqueueReplaceState(m,m.state,null),rp(o,a,m,c),m.state=o.memoizedState),typeof m.componentDidMount=="function"&&(o.flags|=4194308)}function sc(o,l,a){if(o=a.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(ve(309));var c=a.stateNode}if(!c)throw Error(ve(147,o));var m=c,p=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===p?l.ref:(l=function(h){var b=m.refs;b===kT&&(b=m.refs={}),h===null?delete b[p]:b[p]=h},l._stringRef=p,l)}if(typeof o!="string")throw Error(ve(284));if(!a._owner)throw Error(ve(290,o))}return o}function wm(o,l){throw o=Object.prototype.toString.call(l),Error(ve(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function wF(o){var l=o._init;return l(o._payload)}function _T(o){function l(R,B){if(o){var N=R.deletions;N===null?(R.deletions=[B],R.flags|=16):N.push(B)}}function a(R,B){if(!o)return null;for(;B!==null;)l(R,B),B=B.sibling;return null}function c(R,B){for(R=new Map;B!==null;)B.key!==null?R.set(B.key,B):R.set(B.index,B),B=B.sibling;return R}function m(R,B){return R=Vs(R,B),R.index=0,R.sibling=null,R}function p(R,B,N){return R.index=N,o?(N=R.alternate,N!==null?(N=N.index,N<B?(R.flags|=2,B):N):(R.flags|=2,B)):(R.flags|=1048576,B)}function h(R){return o&&R.alternate===null&&(R.flags|=2),R}function b(R,B,N,G){return B===null||B.tag!==6?(B=Bv(N,R.mode,G),B.return=R,B):(B=m(B,N),B.return=R,B)}function A(R,B,N,G){var xe=N.type;return xe===Ji?O(R,B,N.props.children,G,N.key):B!==null&&(B.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===Bs&&wF(xe)===B.type)?(G=m(B,N.props),G.ref=sc(R,B,N),G.return=R,G):(G=Um(N.type,N.key,N.props,null,R.mode,G),G.ref=sc(R,B,N),G.return=R,G)}function _(R,B,N,G){return B===null||B.tag!==4||B.stateNode.containerInfo!==N.containerInfo||B.stateNode.implementation!==N.implementation?(B=Fv(N,R.mode,G),B.return=R,B):(B=m(B,N.children||[]),B.return=R,B)}function O(R,B,N,G,xe){return B===null||B.tag!==7?(B=Ql(N,R.mode,G,xe),B.return=R,B):(B=m(B,N),B.return=R,B)}function I(R,B,N){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Bv(""+B,R.mode,N),B.return=R,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case mm:return N=Um(B.type,B.key,B.props,null,R.mode,N),N.ref=sc(R,null,B),N.return=R,N;case Zi:return B=Fv(B,R.mode,N),B.return=R,B;case Bs:var G=B._init;return I(R,G(B._payload),N)}if(cc(B)||ec(B))return B=Ql(B,R.mode,N,null),B.return=R,B;wm(R,B)}return null}function z(R,B,N,G){var xe=B!==null?B.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return xe!==null?null:b(R,B,""+N,G);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case mm:return N.key===xe?A(R,B,N,G):null;case Zi:return N.key===xe?_(R,B,N,G):null;case Bs:return xe=N._init,z(R,B,xe(N._payload),G)}if(cc(N)||ec(N))return xe!==null?null:O(R,B,N,G,null);wm(R,N)}return null}function Q(R,B,N,G,xe){if(typeof G=="string"&&G!==""||typeof G=="number")return R=R.get(N)||null,b(B,R,""+G,xe);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case mm:return R=R.get(G.key===null?N:G.key)||null,A(B,R,G,xe);case Zi:return R=R.get(G.key===null?N:G.key)||null,_(B,R,G,xe);case Bs:var Se=G._init;return Q(R,B,N,Se(G._payload),xe)}if(cc(G)||ec(G))return R=R.get(N)||null,O(B,R,G,xe,null);wm(B,G)}return null}function oe(R,B,N,G){for(var xe=null,Se=null,De=B,_e=B=0,Pe=null;De!==null&&_e<N.length;_e++){De.index>_e?(Pe=De,De=null):Pe=De.sibling;var de=z(R,De,N[_e],G);if(de===null){De===null&&(De=Pe);break}o&&De&&de.alternate===null&&l(R,De),B=p(de,B,_e),Se===null?xe=de:Se.sibling=de,Se=de,De=Pe}if(_e===N.length)return a(R,De),Rt&&Hl(R,_e),xe;if(De===null){for(;_e<N.length;_e++)De=I(R,N[_e],G),De!==null&&(B=p(De,B,_e),Se===null?xe=De:Se.sibling=De,Se=De);return Rt&&Hl(R,_e),xe}for(De=c(R,De);_e<N.length;_e++)Pe=Q(De,R,_e,N[_e],G),Pe!==null&&(o&&Pe.alternate!==null&&De.delete(Pe.key===null?_e:Pe.key),B=p(Pe,B,_e),Se===null?xe=Pe:Se.sibling=Pe,Se=Pe);return o&&De.forEach(function(Z){return l(R,Z)}),Rt&&Hl(R,_e),xe}function X(R,B,N,G){var xe=ec(N);if(typeof xe!="function")throw Error(ve(150));if(N=xe.call(N),N==null)throw Error(ve(151));for(var Se=xe=null,De=B,_e=B=0,Pe=null,de=N.next();De!==null&&!de.done;_e++,de=N.next()){De.index>_e?(Pe=De,De=null):Pe=De.sibling;var Z=z(R,De,de.value,G);if(Z===null){De===null&&(De=Pe);break}o&&De&&Z.alternate===null&&l(R,De),B=p(Z,B,_e),Se===null?xe=Z:Se.sibling=Z,Se=Z,De=Pe}if(de.done)return a(R,De),Rt&&Hl(R,_e),xe;if(De===null){for(;!de.done;_e++,de=N.next())de=I(R,de.value,G),de!==null&&(B=p(de,B,_e),Se===null?xe=de:Se.sibling=de,Se=de);return Rt&&Hl(R,_e),xe}for(De=c(R,De);!de.done;_e++,de=N.next())de=Q(De,R,_e,de.value,G),de!==null&&(o&&de.alternate!==null&&De.delete(de.key===null?_e:de.key),B=p(de,B,_e),Se===null?xe=de:Se.sibling=de,Se=de);return o&&De.forEach(function(je){return l(R,je)}),Rt&&Hl(R,_e),xe}function ke(R,B,N,G){if(typeof N=="object"&&N!==null&&N.type===Ji&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case mm:e:{for(var xe=N.key,Se=B;Se!==null;){if(Se.key===xe){if(xe=N.type,xe===Ji){if(Se.tag===7){a(R,Se.sibling),B=m(Se,N.props.children),B.return=R,R=B;break e}}else if(Se.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===Bs&&wF(xe)===Se.type){a(R,Se.sibling),B=m(Se,N.props),B.ref=sc(R,Se,N),B.return=R,R=B;break e}a(R,Se);break}else l(R,Se);Se=Se.sibling}N.type===Ji?(B=Ql(N.props.children,R.mode,G,N.key),B.return=R,R=B):(G=Um(N.type,N.key,N.props,null,R.mode,G),G.ref=sc(R,B,N),G.return=R,R=G)}return h(R);case Zi:e:{for(Se=N.key;B!==null;){if(B.key===Se)if(B.tag===4&&B.stateNode.containerInfo===N.containerInfo&&B.stateNode.implementation===N.implementation){a(R,B.sibling),B=m(B,N.children||[]),B.return=R,R=B;break e}else{a(R,B);break}else l(R,B);B=B.sibling}B=Fv(N,R.mode,G),B.return=R,R=B}return h(R);case Bs:return Se=N._init,ke(R,B,Se(N._payload),G)}if(cc(N))return oe(R,B,N,G);if(ec(N))return X(R,B,N,G);wm(R,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,B!==null&&B.tag===6?(a(R,B.sibling),B=m(B,N),B.return=R,R=B):(a(R,B),B=Bv(N,R.mode,G),B.return=R,R=B),h(R)):a(R,B)}return ke}var ya=_T(!0),NT=_T(!1),Kc={},Po=Qs(Kc),Tc=Qs(Kc),Rc=Qs(Kc);function ql(o){if(o===Kc)throw Error(ve(174));return o}function py(o,l){switch(xt(Rc,l),xt(Tc,o),xt(Po,Kc),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:qv(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=qv(l,o)}Nt(Po),xt(Po,l)}function Ea(){Nt(Po),Nt(Tc),Nt(Rc)}function BT(o){ql(Rc.current);var l=ql(Po.current),a=qv(l,o.type);l!==a&&(xt(Tc,o),xt(Po,a))}function gy(o){Tc.current===o&&(Nt(Po),Nt(Tc))}var Lt=Qs(0);function op(o){for(var l=o;l!==null;){if(l.tag===13){var a=l.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(l.flags&128)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var wv=[];function hy(){for(var o=0;o<wv.length;o++)wv[o]._workInProgressVersionPrimary=null;wv.length=0}var Im=rs.ReactCurrentDispatcher,xv=rs.ReactCurrentBatchConfig,Jl=0,$t=null,un=null,gn=null,sp=!1,Cc=!1,Oc=0,Gre=0;function Rn(){throw Error(ve(321))}function vy(o,l){if(l===null)return!1;for(var a=0;a<l.length&&a<o.length;a++)if(!so(o[a],l[a]))return!1;return!0}function Cy(o,l,a,c,m,p){if(Jl=p,$t=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Im.current=o===null||o.memoizedState===null?Zre:Jre,o=a(c,m),Cc){p=0;do{if(Cc=!1,Oc=0,25<=p)throw Error(ve(301));p+=1,gn=un=null,l.updateQueue=null,Im.current=eoe,o=a(c,m)}while(Cc)}if(Im.current=lp,l=un!==null&&un.next!==null,Jl=0,gn=un=$t=null,sp=!1,l)throw Error(ve(300));return o}function yy(){var o=Oc!==0;return Oc=0,o}function _o(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?$t.memoizedState=gn=o:gn=gn.next=o,gn}function Lr(){if(un===null){var o=$t.alternate;o=o!==null?o.memoizedState:null}else o=un.next;var l=gn===null?$t.memoizedState:gn.next;if(l!==null)gn=l,un=o;else{if(o===null)throw Error(ve(310));un=o,o={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},gn===null?$t.memoizedState=gn=o:gn=gn.next=o}return gn}function Ic(o,l){return typeof l=="function"?l(o):l}function kv(o){var l=Lr(),a=l.queue;if(a===null)throw Error(ve(311));a.lastRenderedReducer=o;var c=un,m=c.baseQueue,p=a.pending;if(p!==null){if(m!==null){var h=m.next;m.next=p.next,p.next=h}c.baseQueue=m=p,a.pending=null}if(m!==null){p=m.next,c=c.baseState;var b=h=null,A=null,_=p;do{var O=_.lane;if((Jl&O)===O)A!==null&&(A=A.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),c=_.hasEagerState?_.eagerState:o(c,_.action);else{var I={lane:O,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};A===null?(b=A=I,h=c):A=A.next=I,$t.lanes|=O,ei|=O}_=_.next}while(_!==null&&_!==p);A===null?h=c:A.next=b,so(c,l.memoizedState)||(er=!0),l.memoizedState=c,l.baseState=h,l.baseQueue=A,a.lastRenderedState=c}if(o=a.interleaved,o!==null){m=o;do p=m.lane,$t.lanes|=p,ei|=p,m=m.next;while(m!==o)}else m===null&&(a.lanes=0);return[l.memoizedState,a.dispatch]}function Dv(o){var l=Lr(),a=l.queue;if(a===null)throw Error(ve(311));a.lastRenderedReducer=o;var c=a.dispatch,m=a.pending,p=l.memoizedState;if(m!==null){a.pending=null;var h=m=m.next;do p=o(p,h.action),h=h.next;while(h!==m);so(p,l.memoizedState)||(er=!0),l.memoizedState=p,l.baseQueue===null&&(l.baseState=p),a.lastRenderedState=p}return[p,c]}function FT(){}function PT(o,l){var a=$t,c=Lr(),m=l(),p=!so(c.memoizedState,m);if(p&&(c.memoizedState=m,er=!0),c=c.queue,Ey(OT.bind(null,a,c,o),[o]),c.getSnapshot!==l||p||gn!==null&&gn.memoizedState.tag&1){if(a.flags|=2048,Lc(9,RT.bind(null,a,c,m,l),void 0,null),hn===null)throw Error(ve(349));Jl&30||TT(a,l,m)}return m}function TT(o,l,a){o.flags|=16384,o={getSnapshot:l,value:a},l=$t.updateQueue,l===null?(l={lastEffect:null,stores:null},$t.updateQueue=l,l.stores=[o]):(a=l.stores,a===null?l.stores=[o]:a.push(o))}function RT(o,l,a,c){l.value=a,l.getSnapshot=c,IT(l)&&LT(o)}function OT(o,l,a){return a(function(){IT(l)&&LT(o)})}function IT(o){var l=o.getSnapshot;o=o.value;try{var a=l();return!so(o,a)}catch{return!0}}function LT(o){var l=ts(o,1);l!==null&&oo(l,o,1,-1)}function xF(o){var l=_o();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ic,lastRenderedState:o},l.queue=o,o=o.dispatch=Xre.bind(null,$t,o),[l.memoizedState,o]}function Lc(o,l,a,c){return o={tag:o,create:l,destroy:a,deps:c,next:null},l=$t.updateQueue,l===null?(l={lastEffect:null,stores:null},$t.updateQueue=l,l.lastEffect=o.next=o):(a=l.lastEffect,a===null?l.lastEffect=o.next=o:(c=a.next,a.next=o,o.next=c,l.lastEffect=o)),o}function $T(){return Lr().memoizedState}function Lm(o,l,a,c){var m=_o();$t.flags|=o,m.memoizedState=Lc(1|l,a,void 0,c===void 0?null:c)}function Dp(o,l,a,c){var m=Lr();c=c===void 0?null:c;var p=void 0;if(un!==null){var h=un.memoizedState;if(p=h.destroy,c!==null&&vy(c,h.deps)){m.memoizedState=Lc(l,a,p,c);return}}$t.flags|=o,m.memoizedState=Lc(1|l,a,p,c)}function kF(o,l){return Lm(8390656,8,o,l)}function Ey(o,l){return Dp(2048,8,o,l)}function MT(o,l){return Dp(4,2,o,l)}function zT(o,l){return Dp(4,4,o,l)}function UT(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function jT(o,l,a){return a=a!=null?a.concat([o]):null,Dp(4,4,UT.bind(null,l,o),a)}function by(){}function HT(o,l){var a=Lr();l=l===void 0?null:l;var c=a.memoizedState;return c!==null&&l!==null&&vy(l,c[1])?c[0]:(a.memoizedState=[o,l],o)}function VT(o,l){var a=Lr();l=l===void 0?null:l;var c=a.memoizedState;return c!==null&&l!==null&&vy(l,c[1])?c[0]:(o=o(),a.memoizedState=[o,l],o)}function WT(o,l,a){return Jl&21?(so(a,l)||(a=GP(),$t.lanes|=a,ei|=a,o.baseState=!0),l):(o.baseState&&(o.baseState=!1,er=!0),o.memoizedState=a)}function Yre(o,l){var a=Ct;Ct=a!==0&&4>a?a:4,o(!0);var c=xv.transition;xv.transition={};try{o(!1),l()}finally{Ct=a,xv.transition=c}}function KT(){return Lr().memoizedState}function Qre(o,l,a){var c=Hs(o);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},qT(o))GT(l,a);else if(a=wT(o,l,a,c),a!==null){var m=Hn();oo(a,o,c,m),YT(a,l,c)}}function Xre(o,l,a){var c=Hs(o),m={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(qT(o))GT(l,m);else{var p=o.alternate;if(o.lanes===0&&(p===null||p.lanes===0)&&(p=l.lastRenderedReducer,p!==null))try{var h=l.lastRenderedState,b=p(h,a);if(m.hasEagerState=!0,m.eagerState=b,so(b,h)){var A=l.interleaved;A===null?(m.next=m,dy(l)):(m.next=A.next,A.next=m),l.interleaved=m;return}}catch{}finally{}a=wT(o,l,m,c),a!==null&&(m=Hn(),oo(a,o,c,m),YT(a,l,c))}}function qT(o){var l=o.alternate;return o===$t||l!==null&&l===$t}function GT(o,l){Cc=sp=!0;var a=o.pending;a===null?l.next=l:(l.next=a.next,a.next=l),o.pending=l}function YT(o,l,a){if(a&4194240){var c=l.lanes;c&=o.pendingLanes,a|=c,l.lanes=a,ZC(o,a)}}var lp={readContext:Ir,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useInsertionEffect:Rn,useLayoutEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useMutableSource:Rn,useSyncExternalStore:Rn,useId:Rn,unstable_isNewReconciler:!1},Zre={readContext:Ir,useCallback:function(o,l){return _o().memoizedState=[o,l===void 0?null:l],o},useContext:Ir,useEffect:kF,useImperativeHandle:function(o,l,a){return a=a!=null?a.concat([o]):null,Lm(4194308,4,UT.bind(null,l,o),a)},useLayoutEffect:function(o,l){return Lm(4194308,4,o,l)},useInsertionEffect:function(o,l){return Lm(4,2,o,l)},useMemo:function(o,l){var a=_o();return l=l===void 0?null:l,o=o(),a.memoizedState=[o,l],o},useReducer:function(o,l,a){var c=_o();return l=a!==void 0?a(l):l,c.memoizedState=c.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},c.queue=o,o=o.dispatch=Qre.bind(null,$t,o),[c.memoizedState,o]},useRef:function(o){var l=_o();return o={current:o},l.memoizedState=o},useState:xF,useDebugValue:by,useDeferredValue:function(o){return _o().memoizedState=o},useTransition:function(){var o=xF(!1),l=o[0];return o=Yre.bind(null,o[1]),_o().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,a){var c=$t,m=_o();if(Rt){if(a===void 0)throw Error(ve(407));a=a()}else{if(a=l(),hn===null)throw Error(ve(349));Jl&30||TT(c,l,a)}m.memoizedState=a;var p={value:a,getSnapshot:l};return m.queue=p,kF(OT.bind(null,c,p,o),[o]),c.flags|=2048,Lc(9,RT.bind(null,c,p,a,l),void 0,null),a},useId:function(){var o=_o(),l=hn.identifierPrefix;if(Rt){var a=Xo,c=Qo;a=(c&~(1<<32-ro(c)-1)).toString(32)+a,l=":"+l+"R"+a,a=Oc++,0<a&&(l+="H"+a.toString(32)),l+=":"}else a=Gre++,l=":"+l+"r"+a.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},Jre={readContext:Ir,useCallback:HT,useContext:Ir,useEffect:Ey,useImperativeHandle:jT,useInsertionEffect:MT,useLayoutEffect:zT,useMemo:VT,useReducer:kv,useRef:$T,useState:function(){return kv(Ic)},useDebugValue:by,useDeferredValue:function(o){var l=Lr();return WT(l,un.memoizedState,o)},useTransition:function(){var o=kv(Ic)[0],l=Lr().memoizedState;return[o,l]},useMutableSource:FT,useSyncExternalStore:PT,useId:KT,unstable_isNewReconciler:!1},eoe={readContext:Ir,useCallback:HT,useContext:Ir,useEffect:Ey,useImperativeHandle:jT,useInsertionEffect:MT,useLayoutEffect:zT,useMemo:VT,useReducer:Dv,useRef:$T,useState:function(){return Dv(Ic)},useDebugValue:by,useDeferredValue:function(o){var l=Lr();return un===null?l.memoizedState=o:WT(l,un.memoizedState,o)},useTransition:function(){var o=Dv(Ic)[0],l=Lr().memoizedState;return[o,l]},useMutableSource:FT,useSyncExternalStore:PT,useId:KT,unstable_isNewReconciler:!1};function ba(o,l){try{var a="",c=l;do a+=_ne(c),c=c.return;while(c);var m=a}catch(p){m=`
Error generating stack: `+p.message+`
`+p.stack}return{value:o,source:l,stack:m,digest:null}}function _v(o,l,a){return{value:o,source:null,stack:a??null,digest:l??null}}function hC(o,l){try{console.error(l.value)}catch(a){setTimeout(function(){throw a})}}var toe=typeof WeakMap=="function"?WeakMap:Map;function QT(o,l,a){a=Zo(-1,a),a.tag=3,a.payload={element:null};var c=l.value;return a.callback=function(){ap||(ap=!0,kC=c),hC(o,l)},a}function XT(o,l,a){a=Zo(-1,a),a.tag=3;var c=o.type.getDerivedStateFromError;if(typeof c=="function"){var m=l.value;a.payload=function(){return c(m)},a.callback=function(){hC(o,l)}}var p=o.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(a.callback=function(){hC(o,l),typeof c!="function"&&(js===null?js=new Set([this]):js.add(this));var h=l.stack;this.componentDidCatch(l.value,{componentStack:h!==null?h:""})}),a}function DF(o,l,a){var c=o.pingCache;if(c===null){c=o.pingCache=new toe;var m=new Set;c.set(l,m)}else m=c.get(l),m===void 0&&(m=new Set,c.set(l,m));m.has(a)||(m.add(a),o=goe.bind(null,o,l,a),l.then(o,o))}function _F(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function NF(o,l,a,c,m){return o.mode&1?(o.flags|=65536,o.lanes=m,o):(o===l?o.flags|=65536:(o.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(l=Zo(-1,1),l.tag=2,Us(a,l,1))),a.lanes|=1),o)}var noe=rs.ReactCurrentOwner,er=!1;function jn(o,l,a,c){l.child=o===null?NT(l,null,a,c):ya(l,o.child,a,c)}function BF(o,l,a,c,m){a=a.render;var p=l.ref;return pa(l,m),c=Cy(o,l,a,c,p,m),a=yy(),o!==null&&!er?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~m,ns(o,l,m)):(Rt&&a&&ly(l),l.flags|=1,jn(o,l,c,m),l.child)}function FF(o,l,a,c,m){if(o===null){var p=a.type;return typeof p=="function"&&!Ny(p)&&p.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(l.tag=15,l.type=p,ZT(o,l,p,c,m)):(o=Um(a.type,null,c,l,l.mode,m),o.ref=l.ref,o.return=l,l.child=o)}if(p=o.child,!(o.lanes&m)){var h=p.memoizedProps;if(a=a.compare,a=a!==null?a:Nc,a(h,c)&&o.ref===l.ref)return ns(o,l,m)}return l.flags|=1,o=Vs(p,c),o.ref=l.ref,o.return=l,l.child=o}function ZT(o,l,a,c,m){if(o!==null){var p=o.memoizedProps;if(Nc(p,c)&&o.ref===l.ref)if(er=!1,l.pendingProps=c=p,(o.lanes&m)!==0)o.flags&131072&&(er=!0);else return l.lanes=o.lanes,ns(o,l,m)}return vC(o,l,a,c,m)}function JT(o,l,a){var c=l.pendingProps,m=c.children,p=o!==null?o.memoizedState:null;if(c.mode==="hidden")if(!(l.mode&1))l.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(ua,Er),Er|=a;else{if(!(a&1073741824))return o=p!==null?p.baseLanes|a:a,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,xt(ua,Er),Er|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:a,xt(ua,Er),Er|=c}else p!==null?(c=p.baseLanes|a,l.memoizedState=null):c=a,xt(ua,Er),Er|=c;return jn(o,l,m,a),l.child}function eR(o,l){var a=l.ref;(o===null&&a!==null||o!==null&&o.ref!==a)&&(l.flags|=512,l.flags|=2097152)}function vC(o,l,a,c,m){var p=nr(a)?Xl:Ln.current;return p=va(l,p),pa(l,m),a=Cy(o,l,a,c,p,m),c=yy(),o!==null&&!er?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~m,ns(o,l,m)):(Rt&&c&&ly(l),l.flags|=1,jn(o,l,a,m),l.child)}function PF(o,l,a,c,m){if(nr(a)){var p=!0;Zm(l)}else p=!1;if(pa(l,m),l.stateNode===null)$m(o,l),DT(l,a,c),gC(l,a,c,m),c=!0;else if(o===null){var h=l.stateNode,b=l.memoizedProps;h.props=b;var A=h.context,_=a.contextType;typeof _=="object"&&_!==null?_=Ir(_):(_=nr(a)?Xl:Ln.current,_=va(l,_));var O=a.getDerivedStateFromProps,I=typeof O=="function"||typeof h.getSnapshotBeforeUpdate=="function";I||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(b!==c||A!==_)&&SF(l,h,c,_),Fs=!1;var z=l.memoizedState;h.state=z,rp(l,c,h,m),A=l.memoizedState,b!==c||z!==A||tr.current||Fs?(typeof O=="function"&&(pC(l,a,O,c),A=l.memoizedState),(b=Fs||AF(l,a,b,c,z,A,_))?(I||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(l.flags|=4194308)):(typeof h.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=c,l.memoizedState=A),h.props=c,h.state=A,h.context=_,c=b):(typeof h.componentDidMount=="function"&&(l.flags|=4194308),c=!1)}else{h=l.stateNode,xT(o,l),b=l.memoizedProps,_=l.type===l.elementType?b:eo(l.type,b),h.props=_,I=l.pendingProps,z=h.context,A=a.contextType,typeof A=="object"&&A!==null?A=Ir(A):(A=nr(a)?Xl:Ln.current,A=va(l,A));var Q=a.getDerivedStateFromProps;(O=typeof Q=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(b!==I||z!==A)&&SF(l,h,c,A),Fs=!1,z=l.memoizedState,h.state=z,rp(l,c,h,m);var oe=l.memoizedState;b!==I||z!==oe||tr.current||Fs?(typeof Q=="function"&&(pC(l,a,Q,c),oe=l.memoizedState),(_=Fs||AF(l,a,_,c,z,oe,A)||!1)?(O||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(c,oe,A),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(c,oe,A)),typeof h.componentDidUpdate=="function"&&(l.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof h.componentDidUpdate!="function"||b===o.memoizedProps&&z===o.memoizedState||(l.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===o.memoizedProps&&z===o.memoizedState||(l.flags|=1024),l.memoizedProps=c,l.memoizedState=oe),h.props=c,h.state=oe,h.context=A,c=_):(typeof h.componentDidUpdate!="function"||b===o.memoizedProps&&z===o.memoizedState||(l.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===o.memoizedProps&&z===o.memoizedState||(l.flags|=1024),c=!1)}return CC(o,l,a,c,p,m)}function CC(o,l,a,c,m,p){eR(o,l);var h=(l.flags&128)!==0;if(!c&&!h)return m&&vF(l,a,!1),ns(o,l,p);c=l.stateNode,noe.current=l;var b=h&&typeof a.getDerivedStateFromError!="function"?null:c.render();return l.flags|=1,o!==null&&h?(l.child=ya(l,o.child,null,p),l.child=ya(l,null,b,p)):jn(o,l,b,p),l.memoizedState=c.state,m&&vF(l,a,!0),l.child}function tR(o){var l=o.stateNode;l.pendingContext?hF(o,l.pendingContext,l.pendingContext!==l.context):l.context&&hF(o,l.context,!1),py(o,l.containerInfo)}function TF(o,l,a,c,m){return Ca(),ay(m),l.flags|=256,jn(o,l,a,c),l.child}var yC={dehydrated:null,treeContext:null,retryLane:0};function EC(o){return{baseLanes:o,cachePool:null,transitions:null}}function nR(o,l,a){var c=l.pendingProps,m=Lt.current,p=!1,h=(l.flags&128)!==0,b;if((b=h)||(b=o!==null&&o.memoizedState===null?!1:(m&2)!==0),b?(p=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(m|=1),xt(Lt,m&1),o===null)return dC(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(l.mode&1?o.data==="$!"?l.lanes=8:l.lanes=1073741824:l.lanes=1,null):(h=c.children,o=c.fallback,p?(c=l.mode,p=l.child,h={mode:"hidden",children:h},!(c&1)&&p!==null?(p.childLanes=0,p.pendingProps=h):p=Bp(h,c,0,null),o=Ql(o,c,a,null),p.return=l,o.return=l,p.sibling=o,l.child=p,l.child.memoizedState=EC(a),l.memoizedState=yC,o):Ay(l,h));if(m=o.memoizedState,m!==null&&(b=m.dehydrated,b!==null))return roe(o,l,h,c,b,m,a);if(p){p=c.fallback,h=l.mode,m=o.child,b=m.sibling;var A={mode:"hidden",children:c.children};return!(h&1)&&l.child!==m?(c=l.child,c.childLanes=0,c.pendingProps=A,l.deletions=null):(c=Vs(m,A),c.subtreeFlags=m.subtreeFlags&14680064),b!==null?p=Vs(b,p):(p=Ql(p,h,a,null),p.flags|=2),p.return=l,c.return=l,c.sibling=p,l.child=c,c=p,p=l.child,h=o.child.memoizedState,h=h===null?EC(a):{baseLanes:h.baseLanes|a,cachePool:null,transitions:h.transitions},p.memoizedState=h,p.childLanes=o.childLanes&~a,l.memoizedState=yC,c}return p=o.child,o=p.sibling,c=Vs(p,{mode:"visible",children:c.children}),!(l.mode&1)&&(c.lanes=a),c.return=l,c.sibling=null,o!==null&&(a=l.deletions,a===null?(l.deletions=[o],l.flags|=16):a.push(o)),l.child=c,l.memoizedState=null,c}function Ay(o,l){return l=Bp({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function xm(o,l,a,c){return c!==null&&ay(c),ya(l,o.child,null,a),o=Ay(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function roe(o,l,a,c,m,p,h){if(a)return l.flags&256?(l.flags&=-257,c=_v(Error(ve(422))),xm(o,l,h,c)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(p=c.fallback,m=l.mode,c=Bp({mode:"visible",children:c.children},m,0,null),p=Ql(p,m,h,null),p.flags|=2,c.return=l,p.return=l,c.sibling=p,l.child=c,l.mode&1&&ya(l,o.child,null,h),l.child.memoizedState=EC(h),l.memoizedState=yC,p);if(!(l.mode&1))return xm(o,l,h,null);if(m.data==="$!"){if(c=m.nextSibling&&m.nextSibling.dataset,c)var b=c.dgst;return c=b,p=Error(ve(419)),c=_v(p,c,void 0),xm(o,l,h,c)}if(b=(h&o.childLanes)!==0,er||b){if(c=hn,c!==null){switch(h&-h){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(c.suspendedLanes|h)?0:m,m!==0&&m!==p.retryLane&&(p.retryLane=m,ts(o,m),oo(c,o,m,-1))}return _y(),c=_v(Error(ve(421))),xm(o,l,h,c)}return m.data==="$?"?(l.flags|=128,l.child=o.child,l=hoe.bind(null,o),m._reactRetry=l,null):(o=p.treeContext,br=zs(m.nextSibling),Ar=l,Rt=!0,no=null,o!==null&&(Pr[Tr++]=Qo,Pr[Tr++]=Xo,Pr[Tr++]=Zl,Qo=o.id,Xo=o.overflow,Zl=l),l=Ay(l,c.children),l.flags|=4096,l)}function RF(o,l,a){o.lanes|=l;var c=o.alternate;c!==null&&(c.lanes|=l),mC(o.return,l,a)}function Nv(o,l,a,c,m){var p=o.memoizedState;p===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:m}:(p.isBackwards=l,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=a,p.tailMode=m)}function rR(o,l,a){var c=l.pendingProps,m=c.revealOrder,p=c.tail;if(jn(o,l,c.children,a),c=Lt.current,c&2)c=c&1|2,l.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&RF(o,a,l);else if(o.tag===19)RF(o,a,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}c&=1}if(xt(Lt,c),!(l.mode&1))l.memoizedState=null;else switch(m){case"forwards":for(a=l.child,m=null;a!==null;)o=a.alternate,o!==null&&op(o)===null&&(m=a),a=a.sibling;a=m,a===null?(m=l.child,l.child=null):(m=a.sibling,a.sibling=null),Nv(l,!1,m,a,p);break;case"backwards":for(a=null,m=l.child,l.child=null;m!==null;){if(o=m.alternate,o!==null&&op(o)===null){l.child=m;break}o=m.sibling,m.sibling=a,a=m,m=o}Nv(l,!0,a,null,p);break;case"together":Nv(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function $m(o,l){!(l.mode&1)&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function ns(o,l,a){if(o!==null&&(l.dependencies=o.dependencies),ei|=l.lanes,!(a&l.childLanes))return null;if(o!==null&&l.child!==o.child)throw Error(ve(153));if(l.child!==null){for(o=l.child,a=Vs(o,o.pendingProps),l.child=a,a.return=l;o.sibling!==null;)o=o.sibling,a=a.sibling=Vs(o,o.pendingProps),a.return=l;a.sibling=null}return l.child}function ooe(o,l,a){switch(l.tag){case 3:tR(l),Ca();break;case 5:BT(l);break;case 1:nr(l.type)&&Zm(l);break;case 4:py(l,l.stateNode.containerInfo);break;case 10:var c=l.type._context,m=l.memoizedProps.value;xt(tp,c._currentValue),c._currentValue=m;break;case 13:if(c=l.memoizedState,c!==null)return c.dehydrated!==null?(xt(Lt,Lt.current&1),l.flags|=128,null):a&l.child.childLanes?nR(o,l,a):(xt(Lt,Lt.current&1),o=ns(o,l,a),o!==null?o.sibling:null);xt(Lt,Lt.current&1);break;case 19:if(c=(a&l.childLanes)!==0,o.flags&128){if(c)return rR(o,l,a);l.flags|=128}if(m=l.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),xt(Lt,Lt.current),c)break;return null;case 22:case 23:return l.lanes=0,JT(o,l,a)}return ns(o,l,a)}var oR,bC,sR,lR;oR=function(o,l){for(var a=l.child;a!==null;){if(a.tag===5||a.tag===6)o.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break;for(;a.sibling===null;){if(a.return===null||a.return===l)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};bC=function(){};sR=function(o,l,a,c){var m=o.memoizedProps;if(m!==c){o=l.stateNode,ql(Po.current);var p=null;switch(a){case"input":m=Hv(o,m),c=Hv(o,c),p=[];break;case"select":m=Mt({},m,{value:void 0}),c=Mt({},c,{value:void 0}),p=[];break;case"textarea":m=Kv(o,m),c=Kv(o,c),p=[];break;default:typeof m.onClick!="function"&&typeof c.onClick=="function"&&(o.onclick=Qm)}Gv(a,c);var h;a=null;for(_ in m)if(!c.hasOwnProperty(_)&&m.hasOwnProperty(_)&&m[_]!=null)if(_==="style"){var b=m[_];for(h in b)b.hasOwnProperty(h)&&(a||(a={}),a[h]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(Ac.hasOwnProperty(_)?p||(p=[]):(p=p||[]).push(_,null));for(_ in c){var A=c[_];if(b=m!=null?m[_]:void 0,c.hasOwnProperty(_)&&A!==b&&(A!=null||b!=null))if(_==="style")if(b){for(h in b)!b.hasOwnProperty(h)||A&&A.hasOwnProperty(h)||(a||(a={}),a[h]="");for(h in A)A.hasOwnProperty(h)&&b[h]!==A[h]&&(a||(a={}),a[h]=A[h])}else a||(p||(p=[]),p.push(_,a)),a=A;else _==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,b=b?b.__html:void 0,A!=null&&b!==A&&(p=p||[]).push(_,A)):_==="children"?typeof A!="string"&&typeof A!="number"||(p=p||[]).push(_,""+A):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(Ac.hasOwnProperty(_)?(A!=null&&_==="onScroll"&&_t("scroll",o),p||b===A||(p=[])):(p=p||[]).push(_,A))}a&&(p=p||[]).push("style",a);var _=p;(l.updateQueue=_)&&(l.flags|=4)}};lR=function(o,l,a,c){a!==c&&(l.flags|=4)};function lc(o,l){if(!Rt)switch(o.tailMode){case"hidden":l=o.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?o.tail=null:a.sibling=null;break;case"collapsed":a=o.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:c.sibling=null}}function On(o){var l=o.alternate!==null&&o.alternate.child===o.child,a=0,c=0;if(l)for(var m=o.child;m!==null;)a|=m.lanes|m.childLanes,c|=m.subtreeFlags&14680064,c|=m.flags&14680064,m.return=o,m=m.sibling;else for(m=o.child;m!==null;)a|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=o,m=m.sibling;return o.subtreeFlags|=c,o.childLanes=a,l}function soe(o,l,a){var c=l.pendingProps;switch(iy(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return On(l),null;case 1:return nr(l.type)&&Xm(),On(l),null;case 3:return c=l.stateNode,Ea(),Nt(tr),Nt(Ln),hy(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(o===null||o.child===null)&&(Sm(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&!(l.flags&256)||(l.flags|=1024,no!==null&&(NC(no),no=null))),bC(o,l),On(l),null;case 5:gy(l);var m=ql(Rc.current);if(a=l.type,o!==null&&l.stateNode!=null)sR(o,l,a,c,m),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!c){if(l.stateNode===null)throw Error(ve(166));return On(l),null}if(o=ql(Po.current),Sm(l)){c=l.stateNode,a=l.type;var p=l.memoizedProps;switch(c[No]=l,c[Pc]=p,o=(l.mode&1)!==0,a){case"dialog":_t("cancel",c),_t("close",c);break;case"iframe":case"object":case"embed":_t("load",c);break;case"video":case"audio":for(m=0;m<dc.length;m++)_t(dc[m],c);break;case"source":_t("error",c);break;case"img":case"image":case"link":_t("error",c),_t("load",c);break;case"details":_t("toggle",c);break;case"input":HB(c,p),_t("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},_t("invalid",c);break;case"textarea":WB(c,p),_t("invalid",c)}Gv(a,p),m=null;for(var h in p)if(p.hasOwnProperty(h)){var b=p[h];h==="children"?typeof b=="string"?c.textContent!==b&&(p.suppressHydrationWarning!==!0&&Am(c.textContent,b,o),m=["children",b]):typeof b=="number"&&c.textContent!==""+b&&(p.suppressHydrationWarning!==!0&&Am(c.textContent,b,o),m=["children",""+b]):Ac.hasOwnProperty(h)&&b!=null&&h==="onScroll"&&_t("scroll",c)}switch(a){case"input":pm(c),VB(c,p,!0);break;case"textarea":pm(c),KB(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=Qm)}c=m,l.updateQueue=c,c!==null&&(l.flags|=4)}else{h=m.nodeType===9?m:m.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=TP(a)),o==="http://www.w3.org/1999/xhtml"?a==="script"?(o=h.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof c.is=="string"?o=h.createElement(a,{is:c.is}):(o=h.createElement(a),a==="select"&&(h=o,c.multiple?h.multiple=!0:c.size&&(h.size=c.size))):o=h.createElementNS(o,a),o[No]=l,o[Pc]=c,oR(o,l,!1,!1),l.stateNode=o;e:{switch(h=Yv(a,c),a){case"dialog":_t("cancel",o),_t("close",o),m=c;break;case"iframe":case"object":case"embed":_t("load",o),m=c;break;case"video":case"audio":for(m=0;m<dc.length;m++)_t(dc[m],o);m=c;break;case"source":_t("error",o),m=c;break;case"img":case"image":case"link":_t("error",o),_t("load",o),m=c;break;case"details":_t("toggle",o),m=c;break;case"input":HB(o,c),m=Hv(o,c),_t("invalid",o);break;case"option":m=c;break;case"select":o._wrapperState={wasMultiple:!!c.multiple},m=Mt({},c,{value:void 0}),_t("invalid",o);break;case"textarea":WB(o,c),m=Kv(o,c),_t("invalid",o);break;default:m=c}Gv(a,m),b=m;for(p in b)if(b.hasOwnProperty(p)){var A=b[p];p==="style"?IP(o,A):p==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&RP(o,A)):p==="children"?typeof A=="string"?(a!=="textarea"||A!=="")&&Sc(o,A):typeof A=="number"&&Sc(o,""+A):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(Ac.hasOwnProperty(p)?A!=null&&p==="onScroll"&&_t("scroll",o):A!=null&&KC(o,p,A,h))}switch(a){case"input":pm(o),VB(o,c,!1);break;case"textarea":pm(o),KB(o);break;case"option":c.value!=null&&o.setAttribute("value",""+qs(c.value));break;case"select":o.multiple=!!c.multiple,p=c.value,p!=null?ca(o,!!c.multiple,p,!1):c.defaultValue!=null&&ca(o,!!c.multiple,c.defaultValue,!0);break;default:typeof m.onClick=="function"&&(o.onclick=Qm)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return On(l),null;case 6:if(o&&l.stateNode!=null)lR(o,l,o.memoizedProps,c);else{if(typeof c!="string"&&l.stateNode===null)throw Error(ve(166));if(a=ql(Rc.current),ql(Po.current),Sm(l)){if(c=l.stateNode,a=l.memoizedProps,c[No]=l,(p=c.nodeValue!==a)&&(o=Ar,o!==null))switch(o.tag){case 3:Am(c.nodeValue,a,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Am(c.nodeValue,a,(o.mode&1)!==0)}p&&(l.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[No]=l,l.stateNode=c}return On(l),null;case 13:if(Nt(Lt),c=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Rt&&br!==null&&l.mode&1&&!(l.flags&128))ST(),Ca(),l.flags|=98560,p=!1;else if(p=Sm(l),c!==null&&c.dehydrated!==null){if(o===null){if(!p)throw Error(ve(318));if(p=l.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(ve(317));p[No]=l}else Ca(),!(l.flags&128)&&(l.memoizedState=null),l.flags|=4;On(l),p=!1}else no!==null&&(NC(no),no=null),p=!0;if(!p)return l.flags&65536?l:null}return l.flags&128?(l.lanes=a,l):(c=c!==null,c!==(o!==null&&o.memoizedState!==null)&&c&&(l.child.flags|=8192,l.mode&1&&(o===null||Lt.current&1?cn===0&&(cn=3):_y())),l.updateQueue!==null&&(l.flags|=4),On(l),null);case 4:return Ea(),bC(o,l),o===null&&Bc(l.stateNode.containerInfo),On(l),null;case 10:return fy(l.type._context),On(l),null;case 17:return nr(l.type)&&Xm(),On(l),null;case 19:if(Nt(Lt),p=l.memoizedState,p===null)return On(l),null;if(c=(l.flags&128)!==0,h=p.rendering,h===null)if(c)lc(p,!1);else{if(cn!==0||o!==null&&o.flags&128)for(o=l.child;o!==null;){if(h=op(o),h!==null){for(l.flags|=128,lc(p,!1),c=h.updateQueue,c!==null&&(l.updateQueue=c,l.flags|=4),l.subtreeFlags=0,c=a,a=l.child;a!==null;)p=a,o=c,p.flags&=14680066,h=p.alternate,h===null?(p.childLanes=0,p.lanes=o,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=h.childLanes,p.lanes=h.lanes,p.child=h.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=h.memoizedProps,p.memoizedState=h.memoizedState,p.updateQueue=h.updateQueue,p.type=h.type,o=h.dependencies,p.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a=a.sibling;return xt(Lt,Lt.current&1|2),l.child}o=o.sibling}p.tail!==null&&Yt()>Aa&&(l.flags|=128,c=!0,lc(p,!1),l.lanes=4194304)}else{if(!c)if(o=op(h),o!==null){if(l.flags|=128,c=!0,a=o.updateQueue,a!==null&&(l.updateQueue=a,l.flags|=4),lc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!h.alternate&&!Rt)return On(l),null}else 2*Yt()-p.renderingStartTime>Aa&&a!==1073741824&&(l.flags|=128,c=!0,lc(p,!1),l.lanes=4194304);p.isBackwards?(h.sibling=l.child,l.child=h):(a=p.last,a!==null?a.sibling=h:l.child=h,p.last=h)}return p.tail!==null?(l=p.tail,p.rendering=l,p.tail=l.sibling,p.renderingStartTime=Yt(),l.sibling=null,a=Lt.current,xt(Lt,c?a&1|2:a&1),l):(On(l),null);case 22:case 23:return Dy(),c=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==c&&(l.flags|=8192),c&&l.mode&1?Er&1073741824&&(On(l),l.subtreeFlags&6&&(l.flags|=8192)):On(l),null;case 24:return null;case 25:return null}throw Error(ve(156,l.tag))}function loe(o,l){switch(iy(l),l.tag){case 1:return nr(l.type)&&Xm(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Ea(),Nt(tr),Nt(Ln),hy(),o=l.flags,o&65536&&!(o&128)?(l.flags=o&-65537|128,l):null;case 5:return gy(l),null;case 13:if(Nt(Lt),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(ve(340));Ca()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return Nt(Lt),null;case 4:return Ea(),null;case 10:return fy(l.type._context),null;case 22:case 23:return Dy(),null;case 24:return null;default:return null}}var km=!1,In=!1,ioe=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function aa(o,l){var a=o.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){Vt(o,l,c)}else a.current=null}function AC(o,l,a){try{a()}catch(c){Vt(o,l,c)}}var OF=!1;function aoe(o,l){if(sC=qm,o=cT(),sy(o)){if("selectionStart"in o)var a={start:o.selectionStart,end:o.selectionEnd};else e:{a=(a=o.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var m=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var h=0,b=-1,A=-1,_=0,O=0,I=o,z=null;t:for(;;){for(var Q;I!==a||m!==0&&I.nodeType!==3||(b=h+m),I!==p||c!==0&&I.nodeType!==3||(A=h+c),I.nodeType===3&&(h+=I.nodeValue.length),(Q=I.firstChild)!==null;)z=I,I=Q;for(;;){if(I===o)break t;if(z===a&&++_===m&&(b=h),z===p&&++O===c&&(A=h),(Q=I.nextSibling)!==null)break;I=z,z=I.parentNode}I=Q}a=b===-1||A===-1?null:{start:b,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(lC={focusedElem:o,selectionRange:a},qm=!1,Oe=l;Oe!==null;)if(l=Oe,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Oe=o;else for(;Oe!==null;){l=Oe;try{var oe=l.alternate;if(l.flags&1024)switch(l.tag){case 0:case 11:case 15:break;case 1:if(oe!==null){var X=oe.memoizedProps,ke=oe.memoizedState,R=l.stateNode,B=R.getSnapshotBeforeUpdate(l.elementType===l.type?X:eo(l.type,X),ke);R.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var N=l.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(G){Vt(l,l.return,G)}if(o=l.sibling,o!==null){o.return=l.return,Oe=o;break}Oe=l.return}return oe=OF,OF=!1,oe}function yc(o,l,a){var c=l.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var m=c=c.next;do{if((m.tag&o)===o){var p=m.destroy;m.destroy=void 0,p!==void 0&&AC(l,a,p)}m=m.next}while(m!==c)}}function _p(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var a=l=l.next;do{if((a.tag&o)===o){var c=a.create;a.destroy=c()}a=a.next}while(a!==l)}}function SC(o){var l=o.ref;if(l!==null){var a=o.stateNode;switch(o.tag){case 5:o=a;break;default:o=a}typeof l=="function"?l(o):l.current=o}}function iR(o){var l=o.alternate;l!==null&&(o.alternate=null,iR(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[No],delete l[Pc],delete l[uC],delete l[Vre],delete l[Wre])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function aR(o){return o.tag===5||o.tag===3||o.tag===4}function IF(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||aR(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function wC(o,l,a){var c=o.tag;if(c===5||c===6)o=o.stateNode,l?a.nodeType===8?a.parentNode.insertBefore(o,l):a.insertBefore(o,l):(a.nodeType===8?(l=a.parentNode,l.insertBefore(o,a)):(l=a,l.appendChild(o)),a=a._reactRootContainer,a!=null||l.onclick!==null||(l.onclick=Qm));else if(c!==4&&(o=o.child,o!==null))for(wC(o,l,a),o=o.sibling;o!==null;)wC(o,l,a),o=o.sibling}function xC(o,l,a){var c=o.tag;if(c===5||c===6)o=o.stateNode,l?a.insertBefore(o,l):a.appendChild(o);else if(c!==4&&(o=o.child,o!==null))for(xC(o,l,a),o=o.sibling;o!==null;)xC(o,l,a),o=o.sibling}var Sn=null,to=!1;function Ns(o,l,a){for(a=a.child;a!==null;)uR(o,l,a),a=a.sibling}function uR(o,l,a){if(Fo&&typeof Fo.onCommitFiberUnmount=="function")try{Fo.onCommitFiberUnmount(Ep,a)}catch{}switch(a.tag){case 5:In||aa(a,l);case 6:var c=Sn,m=to;Sn=null,Ns(o,l,a),Sn=c,to=m,Sn!==null&&(to?(o=Sn,a=a.stateNode,o.nodeType===8?o.parentNode.removeChild(a):o.removeChild(a)):Sn.removeChild(a.stateNode));break;case 18:Sn!==null&&(to?(o=Sn,a=a.stateNode,o.nodeType===8?Av(o.parentNode,a):o.nodeType===1&&Av(o,a),Dc(o)):Av(Sn,a.stateNode));break;case 4:c=Sn,m=to,Sn=a.stateNode.containerInfo,to=!0,Ns(o,l,a),Sn=c,to=m;break;case 0:case 11:case 14:case 15:if(!In&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){m=c=c.next;do{var p=m,h=p.destroy;p=p.tag,h!==void 0&&(p&2||p&4)&&AC(a,l,h),m=m.next}while(m!==c)}Ns(o,l,a);break;case 1:if(!In&&(aa(a,l),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(b){Vt(a,l,b)}Ns(o,l,a);break;case 21:Ns(o,l,a);break;case 22:a.mode&1?(In=(c=In)||a.memoizedState!==null,Ns(o,l,a),In=c):Ns(o,l,a);break;default:Ns(o,l,a)}}function LF(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var a=o.stateNode;a===null&&(a=o.stateNode=new ioe),l.forEach(function(c){var m=voe.bind(null,o,c);a.has(c)||(a.add(c),c.then(m,m))})}}function Jr(o,l){var a=l.deletions;if(a!==null)for(var c=0;c<a.length;c++){var m=a[c];try{var p=o,h=l,b=h;e:for(;b!==null;){switch(b.tag){case 5:Sn=b.stateNode,to=!1;break e;case 3:Sn=b.stateNode.containerInfo,to=!0;break e;case 4:Sn=b.stateNode.containerInfo,to=!0;break e}b=b.return}if(Sn===null)throw Error(ve(160));uR(p,h,m),Sn=null,to=!1;var A=m.alternate;A!==null&&(A.return=null),m.return=null}catch(_){Vt(m,l,_)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)cR(l,o),l=l.sibling}function cR(o,l){var a=o.alternate,c=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Jr(l,o),ko(o),c&4){try{yc(3,o,o.return),_p(3,o)}catch(X){Vt(o,o.return,X)}try{yc(5,o,o.return)}catch(X){Vt(o,o.return,X)}}break;case 1:Jr(l,o),ko(o),c&512&&a!==null&&aa(a,a.return);break;case 5:if(Jr(l,o),ko(o),c&512&&a!==null&&aa(a,a.return),o.flags&32){var m=o.stateNode;try{Sc(m,"")}catch(X){Vt(o,o.return,X)}}if(c&4&&(m=o.stateNode,m!=null)){var p=o.memoizedProps,h=a!==null?a.memoizedProps:p,b=o.type,A=o.updateQueue;if(o.updateQueue=null,A!==null)try{b==="input"&&p.type==="radio"&&p.name!=null&&FP(m,p),Yv(b,h);var _=Yv(b,p);for(h=0;h<A.length;h+=2){var O=A[h],I=A[h+1];O==="style"?IP(m,I):O==="dangerouslySetInnerHTML"?RP(m,I):O==="children"?Sc(m,I):KC(m,O,I,_)}switch(b){case"input":Vv(m,p);break;case"textarea":PP(m,p);break;case"select":var z=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!p.multiple;var Q=p.value;Q!=null?ca(m,!!p.multiple,Q,!1):z!==!!p.multiple&&(p.defaultValue!=null?ca(m,!!p.multiple,p.defaultValue,!0):ca(m,!!p.multiple,p.multiple?[]:"",!1))}m[Pc]=p}catch(X){Vt(o,o.return,X)}}break;case 6:if(Jr(l,o),ko(o),c&4){if(o.stateNode===null)throw Error(ve(162));m=o.stateNode,p=o.memoizedProps;try{m.nodeValue=p}catch(X){Vt(o,o.return,X)}}break;case 3:if(Jr(l,o),ko(o),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Dc(l.containerInfo)}catch(X){Vt(o,o.return,X)}break;case 4:Jr(l,o),ko(o);break;case 13:Jr(l,o),ko(o),m=o.child,m.flags&8192&&(p=m.memoizedState!==null,m.stateNode.isHidden=p,!p||m.alternate!==null&&m.alternate.memoizedState!==null||(xy=Yt())),c&4&&LF(o);break;case 22:if(O=a!==null&&a.memoizedState!==null,o.mode&1?(In=(_=In)||O,Jr(l,o),In=_):Jr(l,o),ko(o),c&8192){if(_=o.memoizedState!==null,(o.stateNode.isHidden=_)&&!O&&o.mode&1)for(Oe=o,O=o.child;O!==null;){for(I=Oe=O;Oe!==null;){switch(z=Oe,Q=z.child,z.tag){case 0:case 11:case 14:case 15:yc(4,z,z.return);break;case 1:aa(z,z.return);var oe=z.stateNode;if(typeof oe.componentWillUnmount=="function"){c=z,a=z.return;try{l=c,oe.props=l.memoizedProps,oe.state=l.memoizedState,oe.componentWillUnmount()}catch(X){Vt(c,a,X)}}break;case 5:aa(z,z.return);break;case 22:if(z.memoizedState!==null){MF(I);continue}}Q!==null?(Q.return=z,Oe=Q):MF(I)}O=O.sibling}e:for(O=null,I=o;;){if(I.tag===5){if(O===null){O=I;try{m=I.stateNode,_?(p=m.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(b=I.stateNode,A=I.memoizedProps.style,h=A!=null&&A.hasOwnProperty("display")?A.display:null,b.style.display=OP("display",h))}catch(X){Vt(o,o.return,X)}}}else if(I.tag===6){if(O===null)try{I.stateNode.nodeValue=_?"":I.memoizedProps}catch(X){Vt(o,o.return,X)}}else if((I.tag!==22&&I.tag!==23||I.memoizedState===null||I===o)&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===o)break e;for(;I.sibling===null;){if(I.return===null||I.return===o)break e;O===I&&(O=null),I=I.return}O===I&&(O=null),I.sibling.return=I.return,I=I.sibling}}break;case 19:Jr(l,o),ko(o),c&4&&LF(o);break;case 21:break;default:Jr(l,o),ko(o)}}function ko(o){var l=o.flags;if(l&2){try{e:{for(var a=o.return;a!==null;){if(aR(a)){var c=a;break e}a=a.return}throw Error(ve(160))}switch(c.tag){case 5:var m=c.stateNode;c.flags&32&&(Sc(m,""),c.flags&=-33);var p=IF(o);xC(o,p,m);break;case 3:case 4:var h=c.stateNode.containerInfo,b=IF(o);wC(o,b,h);break;default:throw Error(ve(161))}}catch(A){Vt(o,o.return,A)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function uoe(o,l,a){Oe=o,fR(o)}function fR(o,l,a){for(var c=(o.mode&1)!==0;Oe!==null;){var m=Oe,p=m.child;if(m.tag===22&&c){var h=m.memoizedState!==null||km;if(!h){var b=m.alternate,A=b!==null&&b.memoizedState!==null||In;b=km;var _=In;if(km=h,(In=A)&&!_)for(Oe=m;Oe!==null;)h=Oe,A=h.child,h.tag===22&&h.memoizedState!==null?zF(m):A!==null?(A.return=h,Oe=A):zF(m);for(;p!==null;)Oe=p,fR(p),p=p.sibling;Oe=m,km=b,In=_}$F(o)}else m.subtreeFlags&8772&&p!==null?(p.return=m,Oe=p):$F(o)}}function $F(o){for(;Oe!==null;){var l=Oe;if(l.flags&8772){var a=l.alternate;try{if(l.flags&8772)switch(l.tag){case 0:case 11:case 15:In||_p(5,l);break;case 1:var c=l.stateNode;if(l.flags&4&&!In)if(a===null)c.componentDidMount();else{var m=l.elementType===l.type?a.memoizedProps:eo(l.type,a.memoizedProps);c.componentDidUpdate(m,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=l.updateQueue;p!==null&&bF(l,p,c);break;case 3:var h=l.updateQueue;if(h!==null){if(a=null,l.child!==null)switch(l.child.tag){case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}bF(l,h,a)}break;case 5:var b=l.stateNode;if(a===null&&l.flags&4){a=b;var A=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&a.focus();break;case"img":A.src&&(a.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var _=l.alternate;if(_!==null){var O=_.memoizedState;if(O!==null){var I=O.dehydrated;I!==null&&Dc(I)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ve(163))}In||l.flags&512&&SC(l)}catch(z){Vt(l,l.return,z)}}if(l===o){Oe=null;break}if(a=l.sibling,a!==null){a.return=l.return,Oe=a;break}Oe=l.return}}function MF(o){for(;Oe!==null;){var l=Oe;if(l===o){Oe=null;break}var a=l.sibling;if(a!==null){a.return=l.return,Oe=a;break}Oe=l.return}}function zF(o){for(;Oe!==null;){var l=Oe;try{switch(l.tag){case 0:case 11:case 15:var a=l.return;try{_p(4,l)}catch(A){Vt(l,a,A)}break;case 1:var c=l.stateNode;if(typeof c.componentDidMount=="function"){var m=l.return;try{c.componentDidMount()}catch(A){Vt(l,m,A)}}var p=l.return;try{SC(l)}catch(A){Vt(l,p,A)}break;case 5:var h=l.return;try{SC(l)}catch(A){Vt(l,h,A)}}}catch(A){Vt(l,l.return,A)}if(l===o){Oe=null;break}var b=l.sibling;if(b!==null){b.return=l.return,Oe=b;break}Oe=l.return}}var coe=Math.ceil,ip=rs.ReactCurrentDispatcher,Sy=rs.ReactCurrentOwner,Or=rs.ReactCurrentBatchConfig,ct=0,hn=null,en=null,wn=0,Er=0,ua=Qs(0),cn=0,$c=null,ei=0,Np=0,wy=0,Ec=null,Jn=null,xy=0,Aa=1/0,Go=null,ap=!1,kC=null,js=null,Dm=!1,Os=null,up=0,bc=0,DC=null,Mm=-1,zm=0;function Hn(){return ct&6?Yt():Mm!==-1?Mm:Mm=Yt()}function Hs(o){return o.mode&1?ct&2&&wn!==0?wn&-wn:qre.transition!==null?(zm===0&&(zm=GP()),zm):(o=Ct,o!==0||(o=window.event,o=o===void 0?16:tT(o.type)),o):1}function oo(o,l,a,c){if(50<bc)throw bc=0,DC=null,Error(ve(185));Hc(o,a,c),(!(ct&2)||o!==hn)&&(o===hn&&(!(ct&2)&&(Np|=a),cn===4&&Ts(o,wn)),rr(o,c),a===1&&ct===0&&!(l.mode&1)&&(Aa=Yt()+500,xp&&Xs()))}function rr(o,l){var a=o.callbackNode;qne(o,l);var c=Km(o,o===hn?wn:0);if(c===0)a!==null&&YB(a),o.callbackNode=null,o.callbackPriority=0;else if(l=c&-c,o.callbackPriority!==l){if(a!=null&&YB(a),l===1)o.tag===0?Kre(UF.bind(null,o)):ET(UF.bind(null,o)),jre(function(){!(ct&6)&&Xs()}),a=null;else{switch(YP(c)){case 1:a=XC;break;case 4:a=KP;break;case 16:a=Wm;break;case 536870912:a=qP;break;default:a=Wm}a=yR(a,dR.bind(null,o))}o.callbackPriority=l,o.callbackNode=a}}function dR(o,l){if(Mm=-1,zm=0,ct&6)throw Error(ve(327));var a=o.callbackNode;if(ga()&&o.callbackNode!==a)return null;var c=Km(o,o===hn?wn:0);if(c===0)return null;if(c&30||c&o.expiredLanes||l)l=cp(o,c);else{l=c;var m=ct;ct|=2;var p=pR();(hn!==o||wn!==l)&&(Go=null,Aa=Yt()+500,Yl(o,l));do try{moe();break}catch(b){mR(o,b)}while(1);cy(),ip.current=p,ct=m,en!==null?l=0:(hn=null,wn=0,l=cn)}if(l!==0){if(l===2&&(m=eC(o),m!==0&&(c=m,l=_C(o,m))),l===1)throw a=$c,Yl(o,0),Ts(o,c),rr(o,Yt()),a;if(l===6)Ts(o,c);else{if(m=o.current.alternate,!(c&30)&&!foe(m)&&(l=cp(o,c),l===2&&(p=eC(o),p!==0&&(c=p,l=_C(o,p))),l===1))throw a=$c,Yl(o,0),Ts(o,c),rr(o,Yt()),a;switch(o.finishedWork=m,o.finishedLanes=c,l){case 0:case 1:throw Error(ve(345));case 2:Vl(o,Jn,Go);break;case 3:if(Ts(o,c),(c&130023424)===c&&(l=xy+500-Yt(),10<l)){if(Km(o,0)!==0)break;if(m=o.suspendedLanes,(m&c)!==c){Hn(),o.pingedLanes|=o.suspendedLanes&m;break}o.timeoutHandle=aC(Vl.bind(null,o,Jn,Go),l);break}Vl(o,Jn,Go);break;case 4:if(Ts(o,c),(c&4194240)===c)break;for(l=o.eventTimes,m=-1;0<c;){var h=31-ro(c);p=1<<h,h=l[h],h>m&&(m=h),c&=~p}if(c=m,c=Yt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*coe(c/1960))-c,10<c){o.timeoutHandle=aC(Vl.bind(null,o,Jn,Go),c);break}Vl(o,Jn,Go);break;case 5:Vl(o,Jn,Go);break;default:throw Error(ve(329))}}}return rr(o,Yt()),o.callbackNode===a?dR.bind(null,o):null}function _C(o,l){var a=Ec;return o.current.memoizedState.isDehydrated&&(Yl(o,l).flags|=256),o=cp(o,l),o!==2&&(l=Jn,Jn=a,l!==null&&NC(l)),o}function NC(o){Jn===null?Jn=o:Jn.push.apply(Jn,o)}function foe(o){for(var l=o;;){if(l.flags&16384){var a=l.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var m=a[c],p=m.getSnapshot;m=m.value;try{if(!so(p(),m))return!1}catch{return!1}}}if(a=l.child,l.subtreeFlags&16384&&a!==null)a.return=l,l=a;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ts(o,l){for(l&=~wy,l&=~Np,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var a=31-ro(l),c=1<<a;o[a]=-1,l&=~c}}function UF(o){if(ct&6)throw Error(ve(327));ga();var l=Km(o,0);if(!(l&1))return rr(o,Yt()),null;var a=cp(o,l);if(o.tag!==0&&a===2){var c=eC(o);c!==0&&(l=c,a=_C(o,c))}if(a===1)throw a=$c,Yl(o,0),Ts(o,l),rr(o,Yt()),a;if(a===6)throw Error(ve(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,Vl(o,Jn,Go),rr(o,Yt()),null}function ky(o,l){var a=ct;ct|=1;try{return o(l)}finally{ct=a,ct===0&&(Aa=Yt()+500,xp&&Xs())}}function ti(o){Os!==null&&Os.tag===0&&!(ct&6)&&ga();var l=ct;ct|=1;var a=Or.transition,c=Ct;try{if(Or.transition=null,Ct=1,o)return o()}finally{Ct=c,Or.transition=a,ct=l,!(ct&6)&&Xs()}}function Dy(){Er=ua.current,Nt(ua)}function Yl(o,l){o.finishedWork=null,o.finishedLanes=0;var a=o.timeoutHandle;if(a!==-1&&(o.timeoutHandle=-1,Ure(a)),en!==null)for(a=en.return;a!==null;){var c=a;switch(iy(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Xm();break;case 3:Ea(),Nt(tr),Nt(Ln),hy();break;case 5:gy(c);break;case 4:Ea();break;case 13:Nt(Lt);break;case 19:Nt(Lt);break;case 10:fy(c.type._context);break;case 22:case 23:Dy()}a=a.return}if(hn=o,en=o=Vs(o.current,null),wn=Er=l,cn=0,$c=null,wy=Np=ei=0,Jn=Ec=null,Kl!==null){for(l=0;l<Kl.length;l++)if(a=Kl[l],c=a.interleaved,c!==null){a.interleaved=null;var m=c.next,p=a.pending;if(p!==null){var h=p.next;p.next=m,c.next=h}a.pending=c}Kl=null}return o}function mR(o,l){do{var a=en;try{if(cy(),Im.current=lp,sp){for(var c=$t.memoizedState;c!==null;){var m=c.queue;m!==null&&(m.pending=null),c=c.next}sp=!1}if(Jl=0,gn=un=$t=null,Cc=!1,Oc=0,Sy.current=null,a===null||a.return===null){cn=1,$c=l,en=null;break}e:{var p=o,h=a.return,b=a,A=l;if(l=wn,b.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var _=A,O=b,I=O.tag;if(!(O.mode&1)&&(I===0||I===11||I===15)){var z=O.alternate;z?(O.updateQueue=z.updateQueue,O.memoizedState=z.memoizedState,O.lanes=z.lanes):(O.updateQueue=null,O.memoizedState=null)}var Q=_F(h);if(Q!==null){Q.flags&=-257,NF(Q,h,b,p,l),Q.mode&1&&DF(p,_,l),l=Q,A=_;var oe=l.updateQueue;if(oe===null){var X=new Set;X.add(A),l.updateQueue=X}else oe.add(A);break e}else{if(!(l&1)){DF(p,_,l),_y();break e}A=Error(ve(426))}}else if(Rt&&b.mode&1){var ke=_F(h);if(ke!==null){!(ke.flags&65536)&&(ke.flags|=256),NF(ke,h,b,p,l),ay(ba(A,b));break e}}p=A=ba(A,b),cn!==4&&(cn=2),Ec===null?Ec=[p]:Ec.push(p),p=h;do{switch(p.tag){case 3:p.flags|=65536,l&=-l,p.lanes|=l;var R=QT(p,A,l);EF(p,R);break e;case 1:b=A;var B=p.type,N=p.stateNode;if(!(p.flags&128)&&(typeof B.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(js===null||!js.has(N)))){p.flags|=65536,l&=-l,p.lanes|=l;var G=XT(p,b,l);EF(p,G);break e}}p=p.return}while(p!==null)}hR(a)}catch(xe){l=xe,en===a&&a!==null&&(en=a=a.return);continue}break}while(1)}function pR(){var o=ip.current;return ip.current=lp,o===null?lp:o}function _y(){(cn===0||cn===3||cn===2)&&(cn=4),hn===null||!(ei&268435455)&&!(Np&268435455)||Ts(hn,wn)}function cp(o,l){var a=ct;ct|=2;var c=pR();(hn!==o||wn!==l)&&(Go=null,Yl(o,l));do try{doe();break}catch(m){mR(o,m)}while(1);if(cy(),ct=a,ip.current=c,en!==null)throw Error(ve(261));return hn=null,wn=0,cn}function doe(){for(;en!==null;)gR(en)}function moe(){for(;en!==null&&!$ne();)gR(en)}function gR(o){var l=CR(o.alternate,o,Er);o.memoizedProps=o.pendingProps,l===null?hR(o):en=l,Sy.current=null}function hR(o){var l=o;do{var a=l.alternate;if(o=l.return,l.flags&32768){if(a=loe(a,l),a!==null){a.flags&=32767,en=a;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{cn=6,en=null;return}}else if(a=soe(a,l,Er),a!==null){en=a;return}if(l=l.sibling,l!==null){en=l;return}en=l=o}while(l!==null);cn===0&&(cn=5)}function Vl(o,l,a){var c=Ct,m=Or.transition;try{Or.transition=null,Ct=1,poe(o,l,a,c)}finally{Or.transition=m,Ct=c}return null}function poe(o,l,a,c){do ga();while(Os!==null);if(ct&6)throw Error(ve(327));a=o.finishedWork;var m=o.finishedLanes;if(a===null)return null;if(o.finishedWork=null,o.finishedLanes=0,a===o.current)throw Error(ve(177));o.callbackNode=null,o.callbackPriority=0;var p=a.lanes|a.childLanes;if(Gne(o,p),o===hn&&(en=hn=null,wn=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Dm||(Dm=!0,yR(Wm,function(){return ga(),null})),p=(a.flags&15990)!==0,a.subtreeFlags&15990||p){p=Or.transition,Or.transition=null;var h=Ct;Ct=1;var b=ct;ct|=4,Sy.current=null,aoe(o,a),cR(a,o),Rre(lC),qm=!!sC,lC=sC=null,o.current=a,uoe(a),Mne(),ct=b,Ct=h,Or.transition=p}else o.current=a;if(Dm&&(Dm=!1,Os=o,up=m),p=o.pendingLanes,p===0&&(js=null),jne(a.stateNode),rr(o,Yt()),l!==null)for(c=o.onRecoverableError,a=0;a<l.length;a++)m=l[a],c(m.value,{componentStack:m.stack,digest:m.digest});if(ap)throw ap=!1,o=kC,kC=null,o;return up&1&&o.tag!==0&&ga(),p=o.pendingLanes,p&1?o===DC?bc++:(bc=0,DC=o):bc=0,Xs(),null}function ga(){if(Os!==null){var o=YP(up),l=Or.transition,a=Ct;try{if(Or.transition=null,Ct=16>o?16:o,Os===null)var c=!1;else{if(o=Os,Os=null,up=0,ct&6)throw Error(ve(331));var m=ct;for(ct|=4,Oe=o.current;Oe!==null;){var p=Oe,h=p.child;if(Oe.flags&16){var b=p.deletions;if(b!==null){for(var A=0;A<b.length;A++){var _=b[A];for(Oe=_;Oe!==null;){var O=Oe;switch(O.tag){case 0:case 11:case 15:yc(8,O,p)}var I=O.child;if(I!==null)I.return=O,Oe=I;else for(;Oe!==null;){O=Oe;var z=O.sibling,Q=O.return;if(iR(O),O===_){Oe=null;break}if(z!==null){z.return=Q,Oe=z;break}Oe=Q}}}var oe=p.alternate;if(oe!==null){var X=oe.child;if(X!==null){oe.child=null;do{var ke=X.sibling;X.sibling=null,X=ke}while(X!==null)}}Oe=p}}if(p.subtreeFlags&2064&&h!==null)h.return=p,Oe=h;else e:for(;Oe!==null;){if(p=Oe,p.flags&2048)switch(p.tag){case 0:case 11:case 15:yc(9,p,p.return)}var R=p.sibling;if(R!==null){R.return=p.return,Oe=R;break e}Oe=p.return}}var B=o.current;for(Oe=B;Oe!==null;){h=Oe;var N=h.child;if(h.subtreeFlags&2064&&N!==null)N.return=h,Oe=N;else e:for(h=B;Oe!==null;){if(b=Oe,b.flags&2048)try{switch(b.tag){case 0:case 11:case 15:_p(9,b)}}catch(xe){Vt(b,b.return,xe)}if(b===h){Oe=null;break e}var G=b.sibling;if(G!==null){G.return=b.return,Oe=G;break e}Oe=b.return}}if(ct=m,Xs(),Fo&&typeof Fo.onPostCommitFiberRoot=="function")try{Fo.onPostCommitFiberRoot(Ep,o)}catch{}c=!0}return c}finally{Ct=a,Or.transition=l}}return!1}function jF(o,l,a){l=ba(a,l),l=QT(o,l,1),o=Us(o,l,1),l=Hn(),o!==null&&(Hc(o,1,l),rr(o,l))}function Vt(o,l,a){if(o.tag===3)jF(o,o,a);else for(;l!==null;){if(l.tag===3){jF(l,o,a);break}else if(l.tag===1){var c=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(js===null||!js.has(c))){o=ba(a,o),o=XT(l,o,1),l=Us(l,o,1),o=Hn(),l!==null&&(Hc(l,1,o),rr(l,o));break}}l=l.return}}function goe(o,l,a){var c=o.pingCache;c!==null&&c.delete(l),l=Hn(),o.pingedLanes|=o.suspendedLanes&a,hn===o&&(wn&a)===a&&(cn===4||cn===3&&(wn&130023424)===wn&&500>Yt()-xy?Yl(o,0):wy|=a),rr(o,l)}function vR(o,l){l===0&&(o.mode&1?(l=vm,vm<<=1,!(vm&130023424)&&(vm=4194304)):l=1);var a=Hn();o=ts(o,l),o!==null&&(Hc(o,l,a),rr(o,a))}function hoe(o){var l=o.memoizedState,a=0;l!==null&&(a=l.retryLane),vR(o,a)}function voe(o,l){var a=0;switch(o.tag){case 13:var c=o.stateNode,m=o.memoizedState;m!==null&&(a=m.retryLane);break;case 19:c=o.stateNode;break;default:throw Error(ve(314))}c!==null&&c.delete(l),vR(o,a)}var CR;CR=function(o,l,a){if(o!==null)if(o.memoizedProps!==l.pendingProps||tr.current)er=!0;else{if(!(o.lanes&a)&&!(l.flags&128))return er=!1,ooe(o,l,a);er=!!(o.flags&131072)}else er=!1,Rt&&l.flags&1048576&&bT(l,ep,l.index);switch(l.lanes=0,l.tag){case 2:var c=l.type;$m(o,l),o=l.pendingProps;var m=va(l,Ln.current);pa(l,a),m=Cy(null,l,c,o,m,a);var p=yy();return l.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,nr(c)?(p=!0,Zm(l)):p=!1,l.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,my(l),m.updater=kp,l.stateNode=m,m._reactInternals=l,gC(l,c,o,a),l=CC(null,l,c,!0,p,a)):(l.tag=0,Rt&&p&&ly(l),jn(null,l,m,a),l=l.child),l;case 16:c=l.elementType;e:{switch($m(o,l),o=l.pendingProps,m=c._init,c=m(c._payload),l.type=c,m=l.tag=yoe(c),o=eo(c,o),m){case 0:l=vC(null,l,c,o,a);break e;case 1:l=PF(null,l,c,o,a);break e;case 11:l=BF(null,l,c,o,a);break e;case 14:l=FF(null,l,c,eo(c.type,o),a);break e}throw Error(ve(306,c,""))}return l;case 0:return c=l.type,m=l.pendingProps,m=l.elementType===c?m:eo(c,m),vC(o,l,c,m,a);case 1:return c=l.type,m=l.pendingProps,m=l.elementType===c?m:eo(c,m),PF(o,l,c,m,a);case 3:e:{if(tR(l),o===null)throw Error(ve(387));c=l.pendingProps,p=l.memoizedState,m=p.element,xT(o,l),rp(l,c,null,a);var h=l.memoizedState;if(c=h.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},l.updateQueue.baseState=p,l.memoizedState=p,l.flags&256){m=ba(Error(ve(423)),l),l=TF(o,l,c,a,m);break e}else if(c!==m){m=ba(Error(ve(424)),l),l=TF(o,l,c,a,m);break e}else for(br=zs(l.stateNode.containerInfo.firstChild),Ar=l,Rt=!0,no=null,a=NT(l,null,c,a),l.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ca(),c===m){l=ns(o,l,a);break e}jn(o,l,c,a)}l=l.child}return l;case 5:return BT(l),o===null&&dC(l),c=l.type,m=l.pendingProps,p=o!==null?o.memoizedProps:null,h=m.children,iC(c,m)?h=null:p!==null&&iC(c,p)&&(l.flags|=32),eR(o,l),jn(o,l,h,a),l.child;case 6:return o===null&&dC(l),null;case 13:return nR(o,l,a);case 4:return py(l,l.stateNode.containerInfo),c=l.pendingProps,o===null?l.child=ya(l,null,c,a):jn(o,l,c,a),l.child;case 11:return c=l.type,m=l.pendingProps,m=l.elementType===c?m:eo(c,m),BF(o,l,c,m,a);case 7:return jn(o,l,l.pendingProps,a),l.child;case 8:return jn(o,l,l.pendingProps.children,a),l.child;case 12:return jn(o,l,l.pendingProps.children,a),l.child;case 10:e:{if(c=l.type._context,m=l.pendingProps,p=l.memoizedProps,h=m.value,xt(tp,c._currentValue),c._currentValue=h,p!==null)if(so(p.value,h)){if(p.children===m.children&&!tr.current){l=ns(o,l,a);break e}}else for(p=l.child,p!==null&&(p.return=l);p!==null;){var b=p.dependencies;if(b!==null){h=p.child;for(var A=b.firstContext;A!==null;){if(A.context===c){if(p.tag===1){A=Zo(-1,a&-a),A.tag=2;var _=p.updateQueue;if(_!==null){_=_.shared;var O=_.pending;O===null?A.next=A:(A.next=O.next,O.next=A),_.pending=A}}p.lanes|=a,A=p.alternate,A!==null&&(A.lanes|=a),mC(p.return,a,l),b.lanes|=a;break}A=A.next}}else if(p.tag===10)h=p.type===l.type?null:p.child;else if(p.tag===18){if(h=p.return,h===null)throw Error(ve(341));h.lanes|=a,b=h.alternate,b!==null&&(b.lanes|=a),mC(h,a,l),h=p.sibling}else h=p.child;if(h!==null)h.return=p;else for(h=p;h!==null;){if(h===l){h=null;break}if(p=h.sibling,p!==null){p.return=h.return,h=p;break}h=h.return}p=h}jn(o,l,m.children,a),l=l.child}return l;case 9:return m=l.type,c=l.pendingProps.children,pa(l,a),m=Ir(m),c=c(m),l.flags|=1,jn(o,l,c,a),l.child;case 14:return c=l.type,m=eo(c,l.pendingProps),m=eo(c.type,m),FF(o,l,c,m,a);case 15:return ZT(o,l,l.type,l.pendingProps,a);case 17:return c=l.type,m=l.pendingProps,m=l.elementType===c?m:eo(c,m),$m(o,l),l.tag=1,nr(c)?(o=!0,Zm(l)):o=!1,pa(l,a),DT(l,c,m),gC(l,c,m,a),CC(null,l,c,!0,o,a);case 19:return rR(o,l,a);case 22:return JT(o,l,a)}throw Error(ve(156,l.tag))};function yR(o,l){return WP(o,l)}function Coe(o,l,a,c){this.tag=o,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rr(o,l,a,c){return new Coe(o,l,a,c)}function Ny(o){return o=o.prototype,!(!o||!o.isReactComponent)}function yoe(o){if(typeof o=="function")return Ny(o)?1:0;if(o!=null){if(o=o.$$typeof,o===GC)return 11;if(o===YC)return 14}return 2}function Vs(o,l){var a=o.alternate;return a===null?(a=Rr(o.tag,l,o.key,o.mode),a.elementType=o.elementType,a.type=o.type,a.stateNode=o.stateNode,a.alternate=o,o.alternate=a):(a.pendingProps=l,a.type=o.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=o.flags&14680064,a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,l=o.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},a.sibling=o.sibling,a.index=o.index,a.ref=o.ref,a}function Um(o,l,a,c,m,p){var h=2;if(c=o,typeof o=="function")Ny(o)&&(h=1);else if(typeof o=="string")h=5;else e:switch(o){case Ji:return Ql(a.children,m,p,l);case qC:h=8,m|=8;break;case Mv:return o=Rr(12,a,l,m|2),o.elementType=Mv,o.lanes=p,o;case zv:return o=Rr(13,a,l,m),o.elementType=zv,o.lanes=p,o;case Uv:return o=Rr(19,a,l,m),o.elementType=Uv,o.lanes=p,o;case _P:return Bp(a,m,p,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case kP:h=10;break e;case DP:h=9;break e;case GC:h=11;break e;case YC:h=14;break e;case Bs:h=16,c=null;break e}throw Error(ve(130,o==null?o:typeof o,""))}return l=Rr(h,a,l,m),l.elementType=o,l.type=c,l.lanes=p,l}function Ql(o,l,a,c){return o=Rr(7,o,c,l),o.lanes=a,o}function Bp(o,l,a,c){return o=Rr(22,o,c,l),o.elementType=_P,o.lanes=a,o.stateNode={isHidden:!1},o}function Bv(o,l,a){return o=Rr(6,o,null,l),o.lanes=a,o}function Fv(o,l,a){return l=Rr(4,o.children!==null?o.children:[],o.key,l),l.lanes=a,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function Eoe(o,l,a,c,m){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fv(0),this.expirationTimes=fv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fv(0),this.identifierPrefix=c,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function By(o,l,a,c,m,p,h,b,A){return o=new Eoe(o,l,a,b,A),l===1?(l=1,p===!0&&(l|=8)):l=0,p=Rr(3,null,null,l),o.current=p,p.stateNode=o,p.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},my(p),o}function boe(o,l,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zi,key:c==null?null:""+c,children:o,containerInfo:l,implementation:a}}function ER(o){if(!o)return Gs;o=o._reactInternals;e:{if(ri(o)!==o||o.tag!==1)throw Error(ve(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(nr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(ve(171))}if(o.tag===1){var a=o.type;if(nr(a))return yT(o,a,l)}return l}function bR(o,l,a,c,m,p,h,b,A){return o=By(a,c,!0,o,m,p,h,b,A),o.context=ER(null),a=o.current,c=Hn(),m=Hs(a),p=Zo(c,m),p.callback=l??null,Us(a,p,m),o.current.lanes=m,Hc(o,m,c),rr(o,c),o}function Fp(o,l,a,c){var m=l.current,p=Hn(),h=Hs(m);return a=ER(a),l.context===null?l.context=a:l.pendingContext=a,l=Zo(p,h),l.payload={element:o},c=c===void 0?null:c,c!==null&&(l.callback=c),o=Us(m,l,h),o!==null&&(oo(o,m,h,p),Om(o,m,h)),h}function fp(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function HF(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var a=o.retryLane;o.retryLane=a!==0&&a<l?a:l}}function Fy(o,l){HF(o,l),(o=o.alternate)&&HF(o,l)}function Aoe(){return null}var AR=typeof reportError=="function"?reportError:function(o){console.error(o)};function Py(o){this._internalRoot=o}Pp.prototype.render=Py.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(ve(409));Fp(o,l,null,null)};Pp.prototype.unmount=Py.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;ti(function(){Fp(null,o,null,null)}),l[es]=null}};function Pp(o){this._internalRoot=o}Pp.prototype.unstable_scheduleHydration=function(o){if(o){var l=ZP();o={blockedOn:null,target:o,priority:l};for(var a=0;a<Ps.length&&l!==0&&l<Ps[a].priority;a++);Ps.splice(a,0,o),a===0&&eT(o)}};function Ty(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Tp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function VF(){}function Soe(o,l,a,c,m){if(m){if(typeof c=="function"){var p=c;c=function(){var _=fp(h);p.call(_)}}var h=bR(l,c,o,0,null,!1,!1,"",VF);return o._reactRootContainer=h,o[es]=h.current,Bc(o.nodeType===8?o.parentNode:o),ti(),h}for(;m=o.lastChild;)o.removeChild(m);if(typeof c=="function"){var b=c;c=function(){var _=fp(A);b.call(_)}}var A=By(o,0,!1,null,null,!1,!1,"",VF);return o._reactRootContainer=A,o[es]=A.current,Bc(o.nodeType===8?o.parentNode:o),ti(function(){Fp(l,A,a,c)}),A}function Rp(o,l,a,c,m){var p=a._reactRootContainer;if(p){var h=p;if(typeof m=="function"){var b=m;m=function(){var A=fp(h);b.call(A)}}Fp(l,h,o,m)}else h=Soe(a,l,o,m,c);return fp(h)}QP=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var a=fc(l.pendingLanes);a!==0&&(ZC(l,a|1),rr(l,Yt()),!(ct&6)&&(Aa=Yt()+500,Xs()))}break;case 13:ti(function(){var c=ts(o,1);if(c!==null){var m=Hn();oo(c,o,1,m)}}),Fy(o,1)}};JC=function(o){if(o.tag===13){var l=ts(o,134217728);if(l!==null){var a=Hn();oo(l,o,134217728,a)}Fy(o,134217728)}};XP=function(o){if(o.tag===13){var l=Hs(o),a=ts(o,l);if(a!==null){var c=Hn();oo(a,o,l,c)}Fy(o,l)}};ZP=function(){return Ct};JP=function(o,l){var a=Ct;try{return Ct=o,l()}finally{Ct=a}};Xv=function(o,l,a){switch(l){case"input":if(Vv(o,a),l=a.name,a.type==="radio"&&l!=null){for(a=o;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<a.length;l++){var c=a[l];if(c!==o&&c.form===o.form){var m=wp(c);if(!m)throw Error(ve(90));BP(c),Vv(c,m)}}}break;case"textarea":PP(o,a);break;case"select":l=a.value,l!=null&&ca(o,!!a.multiple,l,!1)}};MP=ky;zP=ti;var woe={usingClientEntryPoint:!1,Events:[Wc,ra,wp,LP,$P,ky]},ic={findFiberByHostInstance:Wl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},xoe={bundleType:ic.bundleType,version:ic.version,rendererPackageName:ic.rendererPackageName,rendererConfig:ic.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rs.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=HP(o),o===null?null:o.stateNode},findFiberByHostInstance:ic.findFiberByHostInstance||Aoe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_m.isDisabled&&_m.supportsFiber)try{Ep=_m.inject(xoe),Fo=_m}catch{}}wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=woe;wr.createPortal=function(o,l){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ty(l))throw Error(ve(200));return boe(o,l,null,a)};wr.createRoot=function(o,l){if(!Ty(o))throw Error(ve(299));var a=!1,c="",m=AR;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(c=l.identifierPrefix),l.onRecoverableError!==void 0&&(m=l.onRecoverableError)),l=By(o,1,!1,null,null,a,!1,c,m),o[es]=l.current,Bc(o.nodeType===8?o.parentNode:o),new Py(l)};wr.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(ve(188)):(o=Object.keys(o).join(","),Error(ve(268,o)));return o=HP(l),o=o===null?null:o.stateNode,o};wr.flushSync=function(o){return ti(o)};wr.hydrate=function(o,l,a){if(!Tp(l))throw Error(ve(200));return Rp(null,o,l,!0,a)};wr.hydrateRoot=function(o,l,a){if(!Ty(o))throw Error(ve(405));var c=a!=null&&a.hydratedSources||null,m=!1,p="",h=AR;if(a!=null&&(a.unstable_strictMode===!0&&(m=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(h=a.onRecoverableError)),l=bR(l,null,o,1,a??null,m,!1,p,h),o[es]=l.current,Bc(o),c)for(o=0;o<c.length;o++)a=c[o],m=a._getVersion,m=m(a._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[a,m]:l.mutableSourceEagerHydrationData.push(a,m);return new Pp(l)};wr.render=function(o,l,a){if(!Tp(l))throw Error(ve(200));return Rp(null,o,l,!1,a)};wr.unmountComponentAtNode=function(o){if(!Tp(o))throw Error(ve(40));return o._reactRootContainer?(ti(function(){Rp(null,null,o,!1,function(){o._reactRootContainer=null,o[es]=null})}),!0):!1};wr.unstable_batchedUpdates=ky;wr.unstable_renderSubtreeIntoContainer=function(o,l,a,c){if(!Tp(a))throw Error(ve(200));if(o==null||o._reactInternals===void 0)throw Error(ve(38));return Rp(o,l,a,!1,c)};wr.version="18.2.0-next-9e3b772b8-20220608";function SR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(SR)}catch(o){console.error(o)}}SR(),bP.exports=wr;var koe=bP.exports,WF=koe;Lv.createRoot=WF.createRoot,Lv.hydrateRoot=WF.hydrateRoot;function BC(o){this.message=o}BC.prototype=new Error,BC.prototype.name="InvalidCharacterError";var KF=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(o){var l=String(o).replace(/=+$/,"");if(l.length%4==1)throw new BC("'atob' failed: The string to be decoded is not correctly encoded.");for(var a,c,m=0,p=0,h="";c=l.charAt(p++);~c&&(a=m%4?64*a+c:c,m++%4)?h+=String.fromCharCode(255&a>>(-2*m&6)):0)c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(c);return h};function Doe(o){var l=o.replace(/-/g,"+").replace(/_/g,"/");switch(l.length%4){case 0:break;case 2:l+="==";break;case 3:l+="=";break;default:throw"Illegal base64url string!"}try{return function(a){return decodeURIComponent(KF(a).replace(/(.)/g,function(c,m){var p=m.charCodeAt(0).toString(16).toUpperCase();return p.length<2&&(p="0"+p),"%"+p}))}(l)}catch{return KF(l)}}function dp(o){this.message=o}function _oe(o,l){if(typeof o!="string")throw new dp("Invalid token specified");var a=(l=l||{}).header===!0?0:1;try{return JSON.parse(Doe(o.split(".")[a]))}catch(c){throw new dp("Invalid token specified: "+c.message)}}dp.prototype=new Error,dp.prototype.name="InvalidTokenError";/**
 * @remix-run/router v1.7.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sa(){return Sa=Object.assign?Object.assign.bind():function(o){for(var l=1;l<arguments.length;l++){var a=arguments[l];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(o[c]=a[c])}return o},Sa.apply(this,arguments)}var Is;(function(o){o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE"})(Is||(Is={}));const qF="popstate";function Noe(o){o===void 0&&(o={});function l(m,p){let{pathname:h="/",search:b="",hash:A=""}=oi(m.location.hash.substr(1));return FC("",{pathname:h,search:b,hash:A},p.state&&p.state.usr||null,p.state&&p.state.key||"default")}function a(m,p){let h=m.document.querySelector("base"),b="";if(h&&h.getAttribute("href")){let A=m.location.href,_=A.indexOf("#");b=_===-1?A:A.slice(0,_)}return b+"#"+(typeof p=="string"?p:mp(p))}function c(m,p){Op(m.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(p)+")")}return Foe(l,a,c,o)}function tn(o,l){if(o===!1||o===null||typeof o>"u")throw new Error(l)}function Op(o,l){if(!o){typeof console<"u"&&console.warn(l);try{throw new Error(l)}catch{}}}function Boe(){return Math.random().toString(36).substr(2,8)}function GF(o,l){return{usr:o.state,key:o.key,idx:l}}function FC(o,l,a,c){return a===void 0&&(a=null),Sa({pathname:typeof o=="string"?o:o.pathname,search:"",hash:""},typeof l=="string"?oi(l):l,{state:a,key:l&&l.key||c||Boe()})}function mp(o){let{pathname:l="/",search:a="",hash:c=""}=o;return a&&a!=="?"&&(l+=a.charAt(0)==="?"?a:"?"+a),c&&c!=="#"&&(l+=c.charAt(0)==="#"?c:"#"+c),l}function oi(o){let l={};if(o){let a=o.indexOf("#");a>=0&&(l.hash=o.substr(a),o=o.substr(0,a));let c=o.indexOf("?");c>=0&&(l.search=o.substr(c),o=o.substr(0,c)),o&&(l.pathname=o)}return l}function Foe(o,l,a,c){c===void 0&&(c={});let{window:m=document.defaultView,v5Compat:p=!1}=c,h=m.history,b=Is.Pop,A=null,_=O();_==null&&(_=0,h.replaceState(Sa({},h.state,{idx:_}),""));function O(){return(h.state||{idx:null}).idx}function I(){b=Is.Pop;let ke=O(),R=ke==null?null:ke-_;_=ke,A&&A({action:b,location:X.location,delta:R})}function z(ke,R){b=Is.Push;let B=FC(X.location,ke,R);a&&a(B,ke),_=O()+1;let N=GF(B,_),G=X.createHref(B);try{h.pushState(N,"",G)}catch(xe){if(xe instanceof DOMException&&xe.name==="DataCloneError")throw xe;m.location.assign(G)}p&&A&&A({action:b,location:X.location,delta:1})}function Q(ke,R){b=Is.Replace;let B=FC(X.location,ke,R);a&&a(B,ke),_=O();let N=GF(B,_),G=X.createHref(B);h.replaceState(N,"",G),p&&A&&A({action:b,location:X.location,delta:0})}function oe(ke){let R=m.location.origin!=="null"?m.location.origin:m.location.href,B=typeof ke=="string"?ke:mp(ke);return tn(R,"No window.location.(origin|href) available to create URL for href: "+B),new URL(B,R)}let X={get action(){return b},get location(){return o(m,h)},listen(ke){if(A)throw new Error("A history only accepts one active listener");return m.addEventListener(qF,I),A=ke,()=>{m.removeEventListener(qF,I),A=null}},createHref(ke){return l(m,ke)},createURL:oe,encodeLocation(ke){let R=oe(ke);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:z,replace:Q,go(ke){return h.go(ke)}};return X}var YF;(function(o){o.data="data",o.deferred="deferred",o.redirect="redirect",o.error="error"})(YF||(YF={}));function Poe(o,l,a){a===void 0&&(a="/");let c=typeof l=="string"?oi(l):l,m=Ry(c.pathname||"/",a);if(m==null)return null;let p=wR(o);Toe(p);let h=null;for(let b=0;h==null&&b<p.length;++b)h=joe(p[b],Woe(m));return h}function wR(o,l,a,c){l===void 0&&(l=[]),a===void 0&&(a=[]),c===void 0&&(c="");let m=(p,h,b)=>{let A={relativePath:b===void 0?p.path||"":b,caseSensitive:p.caseSensitive===!0,childrenIndex:h,route:p};A.relativePath.startsWith("/")&&(tn(A.relativePath.startsWith(c),'Absolute route path "'+A.relativePath+'" nested under path '+('"'+c+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),A.relativePath=A.relativePath.slice(c.length));let _=Ws([c,A.relativePath]),O=a.concat(A);p.children&&p.children.length>0&&(tn(p.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+_+'".')),wR(p.children,l,O,_)),!(p.path==null&&!p.index)&&l.push({path:_,score:zoe(_,p.index),routesMeta:O})};return o.forEach((p,h)=>{var b;if(p.path===""||!((b=p.path)!=null&&b.includes("?")))m(p,h);else for(let A of xR(p.path))m(p,h,A)}),l}function xR(o){let l=o.split("/");if(l.length===0)return[];let[a,...c]=l,m=a.endsWith("?"),p=a.replace(/\?$/,"");if(c.length===0)return m?[p,""]:[p];let h=xR(c.join("/")),b=[];return b.push(...h.map(A=>A===""?p:[p,A].join("/"))),m&&b.push(...h),b.map(A=>o.startsWith("/")&&A===""?"/":A)}function Toe(o){o.sort((l,a)=>l.score!==a.score?a.score-l.score:Uoe(l.routesMeta.map(c=>c.childrenIndex),a.routesMeta.map(c=>c.childrenIndex)))}const Roe=/^:\w+$/,Ooe=3,Ioe=2,Loe=1,$oe=10,Moe=-2,QF=o=>o==="*";function zoe(o,l){let a=o.split("/"),c=a.length;return a.some(QF)&&(c+=Moe),l&&(c+=Ioe),a.filter(m=>!QF(m)).reduce((m,p)=>m+(Roe.test(p)?Ooe:p===""?Loe:$oe),c)}function Uoe(o,l){return o.length===l.length&&o.slice(0,-1).every((c,m)=>c===l[m])?o[o.length-1]-l[l.length-1]:0}function joe(o,l){let{routesMeta:a}=o,c={},m="/",p=[];for(let h=0;h<a.length;++h){let b=a[h],A=h===a.length-1,_=m==="/"?l:l.slice(m.length)||"/",O=Hoe({path:b.relativePath,caseSensitive:b.caseSensitive,end:A},_);if(!O)return null;Object.assign(c,O.params);let I=b.route;p.push({params:c,pathname:Ws([m,O.pathname]),pathnameBase:Yoe(Ws([m,O.pathnameBase])),route:I}),O.pathnameBase!=="/"&&(m=Ws([m,O.pathnameBase]))}return p}function Hoe(o,l){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[a,c]=Voe(o.path,o.caseSensitive,o.end),m=l.match(a);if(!m)return null;let p=m[0],h=p.replace(/(.)\/+$/,"$1"),b=m.slice(1);return{params:c.reduce((_,O,I)=>{if(O==="*"){let z=b[I]||"";h=p.slice(0,p.length-z.length).replace(/(.)\/+$/,"$1")}return _[O]=Koe(b[I]||"",O),_},{}),pathname:p,pathnameBase:h,pattern:o}}function Voe(o,l,a){l===void 0&&(l=!1),a===void 0&&(a=!0),Op(o==="*"||!o.endsWith("*")||o.endsWith("/*"),'Route path "'+o+'" will be treated as if it were '+('"'+o.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+o.replace(/\*$/,"/*")+'".'));let c=[],m="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(h,b)=>(c.push(b),"/([^\\/]+)"));return o.endsWith("*")?(c.push("*"),m+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?m+="\\/*$":o!==""&&o!=="/"&&(m+="(?:(?=\\/|$))"),[new RegExp(m,l?void 0:"i"),c]}function Woe(o){try{return decodeURI(o)}catch(l){return Op(!1,'The URL path "'+o+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+l+").")),o}}function Koe(o,l){try{return decodeURIComponent(o)}catch(a){return Op(!1,'The value for the URL param "'+l+'" will not be decoded because'+(' the string "'+o+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+a+").")),o}}function Ry(o,l){if(l==="/")return o;if(!o.toLowerCase().startsWith(l.toLowerCase()))return null;let a=l.endsWith("/")?l.length-1:l.length,c=o.charAt(a);return c&&c!=="/"?null:o.slice(a)||"/"}function qoe(o,l){l===void 0&&(l="/");let{pathname:a,search:c="",hash:m=""}=typeof o=="string"?oi(o):o;return{pathname:a?a.startsWith("/")?a:Goe(a,l):l,search:Qoe(c),hash:Xoe(m)}}function Goe(o,l){let a=l.replace(/\/+$/,"").split("/");return o.split("/").forEach(m=>{m===".."?a.length>1&&a.pop():m!=="."&&a.push(m)}),a.length>1?a.join("/"):"/"}function Pv(o,l,a,c){return"Cannot include a '"+o+"' character in a manually specified "+("`to."+l+"` field ["+JSON.stringify(c)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kR(o){return o.filter((l,a)=>a===0||l.route.path&&l.route.path.length>0)}function DR(o,l,a,c){c===void 0&&(c=!1);let m;typeof o=="string"?m=oi(o):(m=Sa({},o),tn(!m.pathname||!m.pathname.includes("?"),Pv("?","pathname","search",m)),tn(!m.pathname||!m.pathname.includes("#"),Pv("#","pathname","hash",m)),tn(!m.search||!m.search.includes("#"),Pv("#","search","hash",m)));let p=o===""||m.pathname==="",h=p?"/":m.pathname,b;if(c||h==null)b=a;else{let I=l.length-1;if(h.startsWith("..")){let z=h.split("/");for(;z[0]==="..";)z.shift(),I-=1;m.pathname=z.join("/")}b=I>=0?l[I]:"/"}let A=qoe(m,b),_=h&&h!=="/"&&h.endsWith("/"),O=(p||h===".")&&a.endsWith("/");return!A.pathname.endsWith("/")&&(_||O)&&(A.pathname+="/"),A}const Ws=o=>o.join("/").replace(/\/\/+/g,"/"),Yoe=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),Qoe=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,Xoe=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o,Na=function(l,a){a===void 0&&(a=302);let c=a;typeof c=="number"?c={status:c}:typeof c.status>"u"&&(c.status=302);let m=new Headers(c.headers);return m.set("Location",l),new Response(null,Sa({},c,{headers:m}))};function Zoe(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}const _R=["post","put","patch","delete"];new Set(_R);const Joe=["get",..._R];new Set(Joe);/**
 * React Router v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pp(){return pp=Object.assign?Object.assign.bind():function(o){for(var l=1;l<arguments.length;l++){var a=arguments[l];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(o[c]=a[c])}return o},pp.apply(this,arguments)}const Oy=ae.createContext(null),ese=ae.createContext(null),Ba=ae.createContext(null),Ip=ae.createContext(null),os=ae.createContext({outlet:null,matches:[],isDataRoute:!1}),NR=ae.createContext(null);function tse(o,l){let{relative:a}=l===void 0?{}:l;qc()||tn(!1);let{basename:c,navigator:m}=ae.useContext(Ba),{hash:p,pathname:h,search:b}=FR(o,{relative:a}),A=h;return c!=="/"&&(A=h==="/"?c:Ws([c,h])),m.createHref({pathname:A,search:b,hash:p})}function qc(){return ae.useContext(Ip)!=null}function Lp(){return qc()||tn(!1),ae.useContext(Ip).location}function BR(o){ae.useContext(Ba).static||ae.useLayoutEffect(o)}function Iy(){let{isDataRoute:o}=ae.useContext(os);return o?hse():nse()}function nse(){qc()||tn(!1);let o=ae.useContext(Oy),{basename:l,navigator:a}=ae.useContext(Ba),{matches:c}=ae.useContext(os),{pathname:m}=Lp(),p=JSON.stringify(kR(c).map(A=>A.pathnameBase)),h=ae.useRef(!1);return BR(()=>{h.current=!0}),ae.useCallback(function(A,_){if(_===void 0&&(_={}),!h.current)return;if(typeof A=="number"){a.go(A);return}let O=DR(A,JSON.parse(p),m,_.relative==="path");o==null&&l!=="/"&&(O.pathname=O.pathname==="/"?l:Ws([l,O.pathname])),(_.replace?a.replace:a.push)(O,_.state,_)},[l,a,p,m,o])}const rse=ae.createContext(null);function ose(o){let l=ae.useContext(os).outlet;return l&&ae.createElement(rse.Provider,{value:o},l)}function Ly(){let{matches:o}=ae.useContext(os),l=o[o.length-1];return l?l.params:{}}function FR(o,l){let{relative:a}=l===void 0?{}:l,{matches:c}=ae.useContext(os),{pathname:m}=Lp(),p=JSON.stringify(kR(c).map(h=>h.pathnameBase));return ae.useMemo(()=>DR(o,JSON.parse(p),m,a==="path"),[o,p,m,a])}function sse(o,l){return lse(o,l)}function lse(o,l,a){qc()||tn(!1);let{navigator:c}=ae.useContext(Ba),{matches:m}=ae.useContext(os),p=m[m.length-1],h=p?p.params:{};p&&p.pathname;let b=p?p.pathnameBase:"/";p&&p.route;let A=Lp(),_;if(l){var O;let X=typeof l=="string"?oi(l):l;b==="/"||(O=X.pathname)!=null&&O.startsWith(b)||tn(!1),_=X}else _=A;let I=_.pathname||"/",z=b==="/"?I:I.slice(b.length)||"/",Q=Poe(o,{pathname:z}),oe=fse(Q&&Q.map(X=>Object.assign({},X,{params:Object.assign({},h,X.params),pathname:Ws([b,c.encodeLocation?c.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?b:Ws([b,c.encodeLocation?c.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),m,a);return l&&oe?ae.createElement(Ip.Provider,{value:{location:pp({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:Is.Pop}},oe):oe}function ise(){let o=gse(),l=Zoe(o)?o.status+" "+o.statusText:o instanceof Error?o.message:JSON.stringify(o),a=o instanceof Error?o.stack:null,m={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},p=null;return ae.createElement(ae.Fragment,null,ae.createElement("h2",null,"Unexpected Application Error!"),ae.createElement("h3",{style:{fontStyle:"italic"}},l),a?ae.createElement("pre",{style:m},a):null,p)}const ase=ae.createElement(ise,null);class use extends ae.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,a){return a.location!==l.location||a.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error||a.error,location:a.location,revalidation:l.revalidation||a.revalidation}}componentDidCatch(l,a){console.error("React Router caught the following error during render",l,a)}render(){return this.state.error?ae.createElement(os.Provider,{value:this.props.routeContext},ae.createElement(NR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cse(o){let{routeContext:l,match:a,children:c}=o,m=ae.useContext(Oy);return m&&m.static&&m.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(m.staticContext._deepestRenderedBoundaryId=a.route.id),ae.createElement(os.Provider,{value:l},c)}function fse(o,l,a){var c;if(l===void 0&&(l=[]),a===void 0&&(a=null),o==null){var m;if((m=a)!=null&&m.errors)o=a.matches;else return null}let p=o,h=(c=a)==null?void 0:c.errors;if(h!=null){let b=p.findIndex(A=>A.route.id&&(h==null?void 0:h[A.route.id]));b>=0||tn(!1),p=p.slice(0,Math.min(p.length,b+1))}return p.reduceRight((b,A,_)=>{let O=A.route.id?h==null?void 0:h[A.route.id]:null,I=null;a&&(I=A.route.errorElement||ase);let z=l.concat(p.slice(0,_+1)),Q=()=>{let oe;return O?oe=I:A.route.Component?oe=ae.createElement(A.route.Component,null):A.route.element?oe=A.route.element:oe=b,ae.createElement(cse,{match:A,routeContext:{outlet:b,matches:z,isDataRoute:a!=null},children:oe})};return a&&(A.route.ErrorBoundary||A.route.errorElement||_===0)?ae.createElement(use,{location:a.location,revalidation:a.revalidation,component:I,error:O,children:Q(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):Q()},null)}var PC;(function(o){o.UseBlocker="useBlocker",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate"})(PC||(PC={}));var Mc;(function(o){o.UseBlocker="useBlocker",o.UseLoaderData="useLoaderData",o.UseActionData="useActionData",o.UseRouteError="useRouteError",o.UseNavigation="useNavigation",o.UseRouteLoaderData="useRouteLoaderData",o.UseMatches="useMatches",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o.UseRouteId="useRouteId"})(Mc||(Mc={}));function dse(o){let l=ae.useContext(Oy);return l||tn(!1),l}function mse(o){let l=ae.useContext(ese);return l||tn(!1),l}function pse(o){let l=ae.useContext(os);return l||tn(!1),l}function PR(o){let l=pse(),a=l.matches[l.matches.length-1];return a.route.id||tn(!1),a.route.id}function gse(){var o;let l=ae.useContext(NR),a=mse(Mc.UseRouteError),c=PR(Mc.UseRouteError);return l||((o=a.errors)==null?void 0:o[c])}function hse(){let{router:o}=dse(PC.UseNavigateStable),l=PR(Mc.UseNavigateStable),a=ae.useRef(!1);return BR(()=>{a.current=!0}),ae.useCallback(function(m,p){p===void 0&&(p={}),a.current&&(typeof m=="number"?o.navigate(m):o.navigate(m,pp({fromRouteId:l},p)))},[o,l])}function TR(o){return ose(o.context)}function Do(o){tn(!1)}function vse(o){let{basename:l="/",children:a=null,location:c,navigationType:m=Is.Pop,navigator:p,static:h=!1}=o;qc()&&tn(!1);let b=l.replace(/^\/*/,"/"),A=ae.useMemo(()=>({basename:b,navigator:p,static:h}),[b,p,h]);typeof c=="string"&&(c=oi(c));let{pathname:_="/",search:O="",hash:I="",state:z=null,key:Q="default"}=c,oe=ae.useMemo(()=>{let X=Ry(_,b);return X==null?null:{location:{pathname:X,search:O,hash:I,state:z,key:Q},navigationType:m}},[b,_,O,I,z,Q,m]);return oe==null?null:ae.createElement(Ba.Provider,{value:A},ae.createElement(Ip.Provider,{children:a,value:oe}))}function Cse(o){let{children:l,location:a}=o;return sse(TC(l),a)}var XF;(function(o){o[o.pending=0]="pending",o[o.success=1]="success",o[o.error=2]="error"})(XF||(XF={}));new Promise(()=>{});function TC(o,l){l===void 0&&(l=[]);let a=[];return ae.Children.forEach(o,(c,m)=>{if(!ae.isValidElement(c))return;let p=[...l,m];if(c.type===ae.Fragment){a.push.apply(a,TC(c.props.children,p));return}c.type!==Do&&tn(!1),!c.props.index||!c.props.children||tn(!1);let h={id:c.props.id||p.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,loader:c.props.loader,action:c.props.action,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(h.children=TC(c.props.children,p)),a.push(h)}),a}/**
 * React Router DOM v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function RC(){return RC=Object.assign?Object.assign.bind():function(o){for(var l=1;l<arguments.length;l++){var a=arguments[l];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(o[c]=a[c])}return o},RC.apply(this,arguments)}function yse(o,l){if(o==null)return{};var a={},c=Object.keys(o),m,p;for(p=0;p<c.length;p++)m=c[p],!(l.indexOf(m)>=0)&&(a[m]=o[m]);return a}function Ese(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function bse(o,l){return o.button===0&&(!l||l==="_self")&&!Ese(o)}const Ase=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Sse="startTransition",ZF=hne[Sse];function wse(o){let{basename:l,children:a,future:c,window:m}=o,p=ae.useRef();p.current==null&&(p.current=Noe({window:m,v5Compat:!0}));let h=p.current,[b,A]=ae.useState({action:h.action,location:h.location}),{v7_startTransition:_}=c||{},O=ae.useCallback(I=>{_&&ZF?ZF(()=>A(I)):A(I)},[A,_]);return ae.useLayoutEffect(()=>h.listen(O),[h,O]),ae.createElement(vse,{basename:l,children:a,location:b.location,navigationType:b.action,navigator:h})}const xse=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kse=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bo=ae.forwardRef(function(l,a){let{onClick:c,relative:m,reloadDocument:p,replace:h,state:b,target:A,to:_,preventScrollReset:O}=l,I=yse(l,Ase),{basename:z}=ae.useContext(Ba),Q,oe=!1;if(typeof _=="string"&&kse.test(_)&&(Q=_,xse))try{let B=new URL(window.location.href),N=_.startsWith("//")?new URL(B.protocol+_):new URL(_),G=Ry(N.pathname,z);N.origin===B.origin&&G!=null?_=G+N.search+N.hash:oe=!0}catch{}let X=tse(_,{relative:m}),ke=Dse(_,{replace:h,state:b,target:A,preventScrollReset:O,relative:m});function R(B){c&&c(B),B.defaultPrevented||ke(B)}return ae.createElement("a",RC({},I,{href:Q||X,onClick:oe||p?c:R,ref:a,target:A}))});var JF;(function(o){o.UseScrollRestoration="useScrollRestoration",o.UseSubmit="useSubmit",o.UseSubmitFetcher="useSubmitFetcher",o.UseFetcher="useFetcher"})(JF||(JF={}));var eP;(function(o){o.UseFetchers="useFetchers",o.UseScrollRestoration="useScrollRestoration"})(eP||(eP={}));function Dse(o,l){let{target:a,replace:c,state:m,preventScrollReset:p,relative:h}=l===void 0?{}:l,b=Iy(),A=Lp(),_=FR(o,{relative:h});return ae.useCallback(O=>{if(bse(O,a)){O.preventDefault();let I=c!==void 0?c:mp(A)===mp(_);b(o,{replace:I,state:m,preventScrollReset:p,relative:h})}},[A,b,_,c,m,a,o,p,h])}function _se(o){const l=o.data,a={color:"#FFF8F0"};return j.jsxs("nav",{className:"sitenav",children:[j.jsx("div",{className:"titlecont",children:j.jsxs(Bo,{style:a,to:"/",children:[j.jsx("div",{className:"titletext",children:"The Big Record"}),j.jsx("img",{src:require("../assets/record.svg").default,alt:"",style:{position:"absolute"},className:"cartimg"})]})}),j.jsxs("div",{className:"sitelinks",children:[l.length>0&&j.jsx(Bo,{style:a,to:"/userposts",children:j.jsx("div",{className:"userlink",children:l.username})}),l.length>0&&j.jsx(Bo,{style:a,to:"/login",children:j.jsx("button",{class:"logoutbtn",type:"button",onClick:o.onLogOut(),children:"Logout"})}),l.length===0&&j.jsx(Bo,{style:a,to:"/login",children:j.jsx("button",{class:"loginbtn",type:"button",children:"Login"})}),l.length===0&&j.jsx(Bo,{style:a,to:"/signup",children:j.jsx("button",{class:"signupbtn",type:"button",children:"Signup"})})]})]})}function Nse(o){const l=o.value;return j.jsx(Bo,{to:`/post/${l._id}`,children:j.jsxs("div",{className:"postcardcont",children:[j.jsx("div",{className:"postcardtitle",children:l.title}),j.jsx("div",{className:"postcarddate",children:l.timestamp_formatted}),j.jsx("div",{className:"postcardimgcont",children:j.jsx("img",{src:"data:image/jpeg;base64,"+Buffer.from(l.cover_image).toString("base64"),alt:""})}),j.jsx("div",{className:"postcardauthor",children:l.author})]})})}function Bse(o){const l=o.data,[a,c]=ae.useState([]),m=()=>{fetch("blogapi-production-8080.up.railway.app/posts").then(p=>p).then(p=>{let h=[];for(const b of p)b.published&&h.push(b);c(h)}).catch(p=>{alert(p)})};return ae.useEffect(()=>{m()},[]),j.jsxs("div",{className:"homecont",children:[j.jsxs("div",{className:"infocont",children:[j.jsxs("div",{className:"infotext",children:[j.jsx("div",{className:"subtitle",children:"London's Premier Music Blog"}),j.jsx("div",{className:"infodesc",children:"A community focused on sharing and discussing the latest on London based artists and acts touring through the city."}),l.length>0&&j.jsx(Bo,{to:"/create",children:j.jsx("button",{className:"infobtn",type:"button",children:"Write Your Own Post!"})}),l.length===0&&j.jsx(Bo,{to:"/login",children:j.jsx("button",{className:"infobtn",type:"button",children:"Write Your Own Post!"})})]}),j.jsx("div",{className:"infoimgcont",children:j.jsx("img",{src:require("../assets/O2-Academy-Brixton-1536x1024.jpeg"),alt:"",className:"infoimg"})})]}),j.jsx("div",{className:"postscont",children:a.length>0&&j.jsx("ul",{className:"postslist",children:a.map(p=>j.jsx("li",{className:"homepost",children:j.jsx(Nse,{value:p})},p._id))})})]})}var gp={},Ks={},RR={exports:{}},Fse="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Pse=Fse,Tse=Pse;function OR(){}function IR(){}IR.resetWarningCache=OR;var Rse=function(){function o(c,m,p,h,b,A){if(A!==Tse){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}o.isRequired=o;function l(){return o}var a={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:l,element:o,elementType:o,instanceOf:l,node:o,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:IR,resetWarningCache:OR};return a.PropTypes=a,a};RR.exports=Rse();var fe=RR.exports,wa={},Ose={tr:{regexp:/[\u0069]/g,map:{i:""}},az:{regexp:/[\u0069]/g,map:{i:""}},lt:{regexp:/[\u0069\u006A\u012F]\u0307|\u0069\u0307[\u0300\u0301\u0303]/g,map:{i:"I",j:"J",:"",i:"",i:"",i:""}}},Ise=function(o,l){var a=Ose[l];return o=o==null?"":String(o),a&&(o=o.replace(a.regexp,function(c){return a.map[c]})),o.toUpperCase()},Lse={tr:{regexp:/\u0130|\u0049|\u0049\u0307/g,map:{:"i",I:"",I:"i"}},az:{regexp:/[\u0130]/g,map:{:"i",I:"",I:"i"}},lt:{regexp:/[\u0049\u004A\u012E\u00CC\u00CD\u0128]/g,map:{I:"i",J:"j",:"",:"i",:"i",:"i"}}},$se=function(o,l){var a=Lse[l];return o=o==null?"":String(o),a&&(o=o.replace(a.regexp,function(c){return a.map[c]})),o.toLowerCase()},Mse=/[^A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D66-\u0D75\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]+/g,zse=/([a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0561-\u0587\u13F8-\u13FD\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7B5\uA7B7\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D66-\u0D75\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19])([A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A])/g,Use=/([A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A])([A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A][a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0561-\u0587\u13F8-\u13FD\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7B5\uA7B7\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A])/g,jse=$se,Hse=Mse,Vse=zse,Wse=Use,Kse=function(o,l,a){if(o==null)return"";a=typeof a!="string"?" ":a;function c(m,p,h){return p===0||p===h.length-m.length?"":a}return o=String(o).replace(Vse,"$1 $2").replace(Wse,"$1 $2").replace(Hse,c),jse(o,l)},qse=Ise,Gse=Kse,Yse=function(o,l,a){var c=Gse(o,l);return a||(c=c.replace(/ (?=\d)/g,"_")),c.replace(/ (.)/g,function(m,p){return qse(p,l)})};Object.defineProperty(wa,"__esModule",{value:!0});wa.default=wa.SvgIcon=void 0;var OC=Qse(ae),ac=LR(fe),$y=LR(Yse);function LR(o){return o&&o.__esModule?o:{default:o}}function Qse(o){if(o&&o.__esModule)return o;var l={};if(o!=null){for(var a in o)if(Object.prototype.hasOwnProperty.call(o,a)){var c=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(o,a):{};c.get||c.set?Object.defineProperty(l,a,c):l[a]=o[a]}}return l.default=o,l}function IC(){return IC=Object.assign||function(o){for(var l=1;l<arguments.length;l++){var a=arguments[l];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(o[c]=a[c])}return o},IC.apply(this,arguments)}function Xse(o){for(var l=1;l<arguments.length;l++){var a=arguments[l]!=null?arguments[l]:{},c=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(c=c.concat(Object.getOwnPropertySymbols(a).filter(function(m){return Object.getOwnPropertyDescriptor(a,m).enumerable}))),c.forEach(function(m){Zse(o,m,a[m])})}return o}function Zse(o,l,a){return l in o?Object.defineProperty(o,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[l]=a,o}function Jse(o,l){return nle(o)||tle(o,l)||ele()}function ele(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function tle(o,l){var a=[],c=!0,m=!1,p=void 0;try{for(var h=o[Symbol.iterator](),b;!(c=(b=h.next()).done)&&(a.push(b.value),!(l&&a.length===l));c=!0);}catch(A){m=!0,p=A}finally{try{!c&&h.return!=null&&h.return()}finally{if(m)throw p}}return a}function nle(o){if(Array.isArray(o))return o}function tP(o){return o!=null}function rle(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return o.split(";").reduce(function(l,a){var c=a.split(":"),m=Jse(c,2),p=m[0],h=m[1];return tP(p)&&tP(h)&&(l[(0,$y.default)(p)]=h),l},{})}var ole=function o(l){return l.map(function(a,c){var m=a.name,p=a.attribs,h=a.children,b=h===void 0?null:h,A=Object.keys(p).filter(function(O){return O!=="fill"&&O!=="stroke"&&p[O]!=="none"}).reduce(function(O,I){return I==="style"?O.style=rle(p[I]):O[(0,$y.default)(I)]=p[I],O},{}),_={};return p.fill==="none"&&p.stroke?_={fill:"none",stroke:"currentColor"}:p.fill==="none"&&(_={fill:"none"}),(0,OC.createElement)(m,Xse({key:c},A,_),b===null?b:o(b))})},$p=function(l){var a=l.size,c=l.icon,m=c.children,p=c.viewBox,h=c.attribs,b=h===void 0?{}:h,A=Object.keys(b).reduce(function(_,O){return _[(0,$y.default)(O)]=b[O],_},{});return OC.default.createElement("svg",IC({fill:"currentColor",style:{display:"inline-block",verticalAlign:"middle"},height:a,width:a,viewBox:p},A),l.title?OC.default.createElement("title",null,l.title):null,ole(m))};wa.SvgIcon=$p;$p.defaultProps={size:16};$p.propTypes={icon:ac.default.object.isRequired,size:ac.default.oneOfType([ac.default.number,ac.default.string]),title:ac.default.string};var sle=$p;wa.default=sle;Object.defineProperty(Ks,"__esModule",{value:!0});Ks.default=Ks.withBaseIcon=Ks.Icon=void 0;var LC=My(ae),jl=My(fe),lle=My(wa);function My(o){return o&&o.__esModule?o:{default:o}}function hp(){return hp=Object.assign||function(o){for(var l=1;l<arguments.length;l++){var a=arguments[l];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(o[c]=a[c])}return o},hp.apply(this,arguments)}function $R(o){for(var l=1;l<arguments.length;l++){var a=arguments[l]!=null?arguments[l]:{},c=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(c=c.concat(Object.getOwnPropertySymbols(a).filter(function(m){return Object.getOwnPropertyDescriptor(a,m).enumerable}))),c.forEach(function(m){ile(o,m,a[m])})}return o}function ile(o,l,a){return l in o?Object.defineProperty(o,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[l]=a,o}function ale(o,l){if(o==null)return{};var a=ule(o,l),c,m;if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(o);for(m=0;m<p.length;m++)c=p[m],!(l.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(o,c)&&(a[c]=o[c])}return a}function ule(o,l){if(o==null)return{};var a={},c=Object.keys(o),m,p;for(p=0;p<c.length;p++)m=c[p],!(l.indexOf(m)>=0)&&(a[m]=o[m]);return a}var Gc=function(l){var a=l.style,c=l.className;l.icon,l.size;var m=l.tag,p=ale(l,["style","className","icon","size","tag"]),h=m;return LC.default.createElement(h,hp({},p,{style:$R({display:"inline-block"},a),className:c}),LC.default.createElement(lle.default,{size:l.size,icon:l.icon,title:l.title}))};Ks.Icon=Gc;var cle=function(l){return function(a){var c=$R({},l);return LC.default.createElement(Gc,hp({},c,a))}};Ks.withBaseIcon=cle;Gc.defaultProps={size:16,fill:"currentColor",tag:"i"};Gc.propTypes={icon:jl.default.object.isRequired,size:jl.default.oneOfType([jl.default.number,jl.default.string]),style:jl.default.object,tag:jl.default.oneOf(["i","span","div"]),className:jl.default.string};var fle=Gc;Ks.default=fle;var xa={};Object.defineProperty(xa,"__esModule",{value:!0});xa.default=xa.horizontalCenter=void 0;var Nm=dle(ae);function dle(o){if(o&&o.__esModule)return o;var l={};if(o!=null){for(var a in o)if(Object.prototype.hasOwnProperty.call(o,a)){var c=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(o,a):{};c.get||c.set?Object.defineProperty(l,a,c):l[a]=o[a]}}return l.default=o,l}function mle(o,l,a){return l in o?Object.defineProperty(o,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[l]=a,o}var MR=function(l){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=a.rAlign,m=c===void 0?!1:c,p=a.space,h=p===void 0?4:p;return function(b){return Nm.default.createElement(l,b,Nm.default.createElement("div",{style:{display:"inline-flex",justifyContent:"center",alignItems:"center"}},Nm.Children.toArray(b.children).map(function(A,_){var O=m?"paddingLeft":"paddingRight";return Nm.default.createElement("div",{key:_,style:mle({display:"inline-block"},O,h)},A)})))}};xa.horizontalCenter=MR;var ple=MR;xa.default=ple;(function(o){Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"Icon",{enumerable:!0,get:function(){return l.Icon}}),Object.defineProperty(o,"withBaseIcon",{enumerable:!0,get:function(){return l.withBaseIcon}}),Object.defineProperty(o,"horizontalCenter",{enumerable:!0,get:function(){return a.horizontalCenter}}),o.default=void 0;var l=Ks,a=xa,c=l.Icon;o.default=c})(gp);var zy={};Object.defineProperty(zy,"__esModule",{value:!0});var Gl=zy.eyeOff=void 0,gle={viewBox:"0 0 24 24",children:[{name:"path",attribs:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},children:[]},{name:"line",attribs:{x1:"1",y1:"1",x2:"23",y2:"23"},children:[]}],attribs:{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}};Gl=zy.eyeOff=gle;var Uy={};Object.defineProperty(Uy,"__esModule",{value:!0});var vp=Uy.eye=void 0,hle={viewBox:"0 0 24 24",children:[{name:"path",attribs:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},children:[]},{name:"circle",attribs:{cx:"12",cy:"12",r:"3"},children:[]}],attribs:{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}};vp=Uy.eye=hle;function vle(o){const l=o.data,[a,c]=ae.useState(""),[m,p]=ae.useState(""),[h,b]=ae.useState("password"),[A,_]=ae.useState(Gl),[O,I]=ae.useState(!1),z=()=>{h==="password"?(_(vp),b("text")):(_(Gl),b("password"))},Q=oe=>{oe.preventDefault(),I([]);const X="blogapi-production-8080.up.railway.app/login";let R={method:"POST",body:JSON.stringify({username:a,password:m}),headers:new Headers({"Content-Type":"application/json; charset=UTF-8"})};fetch(X,R).then(B=>B).then(()=>(o.onLogIn(a,m),Na("/home"))).catch(B=>{I(!0)})};return j.jsxs("div",{className:"logincont",children:[l.length>0&&j.jsx("div",{children:"You are already logged in!"}),l.length===0&&j.jsxs("div",{className:"loginformcont",children:[j.jsx("div",{className:"logintitle",children:"LOGIN"}),j.jsxs("form",{className:"loginform",children:[j.jsxs("label",{className:"usernamelabel",children:[" Username:",j.jsx("input",{type:"text",value:a,onChange:oe=>c(oe.target.value),placeholder:"username"})]}),j.jsxs("label",{className:"passwordlabel",children:[" Password:",j.jsx("input",{type:h,value:m,onChange:oe=>p(oe.target.value),placeholder:"*******"}),j.jsx("button",{className:"passwordtoggle",onClick:z,children:j.jsx(gp.Icon,{className:"toggleicon",icon:A})})]}),j.jsx("button",{type:"submit",className:"loginbtn",onClick:Q,children:"LOGIN"})]}),O&&j.jsx("div",{className:"errorcont",children:"User not found."}),j.jsxs("div",{className:"loginfooter",children:[j.jsx("div",{className:"loginfootertext",children:"Don't have an account?"}),j.jsx(Bo,{to:"/signup",children:j.jsx("div",{className:"loginfooterlink",children:"Register Now!"})})]})]})]})}function Cle(o){throw new Error('Could not dynamically require "'+o+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var zc={exports:{}};const yle={},Ele=Object.freeze(Object.defineProperty({__proto__:null,default:yle},Symbol.toStringTag,{value:"Module"})),ble=ene(Ele);var zR=typeof process<"u"&&process.pid?process.pid.toString(36):"",UR="";if(typeof __webpack_require__!="function"&&typeof Cle<"u"){var Tv="",nP=ble;if(nP.networkInterfaces)var Rv=nP.networkInterfaces();if(Rv){e:for(let o in Rv){const l=Rv[o],a=l.length;for(var Xi=0;Xi<a;Xi++)if(l[Xi]!==void 0&&l[Xi].mac&&l[Xi].mac!="00:00:00:00:00:00"){Tv=l[Xi].mac;break e}}UR=Tv?parseInt(Tv.replace(/\:|\D+/gi,"")).toString(36):""}}zc.exports=zc.exports.default=function(o,l){return(o||"")+UR+zR+Uc().toString(36)+(l||"")};zc.exports.process=function(o,l){return(o||"")+zR+Uc().toString(36)+(l||"")};zc.exports.time=function(o,l){return(o||"")+Uc().toString(36)+(l||"")};function Uc(){var o=Date.now(),l=Uc.last||o;return Uc.last=o>l?o:l+1}var Ale=zc.exports;const jy=uP(Ale);function Sle(o){const l=o.data,[a,c]=ae.useState(""),[m,p]=ae.useState(""),[h,b]=ae.useState(""),[A,_]=ae.useState("password"),[O,I]=ae.useState("password"),[z,Q]=ae.useState(Gl),[oe,X]=ae.useState(Gl),[ke,R]=ae.useState(""),B=(G,xe)=>{G==="password"?xe==="password"?(Q(vp),_("text")):(Q(Gl),_("password")):xe==="password"?(X(vp),I("text")):(X(Gl),I("password"))},N=G=>{G.preventDefault(),R([]);const xe="blogapi-production-8080.up.railway.app/signup";let De={method:"POST",body:JSON.stringify({username:a,password:m,confirmPassword:h}),headers:new Headers({"Content-Type":"application/json; charset=UTF-8"})};fetch(xe,De).then(_e=>_e).then(_e=>{if(_e.errors.length>0){let Pe=_e.errors;R(Pe);return}else return Na("/login")}).catch(_e=>alert(_e))};return j.jsxs("div",{className:"signupcont",children:[l.length>0&&j.jsx("div",{children:"You are already logged in!"}),l.length===0&&j.jsxs("div",{className:"signupformcont",children:[j.jsx("div",{className:"signuptitle",children:"SIGNUP"}),j.jsxs("form",{className:"signupform",children:[j.jsxs("label",{className:"usernamelabel",children:[" Username:",j.jsx("input",{type:"text",name:"username",value:a,onChange:G=>c(G.target.value),placeholder:"username"})]}),j.jsxs("label",{className:"passwordlabel",children:[" Password:",j.jsx("input",{type:A,name:"password",value:m,onChange:G=>p(G.target.value),placeholder:"*******"}),j.jsx("button",{className:"passwordtoggle",onClick:()=>B("password",A),children:j.jsx(gp.Icon,{className:"toggleicon",icon:z})})]}),j.jsxs("label",{className:"confirmlabel",children:["Confirm Password:",j.jsx("input",{type:O,name:"passwordConfirmation",value:h,onChange:G=>b(G.target.value),placeholder:"*******"}),j.jsx("button",{className:"confirmtoggle",onClick:()=>B("confirm",O),children:j.jsx(gp.Icon,{className:"toggleicon",icon:oe})})]}),j.jsx("button",{type:"submit",className:"signupbtn",onClick:N,children:"SIGNUP"})]}),ke.length>0&&j.jsx("ul",{className:"errorslist",children:ke.map(G=>j.jsx("li",{className:"signerror",children:G.msg},jy()))})]})]})}function wle(o){o.data;const l=o.onLoad,[a,c]=ae.useState([]),[m,p]=ae.useState([]),[h,b]=ae.useState([]),A=()=>{let Q=l();p(Q);let oe=`blogapi-production-8080.up.railway.app/posts/${m}`;fetch(oe).then(X=>X).then(X=>X.status===404?b(X.message):c(X)).catch(X=>{alert(X)})};let _=Iy();const O=()=>{_("/create")};ae.useEffect(()=>{A()},[]);const I=Q=>Na(`/posts/${Q}/edit`),z=Q=>{let oe=`blogapi-production-8080.up.railway.app/posts/${Q}`,X={method:"DELETE",headers:new Headers({"Content-Type":"application/json; charset=UTF-8",Authorization:`Bearer ${localStorage.getItem("jwt")}`})};fetch(oe,X).then(ke=>ke).then(ke=>{if(ke==="deleted"){let B=[...a].filter(N=>N._id!==Q);return c(B)}}).catch(ke=>{alert(ke)})};return j.jsxs("div",{className:"userpage",children:[m.length===0&&j.jsx("div",{className:"usererror",children:"Only logged in users can view their posts."}),a.length===0&&m.length>0&&j.jsx("div",{className:"noposts",children:"You have no posts"}),a.length>0&&m.length>0&&j.jsx("button",{type:"button",onClick:O}),a.length>0&&m.length>0&&j.jsxs("div",{className:"postlistcont",children:[j.jsx("div",{className:"yourblogs",children:"Your Blog Posts"}),j.jsxs("div",{className:"postheadline",children:[j.jsx("div",{className:"posttitlehead",children:"TITLE"}),j.jsx("div",{className:"poststatushead",children:"STATUS"}),j.jsx("div",{className:"postactionhead",children:"ACTION"})]}),j.jsx("ul",{className:"postlist",children:a.map(Q=>j.jsx("li",{className:"postitem",children:j.jsxs("div",{className:"post",children:[j.jsx(Bo,{to:`posts/${Q._id}`,children:j.jsx("div",{className:"userposttitle",children:Q.title})}),j.jsxs("div",{className:"userpoststatus",children:[Q.published===!0&&j.jsx("div",{className:"statustext",children:"Published"}),Q.published===!1&&j.jsx("div",{className:"statustext",children:"Draft"})]}),j.jsxs("div",{className:"postaction",children:[j.jsxs("button",{className:"postupdate",onClick:I(Q._id),children:[j.jsx("img",{src:require("../assets/update.svg").default,alt:""}),"Update"]}),j.jsxs("button",{className:"postdelete",onClick:z(Q._id),children:[j.jsx("img",{src:require("../assets/delete.svg").default,alt:""}),"Delete"]})]})]})},Q._id))})]})]})}var $C=globalThis&&globalThis.__assign||function(){return $C=Object.assign||function(o){for(var l,a=1,c=arguments.length;a<c;a++){l=arguments[a];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(o[m]=l[m])}return o},$C.apply(this,arguments)},jR={onActivate:fe.func,onAddUndo:fe.func,onBeforeAddUndo:fe.func,onBeforeExecCommand:fe.func,onBeforeGetContent:fe.func,onBeforeRenderUI:fe.func,onBeforeSetContent:fe.func,onBeforePaste:fe.func,onBlur:fe.func,onChange:fe.func,onClearUndos:fe.func,onClick:fe.func,onContextMenu:fe.func,onCommentChange:fe.func,onCopy:fe.func,onCut:fe.func,onDblclick:fe.func,onDeactivate:fe.func,onDirty:fe.func,onDrag:fe.func,onDragDrop:fe.func,onDragEnd:fe.func,onDragGesture:fe.func,onDragOver:fe.func,onDrop:fe.func,onExecCommand:fe.func,onFocus:fe.func,onFocusIn:fe.func,onFocusOut:fe.func,onGetContent:fe.func,onHide:fe.func,onInit:fe.func,onKeyDown:fe.func,onKeyPress:fe.func,onKeyUp:fe.func,onLoadContent:fe.func,onMouseDown:fe.func,onMouseEnter:fe.func,onMouseLeave:fe.func,onMouseMove:fe.func,onMouseOut:fe.func,onMouseOver:fe.func,onMouseUp:fe.func,onNodeChange:fe.func,onObjectResizeStart:fe.func,onObjectResized:fe.func,onObjectSelected:fe.func,onPaste:fe.func,onPostProcess:fe.func,onPostRender:fe.func,onPreProcess:fe.func,onProgressState:fe.func,onRedo:fe.func,onRemove:fe.func,onReset:fe.func,onSaveContent:fe.func,onSelectionChange:fe.func,onSetAttrib:fe.func,onSetContent:fe.func,onShow:fe.func,onSubmit:fe.func,onUndo:fe.func,onVisualAid:fe.func,onSkinLoadError:fe.func,onThemeLoadError:fe.func,onModelLoadError:fe.func,onPluginLoadError:fe.func,onIconsLoadError:fe.func,onLanguageLoadError:fe.func,onScriptsLoad:fe.func,onScriptsLoadError:fe.func},xle=$C({apiKey:fe.string,id:fe.string,inline:fe.bool,init:fe.object,initialValue:fe.string,onEditorChange:fe.func,value:fe.string,tagName:fe.string,cloudChannel:fe.string,plugins:fe.oneOfType([fe.string,fe.array]),toolbar:fe.oneOfType([fe.string,fe.array]),disabled:fe.bool,textareaName:fe.string,tinymceScriptSrc:fe.oneOfType([fe.string,fe.arrayOf(fe.string),fe.arrayOf(fe.shape({src:fe.string,async:fe.bool,defer:fe.bool}))]),rollback:fe.oneOfType([fe.number,fe.oneOf([!1])]),scriptLoading:fe.shape({async:fe.bool,defer:fe.bool,delay:fe.number})},jR),Ov=function(o){return typeof o=="function"},rP=function(o){return o in jR},oP=function(o){return o.substr(2)},kle=function(o,l,a,c,m,p,h){var b=Object.keys(m).filter(rP),A=Object.keys(p).filter(rP),_=b.filter(function(I){return p[I]===void 0}),O=A.filter(function(I){return m[I]===void 0});_.forEach(function(I){var z=oP(I),Q=h[z];a(z,Q),delete h[z]}),O.forEach(function(I){var z=c(o,I),Q=oP(I);h[Q]=z,l(Q,z)})},Dle=function(o,l,a,c,m){return kle(m,o.on.bind(o),o.off.bind(o),function(p,h){return function(b){var A;return(A=p(h))===null||A===void 0?void 0:A(b,o)}},l,a,c)},sP=0,HR=function(o){var l=Date.now(),a=Math.floor(Math.random()*1e9);return sP++,o+"_"+a+sP+String(l)},lP=function(o){return o!==null&&(o.tagName.toLowerCase()==="textarea"||o.tagName.toLowerCase()==="input")},iP=function(o){return typeof o>"u"||o===""?[]:Array.isArray(o)?o:o.split(" ")},_le=function(o,l){return iP(o).concat(iP(l))},Nle=function(){return window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"},Ble=function(o){if(!("isConnected"in Node.prototype)){for(var l=o,a=o.parentNode;a!=null;)l=a,a=l.parentNode;return l===o.ownerDocument}return o.isConnected},aP=function(o,l){o!==void 0&&(o.mode!=null&&typeof o.mode=="object"&&typeof o.mode.set=="function"?o.mode.set(l):o.setMode(l))},MC=globalThis&&globalThis.__assign||function(){return MC=Object.assign||function(o){for(var l,a=1,c=arguments.length;a<c;a++){l=arguments[a];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(o[m]=l[m])}return o},MC.apply(this,arguments)},Fle=function(o,l,a){var c,m,p=o.createElement("script");p.referrerPolicy="origin",p.type="application/javascript",p.id=l.id,p.src=l.src,p.async=(c=l.async)!==null&&c!==void 0?c:!1,p.defer=(m=l.defer)!==null&&m!==void 0?m:!1;var h=function(){p.removeEventListener("load",h),p.removeEventListener("error",b),a(l.src)},b=function(A){p.removeEventListener("load",h),p.removeEventListener("error",b),a(l.src,A)};p.addEventListener("load",h),p.addEventListener("error",b),o.head&&o.head.appendChild(p)},Ple=function(o){var l={},a=function(h,b){var A=l[h];A.done=!0,A.error=b;for(var _=0,O=A.handlers;_<O.length;_++){var I=O[_];I(h,b)}A.handlers=[]},c=function(h,b,A){var _=function(B){return A!==void 0?A(B):console.error(B)};if(h.length===0){_(new Error("At least one script must be provided"));return}for(var O=0,I=!1,z=function(B,N){I||(N?(I=!0,_(N)):++O===h.length&&b())},Q=0,oe=h;Q<oe.length;Q++){var X=oe[Q],ke=l[X.src];if(ke)ke.done?z(X.src,ke.error):ke.handlers.push(z);else{var R=HR("tiny-");l[X.src]={id:R,src:X.src,done:!1,error:null,handlers:[z]},Fle(o,MC({id:R},X),a)}}},m=function(){for(var h,b=0,A=Object.values(l);b<A.length;b++){var _=A[b],O=o.getElementById(_.id);O!=null&&O.tagName==="SCRIPT"&&((h=O.parentNode)===null||h===void 0||h.removeChild(O))}l={}},p=function(){return o};return{loadScripts:c,deleteScripts:m,getDocument:p}},Tle=function(){var o=[],l=function(m){var p=o.find(function(h){return h.getDocument()===m});return p===void 0&&(p=Ple(m),o.push(p)),p},a=function(m,p,h,b,A){var _=function(){return l(m).loadScripts(p,b,A)};h>0?setTimeout(_,h):_()},c=function(){for(var m=o.pop();m!=null;m=o.pop())m.deleteScripts()};return{loadList:a,reinitialize:c}},Rle=Tle(),Iv=function(o){var l=o;return l&&l.tinymce?l.tinymce:null},Ole=globalThis&&globalThis.__extends||function(){var o=function(l,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,m){c.__proto__=m}||function(c,m){for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&(c[p]=m[p])},o(l,a)};return function(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");o(l,a);function c(){this.constructor=l}l.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),Cp=globalThis&&globalThis.__assign||function(){return Cp=Object.assign||function(o){for(var l,a=1,c=arguments.length;a<c;a++){l=arguments[a];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(o[m]=l[m])}return o},Cp.apply(this,arguments)},VR=function(o){Ole(l,o);function l(a){var c=this,m,p,h;return c=o.call(this,a)||this,c.rollbackTimer=void 0,c.valueCursor=void 0,c.rollbackChange=function(){var b=c.editor,A=c.props.value;b&&A&&A!==c.currentContent&&b.undoManager.ignore(function(){if(b.setContent(A),c.valueCursor&&(!c.inline||b.hasFocus()))try{b.selection.moveToBookmark(c.valueCursor)}catch{}}),c.rollbackTimer=void 0},c.handleBeforeInput=function(b){if(c.props.value!==void 0&&c.props.value===c.currentContent&&c.editor&&(!c.inline||c.editor.hasFocus()))try{c.valueCursor=c.editor.selection.getBookmark(3)}catch{}},c.handleBeforeInputSpecial=function(b){(b.key==="Enter"||b.key==="Backspace"||b.key==="Delete")&&c.handleBeforeInput(b)},c.handleEditorChange=function(b){var A=c.editor;if(A&&A.initialized){var _=A.getContent();c.props.value!==void 0&&c.props.value!==_&&c.props.rollback!==!1&&(c.rollbackTimer||(c.rollbackTimer=window.setTimeout(c.rollbackChange,typeof c.props.rollback=="number"?c.props.rollback:200))),_!==c.currentContent&&(c.currentContent=_,Ov(c.props.onEditorChange)&&c.props.onEditorChange(_,A))}},c.handleEditorChangeSpecial=function(b){(b.key==="Backspace"||b.key==="Delete")&&c.handleEditorChange(b)},c.initialise=function(b){var A,_,O;b===void 0&&(b=0);var I=c.elementRef.current;if(I){if(!Ble(I)){if(b===0)setTimeout(function(){return c.initialise(1)},1);else if(b<100)setTimeout(function(){return c.initialise(b+1)},100);else throw new Error("tinymce can only be initialised when in a document");return}var z=Iv(c.view);if(!z)throw new Error("tinymce should have been loaded into global scope");var Q=Cp(Cp({},c.props.init),{selector:void 0,target:I,readonly:c.props.disabled,inline:c.inline,plugins:_le((A=c.props.init)===null||A===void 0?void 0:A.plugins,c.props.plugins),toolbar:(_=c.props.toolbar)!==null&&_!==void 0?_:(O=c.props.init)===null||O===void 0?void 0:O.toolbar,setup:function(oe){c.editor=oe,c.bindHandlers({}),c.inline&&!lP(I)&&oe.once("PostRender",function(X){oe.setContent(c.getInitialValue(),{no_events:!0})}),c.props.init&&Ov(c.props.init.setup)&&c.props.init.setup(oe)},init_instance_callback:function(oe){var X,ke,R=c.getInitialValue();c.currentContent=(X=c.currentContent)!==null&&X!==void 0?X:oe.getContent(),c.currentContent!==R&&(c.currentContent=R,oe.setContent(R),oe.undoManager.clear(),oe.undoManager.add(),oe.setDirty(!1));var B=(ke=c.props.disabled)!==null&&ke!==void 0?ke:!1;aP(c.editor,B?"readonly":"design"),c.props.init&&Ov(c.props.init.init_instance_callback)&&c.props.init.init_instance_callback(oe)}});c.inline||(I.style.visibility=""),lP(I)&&(I.value=c.getInitialValue()),z.init(Q)}},c.id=c.props.id||HR("tiny-react"),c.elementRef=ae.createRef(),c.inline=(h=(m=c.props.inline)!==null&&m!==void 0?m:(p=c.props.init)===null||p===void 0?void 0:p.inline)!==null&&h!==void 0?h:!1,c.boundHandlers={},c}return Object.defineProperty(l.prototype,"view",{get:function(){var a,c;return(c=(a=this.elementRef.current)===null||a===void 0?void 0:a.ownerDocument.defaultView)!==null&&c!==void 0?c:window},enumerable:!1,configurable:!0}),l.prototype.componentDidUpdate=function(a){var c=this,m,p;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(a),this.editor.initialized)){if(this.currentContent=(m=this.currentContent)!==null&&m!==void 0?m:this.editor.getContent(),typeof this.props.initialValue=="string"&&this.props.initialValue!==a.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if(typeof this.props.value=="string"&&this.props.value!==this.currentContent){var h=this.editor;h.undoManager.transact(function(){var A;if(!c.inline||h.hasFocus())try{A=h.selection.getBookmark(3)}catch{}var _=c.valueCursor;if(h.setContent(c.props.value),!c.inline||h.hasFocus())for(var O=0,I=[A,_];O<I.length;O++){var z=I[O];if(z)try{h.selection.moveToBookmark(z),c.valueCursor=z;break}catch{}}})}if(this.props.disabled!==a.disabled){var b=(p=this.props.disabled)!==null&&p!==void 0?p:!1;aP(this.editor,b?"readonly":"design")}}},l.prototype.componentDidMount=function(){var a=this,c,m,p,h,b;if(Iv(this.view)!==null)this.initialise();else if(Array.isArray(this.props.tinymceScriptSrc)&&this.props.tinymceScriptSrc.length===0)(m=(c=this.props).onScriptsLoadError)===null||m===void 0||m.call(c,new Error("No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array."));else if(!((p=this.elementRef.current)===null||p===void 0)&&p.ownerDocument){var A=function(){var O,I;(I=(O=a.props).onScriptsLoad)===null||I===void 0||I.call(O),a.initialise()},_=function(O){var I,z;(z=(I=a.props).onScriptsLoadError)===null||z===void 0||z.call(I,O)};Rle.loadList(this.elementRef.current.ownerDocument,this.getScriptSources(),(b=(h=this.props.scriptLoading)===null||h===void 0?void 0:h.delay)!==null&&b!==void 0?b:0,A,_)}},l.prototype.componentWillUnmount=function(){var a=this,c=this.editor;c&&(c.off(this.changeEvents(),this.handleEditorChange),c.off(this.beforeInputEvent(),this.handleBeforeInput),c.off("keypress",this.handleEditorChangeSpecial),c.off("keydown",this.handleBeforeInputSpecial),c.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach(function(m){c.off(m,a.boundHandlers[m])}),this.boundHandlers={},c.remove(),this.editor=void 0)},l.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},l.prototype.changeEvents=function(){var a,c,m,p=(m=(c=(a=Iv(this.view))===null||a===void 0?void 0:a.Env)===null||c===void 0?void 0:c.browser)===null||m===void 0?void 0:m.isIE();return p?"change keyup compositionend setcontent CommentChange":"change input compositionend setcontent CommentChange"},l.prototype.beforeInputEvent=function(){return Nle()?"beforeinput SelectionChange":"SelectionChange"},l.prototype.renderInline=function(){var a=this.props.tagName,c=a===void 0?"div":a;return ae.createElement(c,{ref:this.elementRef,id:this.id})},l.prototype.renderIframe=function(){return ae.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id})},l.prototype.getScriptSources=function(){var a,c,m=(a=this.props.scriptLoading)===null||a===void 0?void 0:a.async,p=(c=this.props.scriptLoading)===null||c===void 0?void 0:c.defer;if(this.props.tinymceScriptSrc!==void 0)return typeof this.props.tinymceScriptSrc=="string"?[{src:this.props.tinymceScriptSrc,async:m,defer:p}]:this.props.tinymceScriptSrc.map(function(_){return typeof _=="string"?{src:_,async:m,defer:p}:_});var h=this.props.cloudChannel,b=this.props.apiKey?this.props.apiKey:"no-api-key",A="https://cdn.tiny.cloud/1/".concat(b,"/tinymce/").concat(h,"/tinymce.min.js");return[{src:A,async:m,defer:p}]},l.prototype.getInitialValue=function(){return typeof this.props.initialValue=="string"?this.props.initialValue:typeof this.props.value=="string"?this.props.value:""},l.prototype.bindHandlers=function(a){var c=this;if(this.editor!==void 0){Dle(this.editor,a,this.props,this.boundHandlers,function(b){return c.props[b]});var m=function(b){return b.onEditorChange!==void 0||b.value!==void 0},p=m(a),h=m(this.props);!p&&h?(this.editor.on(this.changeEvents(),this.handleEditorChange),this.editor.on(this.beforeInputEvent(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):p&&!h&&(this.editor.off(this.changeEvents(),this.handleEditorChange),this.editor.off(this.beforeInputEvent(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},l.propTypes=xle,l.defaultProps={cloudChannel:"6"},l}(ae.Component),WR={exports:{}};(function(o){(function(){var l=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},a=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},c=function(e,t){var n=Array.prototype.slice.call(e);return n.sort(t)},m=function(e,t){return p(function(n,r){return e.eq(t(n),t(r))})},p=function(e){return{eq:e}},h=p(function(e,t){return e===t}),b=h,A=function(e){return p(function(t,n){if(t.length!==n.length)return!1;for(var r=t.length,s=0;s<r;s++)if(!e.eq(t[s],n[s]))return!1;return!0})},_=function(e,t){return m(A(e),function(n){return c(n,t)})},O=function(e){return p(function(t,n){var r=Object.keys(t),s=Object.keys(n);if(!_(b).eq(r,s))return!1;for(var i=r.length,u=0;u<i;u++){var f=r[u];if(!e.eq(t[f],n[f]))return!1}return!0})},I=p(function(e,t){if(e===t)return!0;var n=l(e),r=l(t);return n!==r?!1:a(n)?e===t:n==="array"?A(I).eq(e,t):n==="object"?O(I).eq(e,t):!1});const z=Object.getPrototypeOf,Q=(e,t,n)=>{var r;return n(e,t.prototype)?!0:((r=e.constructor)===null||r===void 0?void 0:r.name)===t.name},oe=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&Q(e,String,(n,r)=>r.isPrototypeOf(n))?"string":t},X=e=>t=>oe(t)===e,ke=e=>t=>typeof t===e,R=e=>t=>e===t,B=(e,t)=>G(e)&&Q(e,t,(n,r)=>z(n)===r),N=X("string"),G=X("object"),xe=e=>B(e,Object),Se=X("array"),De=R(null),_e=ke("boolean"),Pe=R(void 0),de=e=>e==null,Z=e=>!de(e),je=ke("function"),Ot=ke("number"),fn=(e,t)=>{if(Se(e)){for(let n=0,r=e.length;n<r;++n)if(!t(e[n]))return!1;return!0}return!1},$e=()=>{},or=(e,t)=>(...n)=>e(t.apply(null,n)),si=(e,t)=>n=>e(t(n)),K=e=>()=>e,Me=e=>e,Xe=(e,t)=>e===t;function ce(e,...t){return(...n)=>{const r=t.concat(n);return e.apply(null,r)}}const It=e=>t=>!e(t),Zs=e=>()=>{throw new Error(e)},$r=e=>e(),To=e=>{e()},rt=K(!1),yt=K(!0);class E{constructor(t,n){this.tag=t,this.value=n}static some(t){return new E(!0,t)}static none(){return E.singletonNone}fold(t,n){return this.tag?n(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?E.some(t(this.value)):E.none()}bind(t){return this.tag?t(this.value):E.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:E.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return Z(t)?E.some(t):E.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}E.singletonNone=new E(!1);const Mp=Array.prototype.slice,GR=Array.prototype.indexOf,YR=Array.prototype.push,Hy=(e,t)=>GR.call(e,t),QR=(e,t)=>{const n=Hy(e,t);return n===-1?E.none():E.some(n)},ot=(e,t)=>Hy(e,t)>-1,Bt=(e,t)=>{for(let n=0,r=e.length;n<r;n++){const s=e[n];if(t(s,n))return!0}return!1},Je=(e,t)=>{const n=e.length,r=new Array(n);for(let s=0;s<n;s++){const i=e[s];r[s]=t(i,s)}return r},ee=(e,t)=>{for(let n=0,r=e.length;n<r;n++){const s=e[n];t(s,n)}},Vy=(e,t)=>{for(let n=e.length-1;n>=0;n--){const r=e[n];t(r,n)}},Fa=(e,t)=>{const n=[],r=[];for(let s=0,i=e.length;s<i;s++){const u=e[s];(t(u,s)?n:r).push(u)}return{pass:n,fail:r}},Ie=(e,t)=>{const n=[];for(let r=0,s=e.length;r<s;r++){const i=e[r];t(i,r)&&n.push(i)}return n},Pa=(e,t,n)=>(Vy(e,(r,s)=>{n=t(n,r,s)}),n),Kn=(e,t,n)=>(ee(e,(r,s)=>{n=t(n,r,s)}),n),Wy=(e,t,n)=>{for(let r=0,s=e.length;r<s;r++){const i=e[r];if(t(i,r))return E.some(i);if(n(i,r))break}return E.none()},zt=(e,t)=>Wy(e,t,rt),Ta=(e,t)=>{for(let n=0,r=e.length;n<r;n++){const s=e[n];if(t(s,n))return E.some(n)}return E.none()},Ky=e=>{const t=[];for(let n=0,r=e.length;n<r;++n){if(!Se(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);YR.apply(t,e[n])}return t},lo=(e,t)=>Ky(Je(e,t)),ss=(e,t)=>{for(let n=0,r=e.length;n<r;++n){const s=e[n];if(t(s,n)!==!0)return!1}return!0},Ra=e=>{const t=Mp.call(e,0);return t.reverse(),t},Yc=(e,t)=>Ie(e,n=>!ot(t,n)),zp=(e,t)=>{const n={};for(let r=0,s=e.length;r<s;r++){const i=e[r];n[String(i)]=t(i,r)}return n},Js=(e,t)=>{const n=Mp.call(e,0);return n.sort(t),n},Qc=(e,t)=>t>=0&&t<e.length?E.some(e[t]):E.none(),$n=e=>Qc(e,0),el=e=>Qc(e,e.length-1),kn=je(Array.from)?Array.from:e=>Mp.call(e),li=(e,t)=>{for(let n=0;n<e.length;n++){const r=t(e[n],n);if(r.isSome())return r}return E.none()},XR=(e,t)=>{const n=[],r=je(t)?s=>Bt(n,i=>t(i,s)):s=>ot(n,s);for(let s=0,i=e.length;s<i;s++){const u=e[s];r(u)||n.push(u)}return n},qn=Object.keys,ZR=Object.hasOwnProperty,ft=(e,t)=>{const n=qn(e);for(let r=0,s=n.length;r<s;r++){const i=n[r],u=e[i];t(u,i)}},Xc=(e,t)=>JR(e,(n,r)=>({k:r,v:t(n,r)})),JR=(e,t)=>{const n={};return ft(e,(r,s)=>{const i=t(r,s);n[i.k]=i.v}),n},Up=e=>(t,n)=>{e[n]=t},qy=(e,t,n,r)=>{ft(e,(s,i)=>{(t(s,i)?n:r)(s,i)})},e4=(e,t)=>{const n={},r={};return qy(e,t,Up(n),Up(r)),{t:n,f:r}},Oa=(e,t)=>{const n={};return qy(e,t,Up(n),$e),n},jp=(e,t)=>{const n=[];return ft(e,(r,s)=>{n.push(t(r,s))}),n},Hp=e=>jp(e,Me),pt=(e,t)=>ze(e,t)?E.from(e[t]):E.none(),ze=(e,t)=>ZR.call(e,t),ii=(e,t)=>ze(e,t)&&e[t]!==void 0&&e[t]!==null,t4=(e,t,n=I)=>O(n).eq(e,t),Gy=e=>{const t={};return ee(e,n=>{t[n]={}}),qn(t)},Yy=e=>e.length!==void 0,Vp=Array.isArray,n4=e=>{if(Vp(e))return e;{const t=[];for(let n=0,r=e.length;n<r;n++)t[n]=e[n];return t}},Zc=(e,t,n)=>{if(!e)return!1;if(n=n||e,Yy(e)){for(let r=0,s=e.length;r<s;r++)if(t.call(n,e[r],r,e)===!1)return!1}else for(const r in e)if(ze(e,r)&&t.call(n,e[r],r,e)===!1)return!1;return!0},Wp=(e,t)=>{const n=[];return Zc(e,(r,s)=>{n.push(t(r,s,e))}),n},Ia=(e,t)=>{const n=[];return Zc(e,(r,s)=>{(!t||t(r,s,e))&&n.push(r)}),n},r4=(e,t)=>{if(e){for(let n=0,r=e.length;n<r;n++)if(e[n]===t)return n}return-1},Jc=(e,t,n,r)=>{let s=Pe(n)?e[0]:n;for(let i=0;i<e.length;i++)s=t.call(r,s,e[i],i);return s},Qy=(e,t,n)=>{for(let r=0,s=e.length;r<s;r++)if(t.call(n,e[r],r,e))return r;return-1},tl=e=>e[e.length-1],nl=e=>{let t=!1,n;return(...r)=>(t||(t=!0,n=e.apply(null,r)),n)},o4=(e,t,n,r)=>{const s=e.isiOS()&&/ipad/i.test(n)===!0,i=e.isiOS()&&!s,u=e.isiOS()||e.isAndroid(),f=u||r("(pointer:coarse)"),d=s||!i&&u&&r("(min-device-width:768px)"),g=i||u&&!d,C=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1,v=!g&&!d&&!C;return{isiPad:K(s),isiPhone:K(i),isTablet:K(d),isPhone:K(g),isTouch:K(f),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:K(C),isDesktop:K(v)}},s4=(e,t)=>{for(let n=0;n<e.length;n++){const r=e[n];if(r.test(t))return r}},l4=(e,t)=>{const n=s4(e,t);if(!n)return{major:0,minor:0};const r=s=>Number(t.replace(n,"$"+s));return Kp(r(1),r(2))},i4=(e,t)=>{const n=String(t).toLowerCase();return e.length===0?Xy():l4(e,n)},Xy=()=>Kp(0,0),Kp=(e,t)=>({major:e,minor:t}),La={nu:Kp,detect:i4,unknown:Xy},a4=(e,t)=>li(t.brands,n=>{const r=n.brand.toLowerCase();return zt(e,s=>{var i;return r===((i=s.brand)===null||i===void 0?void 0:i.toLowerCase())}).map(s=>({current:s.name,version:La.nu(parseInt(n.version,10),0)}))}),Zy=(e,t)=>{const n=String(t).toLowerCase();return zt(e,r=>r.search(n))},u4=(e,t)=>Zy(e,t).map(n=>{const r=La.detect(n.versionRegexes,t);return{current:n.name,version:r}}),c4=(e,t)=>Zy(e,t).map(n=>{const r=La.detect(n.versionRegexes,t);return{current:n.name,version:r}}),f4=(e,t)=>e.substring(t),Jy=(e,t,n)=>t===""||e.length>=t.length&&e.substr(n,n+t.length)===t,eE=(e,t)=>nn(e,t)?f4(e,t.length):e,dn=(e,t,n=0,r)=>{const s=e.indexOf(t,n);return s!==-1?Pe(r)?!0:s+t.length<=r:!1},nn=(e,t)=>Jy(e,t,0),qp=(e,t)=>Jy(e,t,e.length-t.length),Gp=e=>t=>t.replace(e,""),ai=Gp(/^\s+|\s+$/g),d4=Gp(/^\s+/g),tE=Gp(/\s+$/g),io=e=>e.length>0,$a=e=>!io(e),m4=(e,t)=>t<=0?"":new Array(t+1).join(e),ef=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?E.none():E.some(n)},Yp=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ro=e=>t=>dn(t,e),p4=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>dn(e,"edge/")&&dn(e,"chrome")&&dn(e,"safari")&&dn(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Yp],search:e=>dn(e,"chrome")&&!dn(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>dn(e,"msie")||dn(e,"trident")},{name:"Opera",versionRegexes:[Yp,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ro("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ro("firefox")},{name:"Safari",versionRegexes:[Yp,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(dn(e,"safari")||dn(e,"mobile/"))&&dn(e,"applewebkit")}],g4=[{name:"Windows",search:Ro("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>dn(e,"iphone")||dn(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ro("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Ro("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ro("linux"),versionRegexes:[]},{name:"Solaris",search:Ro("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ro("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ro("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],nE={browsers:K(p4),oses:K(g4)},rE="Edge",oE="Chromium",sE="IE",lE="Opera",iE="Firefox",aE="Safari",h4=()=>uE({current:void 0,version:La.unknown()}),uE=e=>{const t=e.current,n=e.version,r=s=>()=>t===s;return{current:t,version:n,isEdge:r(rE),isChromium:r(oE),isIE:r(sE),isOpera:r(lE),isFirefox:r(iE),isSafari:r(aE)}},cE={unknown:h4,nu:uE,edge:K(rE),chromium:K(oE),ie:K(sE),opera:K(lE),firefox:K(iE),safari:K(aE)},fE="Windows",dE="iOS",mE="Android",pE="Linux",gE="macOS",hE="Solaris",vE="FreeBSD",CE="ChromeOS",v4=()=>yE({current:void 0,version:La.unknown()}),yE=e=>{const t=e.current,n=e.version,r=s=>()=>t===s;return{current:t,version:n,isWindows:r(fE),isiOS:r(dE),isAndroid:r(mE),isMacOS:r(gE),isLinux:r(pE),isSolaris:r(hE),isFreeBSD:r(vE),isChromeOS:r(CE)}},EE={unknown:v4,nu:yE,windows:K(fE),ios:K(dE),android:K(mE),linux:K(pE),macos:K(gE),solaris:K(hE),freebsd:K(vE),chromeos:K(CE)},C4={detect:(e,t,n)=>{const r=nE.browsers(),s=nE.oses(),i=t.bind(d=>a4(r,d)).orThunk(()=>u4(r,e)).fold(cE.unknown,cE.nu),u=c4(s,e).fold(EE.unknown,EE.nu),f=o4(u,i,e,n);return{browser:i,os:u,deviceType:f}}},y4=e=>window.matchMedia(e).matches;let E4=nl(()=>C4.detect(navigator.userAgent,E.from(navigator.userAgentData),y4));const ao=()=>E4(),b4=navigator.userAgent,Qp=ao(),uo=Qp.browser,co=Qp.os,rl=Qp.deviceType,A4=b4.indexOf("Windows Phone")!==-1,Qe={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:uo.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!uo.isIE(),windowsPhone:A4,browser:{current:uo.current,version:uo.version,isChromium:uo.isChromium,isEdge:uo.isEdge,isFirefox:uo.isFirefox,isIE:uo.isIE,isOpera:uo.isOpera,isSafari:uo.isSafari},os:{current:co.current,version:co.version,isAndroid:co.isAndroid,isChromeOS:co.isChromeOS,isFreeBSD:co.isFreeBSD,isiOS:co.isiOS,isLinux:co.isLinux,isMacOS:co.isMacOS,isSolaris:co.isSolaris,isWindows:co.isWindows},deviceType:{isDesktop:rl.isDesktop,isiPad:rl.isiPad,isiPhone:rl.isiPhone,isPhone:rl.isPhone,isTablet:rl.isTablet,isTouch:rl.isTouch,isWebView:rl.isWebView}},S4=/^\s*|\s*$/g,bE=e=>de(e)?"":(""+e).replace(S4,""),w4=(e,t)=>t?t==="array"&&Vp(e)?!0:typeof e===t:e!==void 0,x4=(e,t,n={})=>{const r=N(e)?e.split(t||","):e||[];let s=r.length;for(;s--;)n[r[s]]={};return n},k4=ze,D4=(e,...t)=>{for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(ze(r,s)){const i=r[s];i!==void 0&&(e[s]=i)}}return e},AE=function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),Zc(e,(s,i)=>t.call(r,s,i,n)===!1?!1:(AE(s,t,n,r),!0)))},le={trim:bE,isArray:Vp,is:w4,toArray:n4,makeMap:x4,each:Zc,map:Wp,grep:Ia,inArray:r4,hasOwn:k4,extend:D4,walk:AE,resolve:(e,t=window)=>{const n=e.split(".");for(let r=0,s=n.length;r<s&&(t=t[n[r]],!!t);r++);return t},explode:(e,t)=>Se(e)?e:e===""?[]:Wp(e.split(t||","),bE),_addCacheSuffix:e=>{const t=Qe.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},ui=(e,t,n=Xe)=>e.exists(r=>n(r,t)),_4=e=>{const t=[],n=r=>{t.push(r)};for(let r=0;r<e.length;r++)e[r].each(n);return t},Dn=(e,t,n)=>e.isSome()&&t.isSome()?E.some(n(e.getOrDie(),t.getOrDie())):E.none(),N4=(e,t,n,r)=>e.isSome()&&t.isSome()&&n.isSome()?E.some(r(e.getOrDie(),t.getOrDie(),n.getOrDie())):E.none(),ci=(e,t)=>e?E.some(t):E.none(),B4=typeof window<"u"?window:Function("return this;")(),F4=(e,t)=>{let n=t??B4;for(let r=0;r<e.length&&n!==void 0&&n!==null;++r)n=n[e[r]];return n},SE=(e,t)=>{const n=e.split(".");return F4(n,t)},P4=(e,t)=>SE(e,t),T4=(e,t)=>{const n=P4(e,t);if(n==null)throw new Error(e+" not available on this browser");return n},R4=Object.getPrototypeOf,O4=e=>T4("HTMLElement",e),I4=e=>{const t=SE("ownerDocument.defaultView",e);return G(e)&&(O4(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(R4(e).constructor.name))},wE=8,xE=9,kE=11,Ma=1,DE=3,dt=e=>e.dom.nodeName.toLowerCase(),_E=e=>e.dom.nodeType,tf=e=>t=>_E(t)===e,L4=e=>_E(e)===wE||dt(e)==="#comment",Xp=e=>Mn(e)&&I4(e.dom),Mn=tf(Ma),sr=tf(DE),$4=tf(xE),M4=tf(kE),Zp=e=>t=>Mn(t)&&dt(t)===e,NE=(e,t,n)=>{if(N(n)||_e(n)||Ot(n))e.setAttribute(t,n+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple")},Qt=(e,t,n)=>{NE(e.dom,t,n)},ls=(e,t)=>{const n=e.dom;ft(t,(r,s)=>{NE(n,s,r)})},lr=(e,t)=>{const n=e.dom.getAttribute(t);return n===null?void 0:n},Oo=(e,t)=>E.from(lr(e,t)),nf=(e,t)=>{const n=e.dom;return n&&n.hasAttribute?n.hasAttribute(t):!1},rn=(e,t)=>{e.dom.removeAttribute(t)},z4=e=>{const t=e.dom.attributes;return t==null||t.length===0},BE=e=>Kn(e.dom.attributes,(t,n)=>(t[n.name]=n.value,t),{}),Jp=(e,t)=>{const n=lr(e,t);return n===void 0||n===""?[]:n.split(" ")},U4=(e,t,n)=>{const s=Jp(e,t).concat([n]);return Qt(e,t,s.join(" ")),!0},j4=(e,t,n)=>{const r=Ie(Jp(e,t),s=>s!==n);return r.length>0?Qt(e,t,r.join(" ")):rn(e,t),!1},za=e=>e.dom.classList!==void 0,FE=e=>Jp(e,"class"),PE=(e,t)=>U4(e,"class",t),TE=(e,t)=>j4(e,"class",t),H4=(e,t)=>ot(FE(e),t)?TE(e,t):PE(e,t),fi=(e,t)=>{za(e)?e.dom.classList.add(t):PE(e,t)},RE=e=>{(za(e)?e.dom.classList:FE(e)).length===0&&rn(e,"class")},di=(e,t)=>{za(e)?e.dom.classList.remove(t):TE(e,t),RE(e)},V4=(e,t)=>{const n=za(e)?e.dom.classList.toggle(t):H4(e,t);return RE(e),n},eg=(e,t)=>za(e)&&e.dom.classList.contains(t),W4=(e,t)=>{const r=(t||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const s="HTML does not have a single root node";throw console.error(s,e),new Error(s)}return Ua(r.childNodes[0])},K4=(e,t)=>{const r=(t||document).createElement(e);return Ua(r)},q4=(e,t)=>{const r=(t||document).createTextNode(e);return Ua(r)},Ua=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},D={fromHtml:W4,fromTag:K4,fromText:q4,fromDom:Ua,fromPoint:(e,t,n)=>E.from(e.dom.elementFromPoint(t,n)).map(Ua)},OE=(e,t)=>{const n=[],r=i=>(n.push(i),t(i));let s=t(e);do s=s.bind(r);while(s.isSome());return n},Mr=(e,t)=>{const n=e.dom;if(n.nodeType!==Ma)return!1;{const r=n;if(r.matches!==void 0)return r.matches(t);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(t);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(t);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},IE=e=>e.nodeType!==Ma&&e.nodeType!==xE&&e.nodeType!==kE||e.childElementCount===0,G4=(e,t)=>{const n=t===void 0?document:t.dom;return IE(n)?[]:Je(n.querySelectorAll(e),D.fromDom)},Y4=(e,t)=>{const n=t===void 0?document:t.dom;return IE(n)?E.none():E.from(n.querySelector(e)).map(D.fromDom)},et=(e,t)=>e.dom===t.dom,Io=(e,t)=>{const n=e.dom,r=t.dom;return n===r?!1:n.contains(r)},LE=e=>D.fromDom(e.dom.ownerDocument),Lo=e=>$4(e)?e:LE(e),Q4=e=>D.fromDom(Lo(e).dom.documentElement),ja=e=>D.fromDom(Lo(e).dom.defaultView),kr=e=>E.from(e.dom.parentNode).map(D.fromDom),tg=e=>E.from(e.dom.parentElement).map(D.fromDom),$E=(e,t)=>{const n=je(t)?t:rt;let r=e.dom;const s=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){const i=r.parentNode,u=D.fromDom(i);if(s.push(u),n(u)===!0)break;r=i}return s},X4=e=>{const t=n=>Ie(n,r=>!et(e,r));return kr(e).map(on).map(t).getOr([])},ol=e=>E.from(e.dom.previousSibling).map(D.fromDom),Ha=e=>E.from(e.dom.nextSibling).map(D.fromDom),ME=e=>Ra(OE(e,ol)),zE=e=>OE(e,Ha),on=e=>Je(e.dom.childNodes,D.fromDom),mi=(e,t)=>{const n=e.dom.childNodes;return E.from(n[t]).map(D.fromDom)},ng=e=>mi(e,0),rg=e=>mi(e,e.dom.childNodes.length-1),og=e=>e.dom.childNodes.length,Z4=e=>e.dom.hasChildNodes(),J4=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return D.fromDom(t)},sg=e=>M4(e)&&Z(e.dom.host),UE=je(Element.prototype.attachShadow)&&je(Node.prototype.getRootNode),eO=K(UE),is=UE?e=>D.fromDom(e.dom.getRootNode()):Lo,lg=e=>sg(e)?e:J4(Lo(e)),tO=e=>sg(e)?e:D.fromDom(Lo(e).dom.body),nO=e=>{const t=is(e);return sg(t)?E.some(t):E.none()},rO=e=>D.fromDom(e.dom.host),jE=e=>{if(eO()&&Z(e.target)){const t=D.fromDom(e.target);if(Mn(t)&&oO(t)&&e.composed&&e.composedPath){const n=e.composedPath();if(n)return $n(n)}}return E.from(e.target)},oO=e=>Z(e.dom.shadowRoot),pi=e=>{const t=sr(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const n=t.ownerDocument;return nO(D.fromDom(t)).fold(()=>n.body.contains(t),si(pi,rO))};var HE=(e,t,n,r,s)=>e(n,r)?E.some(n):je(s)&&s(n)?E.none():t(n,r,s);const $o=(e,t,n)=>{let r=e.dom;const s=je(n)?n:rt;for(;r.parentNode;){r=r.parentNode;const i=D.fromDom(r);if(t(i))return E.some(i);if(s(i))break}return E.none()},sl=(e,t,n)=>HE((s,i)=>i(s),$o,e,t,n),sO=(e,t)=>{const n=e.dom;return n.parentNode?lO(D.fromDom(n.parentNode),r=>!et(e,r)&&t(r)):E.none()},lO=(e,t)=>{const n=s=>t(D.fromDom(s));return zt(e.dom.childNodes,n).map(D.fromDom)},iO=(e,t)=>{const n=r=>{for(let s=0;s<r.childNodes.length;s++){const i=D.fromDom(r.childNodes[s]);if(t(i))return E.some(i);const u=n(r.childNodes[s]);if(u.isSome())return u}return E.none()};return n(e.dom)},Va=(e,t,n)=>$o(e,r=>Mr(r,t),n),Wa=(e,t)=>Y4(t,e),ll=(e,t,n)=>HE((s,i)=>Mr(s,i),Va,e,t,n),aO=e=>ll(e,"[contenteditable]"),gi=(e,t=!1)=>pi(e)?e.dom.isContentEditable:aO(e).fold(K(t),n=>uO(n)==="true"),uO=e=>e.dom.contentEditable,Ka=e=>e.style!==void 0&&je(e.style.getPropertyValue),VE=(e,t,n)=>{if(!N(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Ka(e)&&e.style.setProperty(t,n)},cO=(e,t)=>{Ka(e)&&e.style.removeProperty(t)},WE=(e,t,n)=>{const r=e.dom;VE(r,t,n)},rf=(e,t)=>{const n=e.dom;ft(t,(r,s)=>{VE(n,s,r)})},fo=(e,t)=>{const n=e.dom,s=window.getComputedStyle(n).getPropertyValue(t);return s===""&&!pi(e)?KE(n,t):s},KE=(e,t)=>Ka(e)?e.style.getPropertyValue(t):"",of=(e,t)=>{const n=e.dom,r=KE(n,t);return E.from(r).filter(s=>s.length>0)},qE=e=>{const t={},n=e.dom;if(Ka(n))for(let r=0;r<n.style.length;r++){const s=n.style.item(r);t[s]=n.style[s]}return t},GE=(e,t)=>{const n=e.dom;cO(n,t),ui(Oo(e,"style").map(ai),"")&&rn(e,"style")},fO=e=>e.dom.offsetWidth,Gn=(e,t)=>{kr(e).each(r=>{r.dom.insertBefore(t.dom,e.dom)})},as=(e,t)=>{Ha(e).fold(()=>{kr(e).each(s=>{Ft(s,t)})},r=>{Gn(r,t)})},YE=(e,t)=>{ng(e).fold(()=>{Ft(e,t)},r=>{e.dom.insertBefore(t.dom,r.dom)})},Ft=(e,t)=>{e.dom.appendChild(t.dom)},QE=(e,t)=>{Gn(e,t),Ft(t,e)},dO=(e,t)=>{ee(t,(n,r)=>{const s=r===0?e:t[r-1];as(s,n)})},il=(e,t)=>{ee(t,n=>{Ft(e,n)})},hi=e=>{e.dom.textContent="",ee(on(e),t=>{ht(t)})},ht=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},Mo=e=>{const t=on(e);t.length>0&&dO(e,t),ht(e)},mO=(e,t)=>{const r=(t||document).createElement("div");return r.innerHTML=e,on(D.fromDom(r))},ig=e=>Je(e,D.fromDom),XE=e=>e.dom.innerHTML,sf=(e,t)=>{const r=LE(e).dom,s=D.fromDom(r.createDocumentFragment()),i=mO(t,r);il(s,i),hi(e),Ft(e,s)},pO=e=>{const t=D.fromTag("div"),n=D.fromDom(e.dom.cloneNode(!0));return Ft(t,n),XE(t)},gO=(e,t,n,r,s,i,u)=>({target:e,x:t,y:n,stop:r,prevent:s,kill:i,raw:u}),hO=e=>{const t=D.fromDom(jE(e).getOr(e.target)),n=()=>e.stopPropagation(),r=()=>e.preventDefault(),s=or(r,n);return gO(t,e.clientX,e.clientY,n,r,s,e)},vO=(e,t)=>n=>{e(n)&&t(hO(n))},CO=(e,t,n,r,s)=>{const i=vO(n,r);return e.dom.addEventListener(t,i,s),{unbind:ce(EO,e,t,i,s)}},yO=(e,t,n,r)=>CO(e,t,n,r,!1),EO=(e,t,n,r)=>{e.dom.removeEventListener(t,n,r)},ZE=(e,t)=>({left:e,top:t,translate:(r,s)=>ZE(e+r,t+s)}),vi=ZE,bO=e=>{const t=e.getBoundingClientRect();return vi(t.left,t.top)},lf=(e,t)=>e!==void 0?e:t!==void 0?t:0,AO=e=>{const t=e.dom.ownerDocument,n=t.body,r=t.defaultView,s=t.documentElement;if(n===e.dom)return vi(n.offsetLeft,n.offsetTop);const i=lf(r==null?void 0:r.pageYOffset,s.scrollTop),u=lf(r==null?void 0:r.pageXOffset,s.scrollLeft),f=lf(s.clientTop,n.clientTop),d=lf(s.clientLeft,n.clientLeft);return ag(e).translate(u-d,i-f)},ag=e=>{const t=e.dom,r=t.ownerDocument.body;return r===t?vi(r.offsetLeft,r.offsetTop):pi(e)?bO(t):vi(0,0)},ug=e=>{const t=e!==void 0?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return vi(n,r)},JE=(e,t)=>{ao().browser.isSafari()&&je(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},SO=e=>{const t=e===void 0?window:e;return ao().browser.isFirefox()?E.none():E.from(t.visualViewport)},eb=(e,t,n,r)=>({x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}),tb=e=>{const t=e===void 0?window:e,n=t.document,r=ug(D.fromDom(n));return SO(t).fold(()=>{const s=t.document.documentElement,i=s.clientWidth,u=s.clientHeight;return eb(r.left,r.top,i,u)},s=>eb(Math.max(s.pageLeft,r.left),Math.max(s.pageTop,r.top),s.width,s.height))},wO=(e,t)=>Ie(on(e),t),nb=(e,t)=>{let n=[];return ee(on(e),r=>{t(r)&&(n=n.concat([r])),n=n.concat(nb(r,t))}),n},mn=(e,t)=>G4(t,e),rb=(e,t,n)=>Va(e,t,n).isSome();class Ut{constructor(t,n){this.node=t,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,n,r,s){if(t){if(!s&&t[n])return t[n];if(t!==this.rootNode){let i=t[r];if(i)return i;for(let u=t.parentNode;u&&u!==this.rootNode;u=u.parentNode)if(i=u[r],i)return i}}}findPreviousNode(t,n){if(t){const r=t.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!n){for(let i=r.lastChild;i;i=i.lastChild)if(!i.lastChild)return i}return r}const s=t.parentNode;if(s&&s!==this.rootNode)return s}}}const al=e=>t=>!!t&&t.nodeType===e,af=e=>!!e&&!Object.getPrototypeOf(e),me=al(1),qa=e=>{const t=e.toLowerCase();return n=>Z(n)&&n.nodeName.toLowerCase()===t},zr=e=>{const t=e.map(n=>n.toLowerCase());return n=>{if(n&&n.nodeName){const r=n.nodeName.toLowerCase();return ot(t,r)}return!1}},uf=(e,t)=>{const n=t.toLowerCase().split(" ");return r=>{if(me(r)){const s=r.ownerDocument.defaultView;if(s)for(let i=0;i<n.length;i++){const u=s.getComputedStyle(r,null);if((u?u.getPropertyValue(e):null)===n[i])return!0}}return!1}},ob=e=>t=>me(t)&&t.hasAttribute(e),xO=(e,t)=>n=>me(n)&&n.getAttribute(e)===t,ul=e=>me(e)&&e.hasAttribute("data-mce-bogus"),kO=e=>me(e)&&e.getAttribute("data-mce-bogus")==="all",zo=e=>me(e)&&e.tagName==="TABLE",sb=e=>t=>!!(me(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),cg=zr(["textarea","input"]),ne=al(3),DO=al(4),_O=al(7),us=al(8),Ga=al(9),fg=al(11),St=qa("br"),lb=qa("img"),Ur=sb("true"),mt=sb("false"),cf=zr(["td","th"]),NO=zr(["td","th","caption"]),mo=zr(["video","audio","object","embed"]),BO=qa("li"),ib=qa("details"),FO=qa("summary"),Ci="\uFEFF",Wt="",dg=e=>e===Ci,PO=e=>e.replace(/\uFEFF/g,""),mg=((e,t)=>{const n=i=>{if(!e(i))throw new Error("Can only get "+t+" value of a "+t+" node");return r(i).getOr("")},r=i=>e(i)?E.from(i.dom.nodeValue):E.none();return{get:n,getOption:r,set:(i,u)=>{if(!e(i))throw new Error("Can only set raw "+t+" value of a "+t+" node");i.dom.nodeValue=u}}})(sr,"text"),ff=e=>mg.get(e),ab=e=>mg.getOption(e),TO=(e,t)=>mg.set(e,t),RO=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],OO=["td","th"],IO=["thead","tbody","tfoot"],LO=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],$O=["h1","h2","h3","h4","h5","h6"],MO=["li","dd","dt"],zO=["ul","ol","dl"],UO=["pre","script","textarea","style"],jO=["pre"].concat($O),cs=e=>{let t;return n=>(t=t||zp(e,yt),ze(t,dt(n)))},ir=cs(RO),HO=e=>dt(e)==="table",df=e=>Mn(e)&&!ir(e),cl=e=>Mn(e)&&dt(e)==="br",ub=cs(LO),pg=cs(zO),Ya=cs(MO),VO=cs(IO),Qa=cs(OO),mf=cs(UO),WO=cs(jO),KO=e=>WO(e)||df(e),qO=e=>{const t=[];let n=e.dom;for(;n;)t.push(D.fromDom(n)),n=n.lastChild;return t},GO=e=>{const t=mn(e,"br"),n=Ie(qO(e).slice(-1),cl);t.length===n.length&&ee(n,ht)},pf=()=>{const e=D.fromTag("br");return Qt(e,"data-mce-bogus","1"),e},fs=e=>{hi(e),Ft(e,pf())},YO=e=>{rg(e).each(t=>{ol(t).each(n=>{ir(e)&&cl(t)&&ir(n)&&ht(t)})})},sn=Ci,gf=dg,Uo=PO,QO=me,yi=ne,Ei=e=>(yi(e)&&(e=e.parentNode),QO(e)&&e.hasAttribute("data-mce-caret")),ds=e=>yi(e)&&gf(e.data),ar=e=>Ei(e)||ds(e),cb=e=>e.firstChild!==e.lastChild||!St(e.firstChild),XO=(e,t)=>{var n;const s=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(sn),i=e.parentNode;if(t){const u=e.previousSibling;if(yi(u)){if(ar(u))return u;if(vf(u))return u.splitText(u.data.length-1)}i==null||i.insertBefore(s,e)}else{const u=e.nextSibling;if(yi(u)){if(ar(u))return u;if(hf(u))return u.splitText(1),u}e.nextSibling?i==null||i.insertBefore(s,e.nextSibling):i==null||i.appendChild(s)}return s},gg=e=>{const t=e.container();return ne(t)?t.data.charAt(e.offset())===sn||e.isAtStart()&&ds(t.previousSibling):!1},hg=e=>{const t=e.container();return ne(t)?t.data.charAt(e.offset()-1)===sn||e.isAtEnd()&&ds(t.nextSibling):!1},ZO=(e,t,n)=>{var r;const i=((r=t.ownerDocument)!==null&&r!==void 0?r:document).createElement(e);i.setAttribute("data-mce-caret",n?"before":"after"),i.setAttribute("data-mce-bogus","all"),i.appendChild(pf().dom);const u=t.parentNode;return n?u==null||u.insertBefore(i,t):t.nextSibling?u==null||u.insertBefore(i,t.nextSibling):u==null||u.appendChild(i),i},hf=e=>yi(e)&&e.data[0]===sn,vf=e=>yi(e)&&e.data[e.data.length-1]===sn,JO=e=>{var t;const n=e.getElementsByTagName("br"),r=n[n.length-1];ul(r)&&((t=r.parentNode)===null||t===void 0||t.removeChild(r))},vg=e=>e&&e.hasAttribute("data-mce-caret")?(JO(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,fb=e=>Ei(e.startContainer),db=Ur,e3=mt,t3=St,n3=ne,r3=zr(["script","style","textarea"]),mb=zr(["img","input","textarea","hr","iframe","video","audio","object","embed"]),o3=zr(["table"]),s3=ar,Dr=e=>s3(e)?!1:n3(e)?!r3(e.parentNode):mb(e)||t3(e)||o3(e)||Cg(e),l3=e=>me(e)&&e.getAttribute("unselectable")==="true",Cg=e=>!l3(e)&&e3(e),i3=(e,t)=>{for(let n=e.parentNode;n&&n!==t;n=n.parentNode){if(Cg(n))return!1;if(db(n))return!0}return!0},a3=e=>Cg(e)?!Kn(kn(e.getElementsByTagName("*")),(t,n)=>t||db(n),!1):!1,u3=e=>mb(e)||a3(e),pb=(e,t)=>Dr(e)&&i3(e,t),c3=/^[ \t\r\n]*$/,fl=e=>c3.test(e),f3=e=>{for(const t of e)if(!dg(t))return!1;return!0},d3=e=>" \f	\v".indexOf(e)!==-1,gb=e=>e===`
`||e==="\r",m3=(e,t)=>t<e.length&&t>=0?gb(e[t]):!1,hb=(e,t=4,n=!0,r=!0)=>{const s=m4(" ",t),i=e.replace(/\t/g,s);return Kn(i,(f,d)=>d3(d)||d===Wt?f.pcIsSpace||f.str===""&&n||f.str.length===i.length-1&&r||m3(i,f.str.length+1)?{pcIsSpace:!1,str:f.str+Wt}:{pcIsSpace:!0,str:f.str+" "}:{pcIsSpace:gb(d),str:f.str+d},{pcIsSpace:!1,str:""}).str},p3=(e,t)=>{const n=D.fromDom(t),r=D.fromDom(e);return rb(r,"pre,code",ce(et,n))},g3=(e,t)=>ne(e)&&fl(e.data)&&!p3(e,t),h3=e=>me(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Cf=(e,t)=>Dr(e)&&!g3(e,t)||h3(e)||v3(e),v3=ob("data-mce-bookmark"),C3=ob("data-mce-bogus"),y3=xO("data-mce-bogus","all"),E3=(e,t)=>{let n=0;if(Cf(e,e))return!1;{let r=e.firstChild;if(!r)return!0;const s=new Ut(r,e);do{if(t){if(y3(r)){r=s.next(!0);continue}if(C3(r)){r=s.next();continue}}if(St(r)){n++,r=s.next();continue}if(Cf(r,e))return!1;r=s.next()}while(r);return n<=1}},Pt=(e,t=!0)=>E3(e.dom,t),Xa="data-mce-block",b3=e=>Ie(qn(e),t=>!/[A-Z]/.test(t)),yg=e=>b3(e).join(","),vb=(e,t)=>Z(t.querySelector(e))?(t.setAttribute(Xa,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(Xa),!1),Cb=(e,t)=>{const n=yg(e.getTransparentElements()),r=yg(e.getBlockElements());return Ie(t.querySelectorAll(n),s=>vb(r,s))},yb=(e,t)=>{var n;const r=t?"lastChild":"firstChild";for(let s=e[r];s;s=s[r])if(Pt(D.fromDom(s))){(n=s.parentNode)===null||n===void 0||n.removeChild(s);return}},A3=(e,t)=>{const n=document.createRange(),r=e.parentNode;if(r){n.setStartBefore(e),n.setEndBefore(t);const s=n.extractContents();yb(s,!0),n.setStartAfter(t),n.setEndAfter(e);const i=n.extractContents();yb(i,!1),Pt(D.fromDom(s))||r.insertBefore(s,e),Pt(D.fromDom(t))||r.insertBefore(t,e),Pt(D.fromDom(i))||r.insertBefore(i,e),r.removeChild(e)}},S3=(e,t,n)=>{const r=e.getBlockElements(),s=D.fromDom(t),i=f=>dt(f)in r,u=f=>et(f,s);ee(ig(n),f=>{$o(f,i,u).each(d=>{const g=wO(f,C=>i(C)&&!e.isValidChild(dt(d),dt(C)));if(g.length>0){const C=tg(d);ee(g,v=>{$o(v,i,u).each(y=>{A3(y.dom,v.dom)})}),C.each(v=>Cb(e,v.dom))}})})},w3=(e,t,n)=>{ee([...n,...dl(e,t)?[t]:[]],r=>ee(mn(D.fromDom(r),r.nodeName.toLowerCase()),s=>{D3(e,s.dom)&&Mo(s)}))},Eg=(e,t)=>{const n=Cb(e,t);S3(e,t,n),w3(e,t,n)},x3=(e,t)=>{if(Ag(e,t)){const n=yg(e.getBlockElements());vb(n,t)}},k3=(e,t,n)=>{const r=i=>et(i,D.fromDom(t)),s=$E(D.fromDom(n),r);Qc(s,s.length-2).filter(Mn).fold(()=>Eg(e,t),i=>Eg(e,i.dom))},bg=e=>e.hasAttribute(Xa),yf=(e,t)=>ze(e.getTransparentElements(),t),Ag=(e,t)=>me(t)&&yf(e,t.nodeName),dl=(e,t)=>Ag(e,t)&&bg(t),D3=(e,t)=>Ag(e,t)&&!bg(t),Eb=(e,t)=>t.type===1&&yf(e,t.name)&&N(t.attr(Xa)),_3=(e,t)=>t.type===1&&yf(e,t.name)&&Pe(t.attr(Xa)),N3=ao().browser,bb=e=>zt(e,Mn),B3=e=>N3.isFirefox()&&dt(e)==="table"?bb(on(e)).filter(t=>dt(t)==="caption").bind(t=>bb(zE(t)).map(n=>{const r=n.dom.offsetTop,s=t.dom.offsetTop,i=t.dom.offsetHeight;return r<=s?-i:0})).getOr(0):0,Ab=(e,t)=>e.children&&ot(e.children,t),F3=(e,t,n)=>{let r=0,s=0;const i=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&fo(D.fromDom(e),"position")==="static"){const f=t.getBoundingClientRect();return r=f.left+(i.documentElement.scrollLeft||e.scrollLeft)-i.documentElement.clientLeft,s=f.top+(i.documentElement.scrollTop||e.scrollTop)-i.documentElement.clientTop,{x:r,y:s}}let u=t;for(;u&&u!==n&&u.nodeType&&!Ab(u,n);){const f=u;r+=f.offsetLeft||0,s+=f.offsetTop||0,u=f.offsetParent}for(u=t.parentNode;u&&u!==n&&u.nodeType&&!Ab(u,n);)r-=u.scrollLeft||0,s-=u.scrollTop||0,u=u.parentNode;s+=B3(D.fromDom(t))}return{x:r,y:s}},Sb=(e,t={})=>{let n=0;const r={},s=D.fromDom(e),i=Lo(s),u=S=>{t.referrerPolicy=S},f=S=>{t.contentCssCors=S},d=S=>{Ft(lg(s),S)},g=S=>{const x=lg(s);Wa(x,"#"+S).each(ht)},C=S=>pt(r,S).getOrThunk(()=>({id:"mce-u"+n++,passed:[],failed:[],count:0})),v=S=>new Promise((x,F)=>{let P;const T=le._addCacheSuffix(S),L=C(T);r[T]=L,L.count++;const q=(W,ie)=>{ee(W,To),L.status=ie,L.passed=[],L.failed=[],P&&(P.onload=null,P.onerror=null,P=null)},ye=()=>q(L.passed,2),Y=()=>q(L.failed,3);if(x&&L.passed.push(x),F&&L.failed.push(F),L.status===1)return;if(L.status===2){ye();return}if(L.status===3){Y();return}L.status=1;const U=D.fromTag("link",i.dom);ls(U,{rel:"stylesheet",type:"text/css",id:L.id}),t.contentCssCors&&Qt(U,"crossOrigin","anonymous"),t.referrerPolicy&&Qt(U,"referrerpolicy",t.referrerPolicy),P=U.dom,P.onload=ye,P.onerror=Y,d(U),Qt(U,"href",T)}),y=S=>Promise.allSettled(Je(S,F=>v(F).then(K(F)))).then(F=>{const P=Fa(F,T=>T.status==="fulfilled");return P.fail.length>0?Promise.reject(Je(P.fail,T=>T.reason)):Je(P.pass,T=>T.value)}),w=S=>{const x=le._addCacheSuffix(S);pt(r,x).each(F=>{--F.count===0&&(delete r[x],g(F.id))})};return{load:v,loadAll:y,unload:w,unloadAll:S=>{ee(S,x=>{w(x)})},_setReferrerPolicy:u,_setContentCssCors:f}},wb=(()=>{const e=new WeakMap;return{forElement:(n,r)=>{const i=is(n).dom;return E.from(e.get(i)).getOrThunk(()=>{const u=Sb(i,r);return e.set(i,u),u})}}})(),P3=e=>e.nodeName.toLowerCase()==="span",xb=(e,t)=>Z(e)&&(Cf(e,t)||df(D.fromDom(e))),T3=(e,t)=>{const n=new Ut(e,t).prev(!1),r=new Ut(e,t).next(!1),s=Pe(n)||xb(n,t),i=Pe(r)||xb(r,t);return s&&i},kb=e=>P3(e)&&e.getAttribute("data-mce-type")==="bookmark",R3=(e,t)=>ne(e)&&e.data.length>0&&T3(e,t),O3=e=>me(e)?e.childNodes.length>0:!1,I3=e=>fg(e)||Ga(e),Sg=(e,t,n)=>{var r;const s=n||t;if(me(t)&&kb(t))return t;const i=t.childNodes;for(let u=i.length-1;u>=0;u--)Sg(e,i[u],s);if(me(t)){const u=t.childNodes;u.length===1&&kb(u[0])&&((r=t.parentNode)===null||r===void 0||r.insertBefore(u[0],t))}return!I3(t)&&!Cf(t,s)&&!O3(t)&&!R3(t,s)&&e.remove(t),t},L3=le.makeMap,Ef=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,bf=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$3=/[<>&\"\']/g,M3=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,z3={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},ml={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},U3={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},j3=e=>{const t=D.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},Db=(e,t)=>{const n={};if(e){const r=e.split(",");t=t||10;for(let s=0;s<r.length;s+=2){const i=String.fromCharCode(parseInt(r[s],t));if(!ml[i]){const u="&"+r[s+1]+";";n[i]=u,n[u]=i}}return n}else return},wg=Db("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),_b=(e,t)=>e.replace(t?Ef:bf,n=>ml[n]||n),H3=e=>(""+e).replace($3,t=>ml[t]||t),Nb=(e,t)=>e.replace(t?Ef:bf,n=>n.length>1?"&#"+((n.charCodeAt(0)-55296)*1024+(n.charCodeAt(1)-56320)+65536)+";":ml[n]||"&#"+n.charCodeAt(0)+";"),xg=(e,t,n)=>{const r=n||wg;return e.replace(t?Ef:bf,s=>ml[s]||r[s]||s)},ms={encodeRaw:_b,encodeAllRaw:H3,encodeNumeric:Nb,encodeNamed:xg,getEncodeFunc:(e,t)=>{const n=Db(t)||wg,r=(u,f)=>u.replace(f?Ef:bf,d=>ml[d]!==void 0?ml[d]:n[d]!==void 0?n[d]:d.length>1?"&#"+((d.charCodeAt(0)-55296)*1024+(d.charCodeAt(1)-56320)+65536)+";":"&#"+d.charCodeAt(0)+";"),s=(u,f)=>xg(u,f,n),i=L3(e.replace(/\+/g,","));return i.named&&i.numeric?r:i.named?t?s:xg:i.numeric?Nb:_b},decode:e=>e.replace(M3,(t,n)=>n?(n.charAt(0).toLowerCase()==="x"?n=parseInt(n.substr(1),16):n=parseInt(n,10),n>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(n&1023))):z3[n]||String.fromCharCode(n)):U3[t]||wg[t]||j3(t))},Af={},Sf={},V3={},bi=le.makeMap,pn=le.each,kg=le.extend,Bb=le.explode,W3=le.inArray,ln=(e,t)=>(e=le.trim(e),e?e.split(t||" "):[]),Fb=(e,t={})=>{const n=bi(e," ",bi(e.toUpperCase()," "));return kg(n,t)},Pb=e=>Fb("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),K3=e=>{const t={};let n,r,s,i;const u=(d,g="",C="")=>{const v=ln(C),y=ln(d);let w=y.length;for(;w--;){const k=ln([n,g].join(" "));t[y[w]]={attributes:zp(k,()=>({})),attributesOrder:k,children:zp(v,K(V3))}}},f=(d,g)=>{const C=ln(d),v=ln(g);let y=C.length;for(;y--;){const w=t[C[y]];for(let k=0,S=v.length;k<S;k++)w.attributes[v[k]]={},w.attributesOrder.push(v[k])}};if(Af[e])return Af[e];if(n="id accesskey class dir lang style tabindex title role",r="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",s="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"){const d="a ins del canvas map";n+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",r+=" article aside details dialog figure main header footer hgroup section nav "+d,s+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"}if(e!=="html5-strict"){n+=" xml:lang";const d="acronym applet basefont big font strike tt";s=[s,d].join(" "),pn(ln(d),C=>{u(C,"",s)});const g="center dir isindex noframes";r=[r,g].join(" "),i=[r,s].join(" "),pn(ln(g),C=>{u(C,"",i)})}return i=i||[r,s].join(" "),u("html","manifest","head body"),u("head","","base command link meta noscript script style title"),u("title hr noscript br"),u("base","href target"),u("link","href rel media hreflang type sizes hreflang"),u("meta","name http-equiv content charset"),u("style","media type scoped"),u("script","src async defer type charset"),u("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",i),u("dd div","",i),u("address dt caption","",e==="html4"?s:i),u("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",s),u("blockquote","cite",i),u("ol","reversed start type","li"),u("ul","","li"),u("li","value",i),u("dl","","dt dd"),u("a","href target rel media hreflang type",e==="html4"?s:i),u("q","cite",s),u("ins del","cite datetime",i),u("img","src sizes srcset alt usemap ismap width height"),u("iframe","src name width height",i),u("embed","src type width height"),u("object","data type typemustmatch name usemap form width height",[i,"param"].join(" ")),u("param","name value"),u("map","name",[i,"area"].join(" ")),u("area","alt coords shape href target rel media hreflang type"),u("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),u("colgroup","span","col"),u("col","span"),u("tbody thead tfoot","","tr"),u("tr","","td th"),u("td","colspan rowspan headers",i),u("th","colspan rowspan headers scope abbr",i),u("form","accept-charset action autocomplete enctype method name novalidate target",i),u("fieldset","disabled form name",[i,"legend"].join(" ")),u("label","form for",s),u("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),u("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?i:s),u("select","disabled form multiple name required size","option optgroup"),u("optgroup","disabled label","option"),u("option","disabled label selected value"),u("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),u("menu","type label",[i,"li"].join(" ")),u("noscript","",i),e!=="html4"&&(u("wbr"),u("ruby","",[s,"rt rp"].join(" ")),u("figcaption","",i),u("mark rt rp summary bdi","",s),u("canvas","width height",i),u("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[i,"track source"].join(" ")),u("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[i,"track source"].join(" ")),u("picture","","img source"),u("source","src srcset type media sizes"),u("track","kind src srclang label default"),u("datalist","",[s,"option"].join(" ")),u("article section nav aside main header footer","",i),u("hgroup","","h1 h2 h3 h4 h5 h6"),u("figure","",[i,"figcaption"].join(" ")),u("time","datetime",s),u("dialog","open",i),u("command","type label icon disabled checked radiogroup command"),u("output","for form name",s),u("progress","value max",s),u("meter","value min max low high optimum",s),u("details","open",[i,"summary"].join(" ")),u("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(f("script","language xml:space"),f("style","xml:space"),f("object","declare classid code codebase codetype archive standby align border hspace vspace"),f("embed","align name hspace vspace"),f("param","valuetype type"),f("a","charset name rev shape coords"),f("br","clear"),f("applet","codebase archive code object alt name width height align hspace vspace"),f("img","name longdesc align border hspace vspace"),f("iframe","longdesc frameborder marginwidth marginheight scrolling align"),f("font basefont","size color face"),f("input","usemap align"),f("select"),f("textarea"),f("h1 h2 h3 h4 h5 h6 div p legend caption","align"),f("ul","type compact"),f("li","type"),f("ol dl menu dir","compact"),f("pre","width xml:space"),f("hr","align noshade size width"),f("isindex","prompt"),f("table","summary width frame rules cellspacing cellpadding align bgcolor"),f("col","width align char charoff valign"),f("colgroup","width align char charoff valign"),f("thead","align char charoff valign"),f("tr","align char charoff valign bgcolor"),f("th","axis align char charoff valign nowrap bgcolor width height"),f("form","accept"),f("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),f("tfoot","align char charoff valign"),f("tbody","align char charoff valign"),f("area","nohref"),f("body","background bgcolor text link vlink alink")),e!=="html4"&&(f("input button select textarea","autofocus"),f("input textarea","placeholder"),f("a","download"),f("link script img","crossorigin"),f("img","loading"),f("iframe","sandbox seamless allow allowfullscreen loading")),e!=="html4"&&ee([t.video,t.audio],d=>{delete d.children.audio,delete d.children.video}),pn(ln("a form meter progress dfn"),d=>{t[d]&&delete t[d].children[d]}),delete t.caption.children.table,delete t.script,Af[e]=t,t},Dg=(e,t)=>{if(e){const n={};return N(e)&&(e={"*":e}),pn(e,(r,s)=>{n[s]=n[s.toUpperCase()]=t==="map"?bi(r,/[, ]/):Bb(r,/[, ]/)}),n}else return},ps=(e={})=>{var t;const n={},r={};let s=[];const i={},u={},f=(Te,Ge,At)=>{const nt=e[Te];if(nt)return bi(nt,/[, ]/,bi(nt.toUpperCase(),/[, ]/));{let gt=Sf[Te];return gt||(gt=Fb(Ge,At),Sf[Te]=gt),gt}},d=(t=e.schema)!==null&&t!==void 0?t:"html5",g=K3(d);e.verify_html===!1&&(e.valid_elements="*[*]");const C=Dg(e.valid_styles),v=Dg(e.invalid_styles,"map"),y=Dg(e.valid_classes,"map"),w=f("whitespace_elements","pre script noscript style textarea video audio iframe object code"),k=f("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),S=f("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),x=f("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),F="td th iframe video audio object script code",P=f("non_empty_elements",F+" pre",S),T=f("move_caret_before_on_enter_elements",F+" table",S),L=f("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),q=f("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",L),ye=f("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Y=f("transparent_elements","a ins del canvas map");pn("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Te=>{u[Te]=new RegExp("</"+Te+"[^>]*>","gi")});const U=Te=>new RegExp("^"+Te.replace(/([?+*])/g,".$1")+"$"),W=Te=>{const Ge=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,At=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,nt=/[*?+]/;if(Te){const gt=ln(Te,",");let Et,ut;n["@"]&&(Et=n["@"].attributes,ut=n["@"].attributesOrder);for(let wt=0,hr=gt.length;wt<hr;wt++){let Jt=Ge.exec(gt[wt]);if(Jt){const Yr=Jt[1],Xn=Jt[2],zl=Jt[3],Ul=Jt[5],Qr={},Br=[],Dt={attributes:Qr,attributesOrder:Br};if(Yr==="#"&&(Dt.paddEmpty=!0),Yr==="-"&&(Dt.removeEmpty=!0),Jt[4]==="!"&&(Dt.removeEmptyAttrs=!0),Et&&(ft(Et,(vr,Xr)=>{Qr[Xr]=vr}),ut&&Br.push(...ut)),Ul){const vr=ln(Ul,"|");for(let Xr=0,Cr=vr.length;Xr<Cr;Xr++)if(Jt=At.exec(vr[Xr]),Jt){const yr={},wo=Jt[1],an=Jt[2].replace(/[\\:]:/g,":"),qo=Jt[3],xo=Jt[4];if(wo==="!"&&(Dt.attributesRequired=Dt.attributesRequired||[],Dt.attributesRequired.push(an),yr.required=!0),wo==="-"){delete Qr[an],Br.splice(W3(Br,an),1);continue}if(qo&&(qo==="="&&(Dt.attributesDefault=Dt.attributesDefault||[],Dt.attributesDefault.push({name:an,value:xo}),yr.defaultValue=xo),qo==="~"&&(Dt.attributesForced=Dt.attributesForced||[],Dt.attributesForced.push({name:an,value:xo}),yr.forcedValue=xo),qo==="<"&&(yr.validValues=bi(xo,"?"))),nt.test(an)){const Fr=yr;Dt.attributePatterns=Dt.attributePatterns||[],Fr.pattern=U(an),Dt.attributePatterns.push(Fr)}else Qr[an]||Br.push(an),Qr[an]=yr}}if(!Et&&Xn==="@"&&(Et=Qr,ut=Br),zl&&(Dt.outputName=Xn,n[zl]=Dt),nt.test(Xn)){const vr=Dt;vr.pattern=U(Xn),s.push(vr)}else n[Xn]=Dt}}}},ie=Te=>{s=[],ee(qn(n),Ge=>{delete n[Ge]}),W(Te),pn(g,(Ge,At)=>{r[At]=Ge.children})},ue=Te=>{const Ge=/^(~)?(.+)$/;Te&&(delete Sf.text_block_elements,delete Sf.block_elements,pn(ln(Te,","),At=>{const nt=Ge.exec(At);if(nt){const gt=nt[1]==="~",Et=gt?"span":"div",ut=nt[2];if(r[ut]=r[Et],i[ut]=Et,P[ut.toUpperCase()]={},P[ut]={},gt||(q[ut.toUpperCase()]={},q[ut]={}),!n[ut]){let wt=n[Et];wt=kg({},wt),delete wt.removeEmptyAttrs,delete wt.removeEmpty,n[ut]=wt}pn(r,(wt,hr)=>{wt[Et]&&(r[hr]=wt=kg({},r[hr]),wt[ut]=wt[Et])})}}))},ge=Te=>{const Ge=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;delete Af[d],Te&&pn(ln(Te,","),At=>{const nt=Ge.exec(At);if(nt){const gt=nt[1];let Et;gt?Et=r[nt[2]]:Et=r[nt[2]]={"#comment":{}},Et=r[nt[2]],pn(ln(nt[3],"|"),ut=>{gt==="-"?delete Et[ut]:Et[ut]={}})}})},Fe=Te=>{const Ge=n[Te];if(Ge)return Ge;let At=s.length;for(;At--;){const nt=s[At];if(nt.pattern.test(Te))return nt}};e.valid_elements?ie(e.valid_elements):(pn(g,(Te,Ge)=>{n[Ge]={attributes:Te.attributes,attributesOrder:Te.attributesOrder},r[Ge]=Te.children}),pn(ln("strong/b em/i"),Te=>{const Ge=ln(Te,"/");n[Ge[1]].outputName=Ge[0]}),pn(ye,(Te,Ge)=>{n[Ge]&&(e.padd_empty_block_inline_children&&(n[Ge].paddInEmptyBlock=!0),n[Ge].removeEmpty=!0)}),pn(ln("ol ul blockquote a table tbody"),Te=>{n[Te]&&(n[Te].removeEmpty=!0)}),pn(ln("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),Te=>{n[Te]&&(n[Te].paddEmpty=!0)}),pn(ln("span"),Te=>{n[Te].removeEmptyAttrs=!0})),ue(e.custom_elements),ge(e.valid_children),W(e.extended_valid_elements),ge("+ol[ul|ol],+ul[ul|ol]"),pn({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Te,Ge)=>{n[Ge]&&(n[Ge].parentsRequired=ln(Te))}),e.invalid_elements&&pn(Bb(e.invalid_elements),Te=>{n[Te]&&delete n[Te]}),Fe("span")||W("span[!data-mce-type|*]");const Ne=K(C),Ke=K(v),Ye=K(y),vt=K(x),Zt=K(q),Tt=K(L),re=K(ye),Ee=K(Object.seal(S)),qe=K(k),Ve=K(P),be=K(T),Ae=K(w),te=K(Y),Be=K(Object.seal(u)),He=(Te,Ge)=>{const At=r[Te.toLowerCase()];return!!(At&&At[Ge.toLowerCase()])},Ze=(Te,Ge)=>{const At=Fe(Te);if(At)if(Ge){if(At.attributes[Ge])return!0;const nt=At.attributePatterns;if(nt){let gt=nt.length;for(;gt--;)if(nt[gt].pattern.test(Ge))return!0}}else return!0;return!1},it=K(i);return{type:d,children:r,elements:n,getValidStyles:Ne,getValidClasses:Ye,getBlockElements:Zt,getInvalidStyles:Ke,getVoidElements:Ee,getTextBlockElements:Tt,getTextInlineElements:re,getBoolAttrs:vt,getElementRule:Fe,getSelfClosingElements:qe,getNonEmptyElements:Ve,getMoveCaretBeforeOnEnterElements:be,getWhitespaceElements:Ae,getTransparentElements:te,getSpecialElements:Be,isValidChild:He,isValid:Ze,getCustomElements:it,addValidElements:W,setValidElements:ie,addCustomElements:ue,addValidChildren:ge}},_g=(e={},t)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,s=/\s+$/,i={};let u,f;const d=Ci;t&&(u=t.getValidStyles(),f=t.getInvalidStyles());const g=(`\\" \\' \\; \\: ; : `+d).split(" ");for(let v=0;v<g.length;v++)i[g[v]]=d+v,i[d+v]=g[v];const C={parse:v=>{const y={};let w=!1;const k=e.url_converter,S=e.url_converter_scope||C,x=(U,W,ie)=>{const ue=y[U+"-top"+W];if(!ue)return;const ge=y[U+"-right"+W];if(!ge)return;const Fe=y[U+"-bottom"+W];if(!Fe)return;const Ne=y[U+"-left"+W];if(!Ne)return;const Ke=[ue,ge,Fe,Ne];let Ye=Ke.length-1;for(;Ye--&&Ke[Ye]===Ke[Ye+1];);Ye>-1&&ie||(y[U+W]=Ye===-1?Ke[0]:Ke.join(" "),delete y[U+"-top"+W],delete y[U+"-right"+W],delete y[U+"-bottom"+W],delete y[U+"-left"+W])},F=U=>{const W=y[U];if(!W)return;const ie=W.split(" ");let ue=ie.length;for(;ue--;)if(ie[ue]!==ie[0])return!1;return y[U]=ie[0],!0},P=(U,W,ie,ue)=>{F(W)&&F(ie)&&F(ue)&&(y[U]=y[W]+" "+y[ie]+" "+y[ue],delete y[W],delete y[ie],delete y[ue])},T=U=>(w=!0,i[U]),L=(U,W)=>(w&&(U=U.replace(/\uFEFF[0-9]/g,ie=>i[ie])),W||(U=U.replace(/\\([\'\";:])/g,"$1")),U),q=U=>String.fromCharCode(parseInt(U.slice(1),16)),ye=U=>U.replace(/\\[0-9a-f]+/gi,q),Y=(U,W,ie,ue,ge,Fe)=>{if(ge=ge||Fe,ge)return ge=L(ge),"'"+ge.replace(/\'/g,"\\'")+"'";if(W=L(W||ie||ue||""),!e.allow_script_urls){const Ne=W.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Ne)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(Ne))return""}return k&&(W=k.call(S,W,"style")),"url('"+W.replace(/\'/g,"\\'")+"')"};if(v){v=v.replace(/[\u0000-\u001F]/g,""),v=v.replace(/\\[\"\';:\uFEFF]/g,T).replace(/\"[^\"]+\"|\'[^\']+\'/g,W=>W.replace(/[;:]/g,T));let U;for(;U=r.exec(v);){r.lastIndex=U.index+U[0].length;let W=U[1].replace(s,"").toLowerCase(),ie=U[2].replace(s,"");if(W&&ie){if(W=ye(W),ie=ye(ie),W.indexOf(d)!==-1||W.indexOf('"')!==-1||!e.allow_script_urls&&(W==="behavior"||/expression\s*\(|\/\*|\*\//.test(ie)))continue;W==="font-weight"&&ie==="700"?ie="bold":(W==="color"||W==="background-color")&&(ie=ie.toLowerCase()),ie=ie.replace(n,Y),y[W]=w?L(ie,!0):ie}}x("border","",!0),x("border","-width"),x("border","-color"),x("border","-style"),x("padding",""),x("margin",""),P("border","border-width","border-style","border-color"),y.border==="medium none"&&delete y.border,y["border-image"]==="none"&&delete y["border-image"]}return y},serialize:(v,y)=>{let w="";const k=(x,F)=>{const P=F[x];if(P)for(let T=0,L=P.length;T<L;T++){const q=P[T],ye=v[q];ye&&(w+=(w.length>0?" ":"")+q+": "+ye+";")}},S=(x,F)=>{if(!f||!F)return!0;let P=f["*"];return P&&P[x]?!1:(P=f[F],!(P&&P[x]))};return y&&u?(k("*",u),k(y,u)):ft(v,(x,F)=>{x&&S(F,y)&&(w+=(w.length>0?" ":"")+F+": "+x+";")}),w}};return C},q3={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},G3=e=>e instanceof Event||je(e.initEvent),Y3=e=>e.isDefaultPrevented===yt||e.isDefaultPrevented===rt,Q3=e=>de(e.preventDefault)||G3(e),Tb=(e,t)=>{const n=t??{};for(const r in e)ze(q3,r)||(n[r]=e[r]);return Z(e.composedPath)&&(n.composedPath=()=>e.composedPath()),n},Ng=(e,t,n,r)=>{var s;const i=Tb(t,r);return i.type=e,de(i.target)&&(i.target=(s=i.srcElement)!==null&&s!==void 0?s:n),Q3(t)&&(i.preventDefault=()=>{i.defaultPrevented=!0,i.isDefaultPrevented=yt,je(t.preventDefault)&&t.preventDefault()},i.stopPropagation=()=>{i.cancelBubble=!0,i.isPropagationStopped=yt,je(t.stopPropagation)&&t.stopPropagation()},i.stopImmediatePropagation=()=>{i.isImmediatePropagationStopped=yt,i.stopPropagation()},Y3(i)||(i.isDefaultPrevented=i.defaultPrevented===!0?yt:rt,i.isPropagationStopped=i.cancelBubble===!0?yt:rt,i.isImmediatePropagationStopped=rt)),i},X3="mce-data-",Z3=/^(?:mouse|contextmenu)|click/,Bg=(e,t,n,r)=>{e.addEventListener(t,n,r||!1)},wf=(e,t,n,r)=>{e.removeEventListener(t,n,r||!1)},J3=e=>Z(e)&&Z3.test(e.type),Za=(e,t)=>{const n=Ng(e.type,e,document,t);if(J3(e)&&Pe(e.pageX)&&!Pe(e.clientX)){const r=n.target.ownerDocument||document,s=r.documentElement,i=r.body,u=n;u.pageX=e.clientX+(s&&s.scrollLeft||i&&i.scrollLeft||0)-(s&&s.clientLeft||i&&i.clientLeft||0),u.pageY=e.clientY+(s&&s.scrollTop||i&&i.scrollTop||0)-(s&&s.clientTop||i&&i.clientTop||0)}return n},e6=(e,t,n)=>{const r=e.document,s={type:"ready"};if(n.domLoaded){t(s);return}const i=()=>r.readyState==="complete"||r.readyState==="interactive"&&r.body,u=()=>{wf(e,"DOMContentLoaded",u),wf(e,"load",u),n.domLoaded||(n.domLoaded=!0,t(s)),e=null};i()?u():Bg(e,"DOMContentLoaded",u),n.domLoaded||Bg(e,"load",u)};class pl{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=X3+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,n,r,s){const i=this;let u;const f=window,d=y=>{i.executeHandlers(Za(y||f.event),g)};if(!t||ne(t)||us(t))return r;let g;t[i.expando]?g=t[i.expando]:(g=i.count++,t[i.expando]=g,i.events[g]={}),s=s||t;const C=n.split(" ");let v=C.length;for(;v--;){let y=C[v],w=d,k=!1,S=!1;if(y==="DOMContentLoaded"&&(y="ready"),i.domLoaded&&y==="ready"&&t.readyState==="complete"){r.call(s,Za({type:y}));continue}!i.hasFocusIn&&(y==="focusin"||y==="focusout")&&(k=!0,S=y==="focusin"?"focus":"blur",w=x=>{const F=Za(x||f.event);F.type=F.type==="focus"?"focusin":"focusout",i.executeHandlers(F,g)}),u=i.events[g][y],u?y==="ready"&&i.domLoaded?r(Za({type:y})):u.push({func:r,scope:s}):(i.events[g][y]=u=[{func:r,scope:s}],u.fakeName=S,u.capture=k,u.nativeHandler=w,y==="ready"?e6(t,w,i):Bg(t,S||y,w,k))}return t=u=null,r}unbind(t,n,r){if(!t||ne(t)||us(t))return this;const s=t[this.expando];if(s){let i=this.events[s];if(n){const u=n.split(" ");let f=u.length;for(;f--;){const d=u[f],g=i[d];if(g){if(r){let C=g.length;for(;C--;)if(g[C].func===r){const v=g.nativeHandler,y=g.fakeName,w=g.capture,k=g.slice(0,C).concat(g.slice(C+1));k.nativeHandler=v,k.fakeName=y,k.capture=w,i[d]=k}}(!r||g.length===0)&&(delete i[d],wf(t,g.fakeName||d,g.nativeHandler,g.capture))}}}else ft(i,(u,f)=>{wf(t,u.fakeName||f,u.nativeHandler,u.capture)}),i={};for(const u in i)if(ze(i,u))return this;delete this.events[s];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,n,r){return this.dispatch(t,n,r)}dispatch(t,n,r){if(!t||ne(t)||us(t))return this;const s=Za({type:n,target:t},r);do{const i=t[this.expando];i&&this.executeHandlers(s,i),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!s.isPropagationStopped());return this}clean(t){if(!t||ne(t)||us(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const n=t.getElementsByTagName("*");let r=n.length;for(;r--;)t=n[r],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,n){const r=this.events[n],s=r&&r[t.type];if(s)for(let i=0,u=s.length;i<u;i++){const f=s[i];if(f&&f.func.call(f.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}pl.Event=new pl;const Fg=le.each,t6=le.grep,Pg="data-mce-style",n6=le.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Ja=(e,t,n)=>{de(n)||n===""?rn(e,t):Qt(e,t,n)},Rb=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),Ai=(e,t)=>{let n=0;if(e)for(let r=e.nodeType,s=e.previousSibling;s;s=s.previousSibling){const i=s.nodeType;t&&ne(s)&&(i===r||!s.data.length)||(n++,r=i)}return n},Ob=(e,t)=>{const n=lr(t,"style"),r=e.serialize(e.parse(n),dt(t));Ja(t,Pg,r)},r6=(e,t)=>Ot(e)?ze(n6,t)?e+"":e+"px":e,Ib=(e,t,n)=>{const r=Rb(t);de(n)||n===""?GE(e,r):WE(e,r,r6(n,r))},o6=(e,t,n)=>{const r=t.keep_values,s={set:(u,f,d)=>{const g=D.fromDom(u);je(t.url_converter)&&Z(f)&&(f=t.url_converter.call(t.url_converter_scope||n(),String(f),d,u));const C="data-mce-"+d;Ja(g,C,f),Ja(g,d,f)},get:(u,f)=>{const d=D.fromDom(u);return lr(d,"data-mce-"+f)||lr(d,f)}},i={style:{set:(u,f)=>{const d=D.fromDom(u);r&&Ja(d,Pg,f),rn(d,"style"),N(f)&&rf(d,e.parse(f))},get:u=>{const f=D.fromDom(u),d=lr(f,Pg)||lr(f,"style");return e.serialize(e.parse(d),dt(f))}}};return r&&(i.href=i.src=s),i},lt=(e,t={})=>{const n={},r=window,s={};let i=0;const u=!0,f=!0,d=wb.forElement(D.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),g=[],C=t.schema?t.schema:ps({}),v=_g({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),y=t.ownEvents?new pl:pl.Event,w=C.getBlockElements(),k=$=>N($)?ze(w,$):me($)&&(ze(w,$.nodeName)||dl(C,$)),S=$=>$&&e&&N($)?e.getElementById($):$,x=$=>{const M=S($);return Z(M)?D.fromDom(M):null},F=($,M,se="")=>{let J;const we=x($);if(Z(we)&&Mn(we)){const We=Yi[M];We&&We.get?J=We.get(we.dom,M):J=lr(we,M)}return Z(J)?J:se},P=$=>{const M=S($);return de(M)?[]:M.attributes},T=($,M,se)=>{Ee($,J=>{if(me(J)){const we=D.fromDom(J),We=se===""?null:se,at=lr(we,M),Ht=Yi[M];Ht&&Ht.set?Ht.set(we.dom,We,M):Ja(we,M,We),at!==We&&t.onSetAttrib&&t.onSetAttrib({attrElm:we.dom,attrName:M,attrValue:We})}})},L=($,M)=>$.cloneNode(M),q=()=>t.root_element||e.body,ye=$=>{const M=tb($);return{x:M.x,y:M.y,w:M.width,h:M.height}},Y=($,M)=>F3(e.body,S($),M),U=($,M,se)=>{Ee($,J=>{const we=D.fromDom(J);Ib(we,M,se),t.update_styles&&Ob(v,we)})},W=($,M)=>{Ee($,se=>{const J=D.fromDom(se);ft(M,(we,We)=>{Ib(J,We,we)}),t.update_styles&&Ob(v,J)})},ie=($,M,se)=>{const J=S($);if(!(de(J)||!me(J)))return se?fo(D.fromDom(J),Rb(M)):(M=M.replace(/-(\D)/g,(we,We)=>We.toUpperCase()),M==="float"&&(M="cssFloat"),J.style?J.style[M]:void 0)},ue=$=>{const M=S($);if(!M)return{w:0,h:0};let se=ie(M,"width"),J=ie(M,"height");return(!se||se.indexOf("px")===-1)&&(se="0"),(!J||J.indexOf("px")===-1)&&(J="0"),{w:parseInt(se,10)||M.offsetWidth||M.clientWidth,h:parseInt(J,10)||M.offsetHeight||M.clientHeight}},ge=$=>{const M=S($),se=Y(M),J=ue(M);return{x:se.x,y:se.y,w:J.w,h:J.h}},Fe=($,M)=>{if(!$)return!1;const se=Se($)?$:[$];return Bt(se,J=>Mr(D.fromDom(J),M))},Ne=($,M,se,J)=>{const we=[];let We=S($);J=J===void 0;const at=se||(q().nodeName!=="BODY"?q().parentNode:null);if(N(M))if(M==="*")M=me;else{const Ht=M;M=Gt=>Fe(Gt,Ht)}for(;We&&!(We===at||de(We.nodeType)||Ga(We)||fg(We));){if(!M||M(We))if(J)we.push(We);else return[We];We=We.parentNode}return J?we:null},Ke=($,M,se)=>{const J=Ne($,M,se,!1);return J&&J.length>0?J[0]:null},Ye=($,M,se)=>{let J=M;if($){N(M)&&(J=we=>Fe(we,M));for(let we=$[se];we;we=we[se])if(je(J)&&J(we))return we}return null},vt=($,M)=>Ye($,M,"nextSibling"),Zt=($,M)=>Ye($,M,"previousSibling"),Tt=$=>je($.querySelectorAll),re=($,M)=>{var se,J;const we=(J=(se=S(M))!==null&&se!==void 0?se:t.root_element)!==null&&J!==void 0?J:e;return Tt(we)?kn(we.querySelectorAll($)):[]},Ee=function($,M,se){const J=se??this;if(Se($)){const we=[];return Fg($,(We,at)=>{const Ht=S(We);Ht&&we.push(M.call(J,Ht,at))}),we}else{const we=S($);return we?M.call(J,we):!1}},qe=($,M)=>{Ee($,se=>{ft(M,(J,we)=>{T(se,we,J)})})},Ve=($,M)=>{Ee($,se=>{const J=D.fromDom(se);sf(J,M)})},be=($,M,se,J,we)=>Ee($,We=>{const at=N(M)?e.createElement(M):M;return Z(se)&&qe(at,se),J&&(!N(J)&&J.nodeType?at.appendChild(J):N(J)&&Ve(at,J)),we?at:We.appendChild(at)}),Ae=($,M,se)=>be(e.createElement($),$,M,se,!0),te=ms.decode,Be=ms.encodeAllRaw,He=($,M,se="")=>{let J="<"+$;for(const we in M)ii(M,we)&&(J+=" "+we+'="'+Be(M[we])+'"');return $a(se)&&ze(C.getVoidElements(),$)?J+" />":J+">"+se+"</"+$+">"},Ze=$=>{const M=e.createElement("div"),se=e.createDocumentFragment();se.appendChild(M),$&&(M.innerHTML=$);let J;for(;J=M.firstChild;)se.appendChild(J);return se.removeChild(M),se},it=($,M)=>Ee($,se=>{const J=D.fromDom(se);return M&&ee(on(J),we=>{sr(we)&&we.dom.length===0?ht(we):Gn(J,we)}),ht(J),J.dom}),Te=$=>Ee($,M=>{const se=M.attributes;for(let J=se.length-1;J>=0;J--)M.removeAttributeNode(se.item(J))}),Ge=$=>v.parse($),At=($,M)=>v.serialize($,M),nt=$=>{if(Zr!==lt.DOM&&e===document){if(n[$])return;n[$]=!0}let M=e.getElementById("mceDefaultStyles");if(!M){M=e.createElement("style"),M.id="mceDefaultStyles",M.type="text/css";const se=e.head;se.firstChild?se.insertBefore(M,se.firstChild):se.appendChild(M)}M.styleSheet?M.styleSheet.cssText+=$:M.appendChild(e.createTextNode($))},gt=$=>{$||($=""),ee($.split(","),M=>{s[M]=!0,d.load(M).catch($e)})},Et=($,M,se)=>{Ee($,J=>{if(me(J)){const we=D.fromDom(J),We=M.split(" ");ee(We,at=>{Z(se)?(se?fi:di)(we,at):V4(we,at)})}})},ut=($,M)=>{Et($,M,!0)},wt=($,M)=>{Et($,M,!1)},hr=($,M)=>{const se=x($),J=M.split(" ");return Z(se)&&ss(J,we=>eg(se,we))},Jt=$=>{Ee($,M=>GE(D.fromDom(M),"display"))},Yr=$=>{Ee($,M=>WE(D.fromDom(M),"display","none"))},Xn=$=>{const M=x($);return Z(M)&&ui(of(M,"display"),"none")},zl=$=>($||"mce_")+i++,Ul=$=>{const M=x($);return Z(M)?me(M.dom)?M.dom.outerHTML:pO(M):""},Qr=($,M)=>{Ee($,se=>{me(se)&&(se.outerHTML=M)})},Br=($,M)=>{const se=S(M);return Ee($,J=>{const we=se==null?void 0:se.parentNode,We=se==null?void 0:se.nextSibling;return we&&(We?we.insertBefore(J,We):we.appendChild(J)),J})},Dt=($,M,se)=>Ee(M,J=>{var we;const We=Se(M)?$.cloneNode(!0):$;return se&&Fg(t6(J.childNodes),at=>{We.appendChild(at)}),(we=J.parentNode)===null||we===void 0||we.replaceChild(We,J),J}),vr=($,M)=>{if($.nodeName!==M.toUpperCase()){const se=Ae(M);return Fg(P($),J=>{T(se,J.nodeName,F($,J.nodeName))}),Dt(se,$,!0),se}else return $},Xr=($,M)=>{let se=$;for(;se;){let J=M;for(;J&&se!==J;)J=J.parentNode;if(se===J)break;se=se.parentNode}return!se&&$.ownerDocument?$.ownerDocument.documentElement:se},Cr=$=>{if(me($)){const M=$.nodeName.toLowerCase()==="a"&&!F($,"href")&&F($,"id");if(F($,"name")||F($,"data-mce-bookmark")||M)return!0}return!1},yr=($,M,se)=>{let J=0;if(Cr($))return!1;const we=$.firstChild;if(we){const We=new Ut(we,$),at=C?C.getWhitespaceElements():{},Ht=M||(C?C.getNonEmptyElements():null);let Gt=we;do{if(me(Gt)){const Zu=Gt.getAttribute("data-mce-bogus");if(Zu){Gt=We.next(Zu==="all");continue}const Ju=Gt.nodeName.toLowerCase();if(Ht&&Ht[Ju]){if(Ju==="br"){J++,Gt=We.next();continue}return!1}if(Cr(Gt))return!1}if(us(Gt)||ne(Gt)&&!fl(Gt.data)&&(!(se!=null&&se.includeZwsp)||!f3(Gt.data))||ne(Gt)&&Gt.parentNode&&at[Gt.parentNode.nodeName]&&fl(Gt.data))return!1;Gt=We.next()}while(Gt)}return J<=1},wo=()=>e.createRange(),an=($,M,se)=>{let J=wo(),we,We;if($&&M&&$.parentNode&&M.parentNode){const at=$.parentNode;return J.setStart(at,Ai($)),J.setEnd(M.parentNode,Ai(M)),we=J.extractContents(),J=wo(),J.setStart(M.parentNode,Ai(M)+1),J.setEnd(at,Ai($)+1),We=J.extractContents(),at.insertBefore(Sg(Zr,we),$),se?at.insertBefore(se,$):at.insertBefore(M,$),at.insertBefore(Sg(Zr,We),$),it($),se||M}else return},qo=($,M,se,J)=>{if(Se($)){let we=$.length;const We=[];for(;we--;)We[we]=qo($[we],M,se,J);return We}else return t.collect&&($===e||$===r)&&g.push([$,M,se,J]),y.bind($,M,se,J||Zr)},xo=($,M,se)=>{if(Se($)){let J=$.length;const we=[];for(;J--;)we[J]=xo($[J],M,se);return we}else{if(g.length>0&&($===e||$===r)){let J=g.length;for(;J--;){const[we,We,at]=g[J];$===we&&(!M||M===We)&&(!se||se===at)&&y.unbind(we,We,at)}}return y.unbind($,M,se)}},Fr=($,M,se)=>y.dispatch($,M,se),_s=($,M,se)=>y.dispatch($,M,se),um=$=>{if($&&me($)){const M=$.getAttribute("data-mce-contenteditable");return M&&M!=="inherit"?M:$.contentEditable!=="inherit"?$.contentEditable:null}else return null},Zr={doc:e,settings:t,win:r,files:s,stdMode:u,boxModel:f,styleSheetLoader:d,boundEvents:g,styles:v,schema:C,events:y,isBlock:k,root:null,clone:L,getRoot:q,getViewPort:ye,getRect:ge,getSize:ue,getParent:Ke,getParents:Ne,get:S,getNext:vt,getPrev:Zt,select:re,is:Fe,add:be,create:Ae,createHTML:He,createFragment:Ze,remove:it,setStyle:U,getStyle:ie,setStyles:W,removeAllAttribs:Te,setAttrib:T,setAttribs:qe,getAttrib:F,getPos:Y,parseStyle:Ge,serializeStyle:At,addStyle:nt,loadCSS:gt,addClass:ut,removeClass:wt,hasClass:hr,toggleClass:Et,show:Jt,hide:Yr,isHidden:Xn,uniqueId:zl,setHTML:Ve,getOuterHTML:Ul,setOuterHTML:Qr,decode:te,encode:Be,insertAfter:Br,replace:Dt,rename:vr,findCommonAncestor:Xr,run:Ee,getAttribs:P,isEmpty:yr,createRng:wo,nodeIndex:Ai,split:an,bind:qo,unbind:xo,fire:_s,dispatch:Fr,getContentEditable:um,getContentEditableParent:$=>{const M=q();let se=null;for(let J=$;J&&J!==M&&(se=um(J),se===null);J=J.parentNode);return se},isEditable:$=>{if(Z($)){const M=me($)?$:$.parentElement;return Z(M)&&gi(D.fromDom(M))}else return!1},destroy:()=>{if(g.length>0){let $=g.length;for(;$--;){const[M,se,J]=g[$];y.unbind(M,se,J)}}ft(s,($,M)=>{d.unload(M),delete s[M]})},isChildOf:($,M)=>$===M||M.contains($),dumpRng:$=>"startContainer: "+$.startContainer.nodeName+", startOffset: "+$.startOffset+", endContainer: "+$.endContainer.nodeName+", endOffset: "+$.endOffset},Yi=o6(v,t,K(Zr));return Zr};lt.DOM=lt(document),lt.nodeIndex=Ai;const s6=lt.DOM,l6=0,i6=1,xf=2,Lb=3;class jo{constructor(t={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}loadScript(t){return new Promise((n,r)=>{const s=s6;let i;const u=()=>{s.remove(g),i&&(i.onerror=i.onload=i=null)},f=()=>{u(),n()},d=()=>{u(),r("Failed to load script: "+t)},g=s.uniqueId();i=document.createElement("script"),i.id=g,i.type="text/javascript",i.src=le._addCacheSuffix(t),this.settings.referrerPolicy&&s.setAttrib(i,"referrerpolicy",this.settings.referrerPolicy),i.onload=f,i.onerror=d,(document.getElementsByTagName("head")[0]||document.body).appendChild(i)})}isDone(t){return this.states[t]===xf}markDone(t){this.states[t]=xf}add(t){const n=this;return n.queue.push(t),n.states[t]===void 0&&(n.states[t]=l6),new Promise((s,i)=>{n.scriptLoadedCallbacks[t]||(n.scriptLoadedCallbacks[t]=[]),n.scriptLoadedCallbacks[t].push({resolve:s,reject:i})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const n=this,r=(d,g)=>{pt(n.scriptLoadedCallbacks,g).each(C=>{ee(C,v=>v[d](g))}),delete n.scriptLoadedCallbacks[g]},s=d=>{const g=Ie(d,C=>C.status==="rejected");return g.length>0?Promise.reject(lo(g,({reason:C})=>Se(C)?C:[C])):Promise.resolve()},i=d=>Promise.allSettled(Je(d,g=>n.states[g]===xf?(r("resolve",g),Promise.resolve()):n.states[g]===Lb?(r("reject",g),Promise.reject(g)):(n.states[g]=i6,n.loadScript(g).then(()=>{n.states[g]=xf,r("resolve",g);const C=n.queue;return C.length>0?(n.queue=[],i(C).then(s)):Promise.resolve()},()=>(n.states[g]=Lb,r("reject",g),Promise.reject(g)))))),u=d=>(n.loading=!0,i(d).then(g=>{n.loading=!1;const C=n.queueLoadedCallbacks.shift();return E.from(C).each(To),s(g)})),f=Gy(t);return n.loading?new Promise((d,g)=>{n.queueLoadedCallbacks.push(()=>{u(f).then(d,g)})}):u(f)}}jo.ScriptLoader=new jo;const Kt=e=>{let t=e;return{get:()=>t,set:s=>{t=s}}},a6=e=>G(e)&&ze(e,"raw"),u6=e=>Se(e)&&e.length>1,eu={},Tg=Kt("en"),$b=()=>pt(eu,Tg.get()),jr={getData:()=>Xc(eu,e=>({...e})),setCode:e=>{e&&Tg.set(e)},getCode:()=>Tg.get(),add:(e,t)=>{let n=eu[e];n||(eu[e]=n={}),ft(t,(r,s)=>{n[s.toLowerCase()]=r})},translate:e=>{const t=$b().getOr({}),n=u=>je(u)?Object.prototype.toString.call(u):r(u)?"":""+u,r=u=>u===""||u===null||u===void 0,s=u=>{const f=n(u);return pt(t,f.toLowerCase()).map(n).getOr(f)},i=u=>u.replace(/{context:\w+}$/,"");if(r(e))return"";if(a6(e))return n(e.raw);if(u6(e)){const u=e.slice(1),f=s(e[0]).replace(/\{([0-9]+)\}/g,(d,g)=>ze(u,g)?n(u[g]):d);return i(f)}return i(s(e))},isRtl:()=>$b().bind(e=>pt(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>ze(eu,e)},vn=()=>{const e=[],t={},n={},r=[],s=(S,x)=>{const F=Ie(r,P=>P.name===S&&P.state===x);ee(F,P=>P.resolve())},i=S=>ze(t,S),u=S=>ze(n,S),f=S=>{if(n[S])return n[S].instance},d=(S,x)=>{const F=jr.getCode(),P=","+(x||"")+",";!F||x&&P.indexOf(","+F+",")===-1||jo.ScriptLoader.add(t[S]+"/langs/"+F+".js")},g=(S,x)=>{vn.languageLoad!==!1&&(i(S)?d(S,x):k(S,"loaded").then(()=>d(S,x)))},C=(S,x)=>(e.push(x),n[S]={instance:x},s(S,"added"),x),v=S=>{delete t[S],delete n[S]},y=(S,x)=>N(x)?N(S)?{prefix:"",resource:x,suffix:""}:{prefix:S.prefix,resource:x,suffix:S.suffix}:x,w=(S,x)=>{if(t[S])return Promise.resolve();let F=N(x)?x:x.prefix+x.resource+x.suffix;F.indexOf("/")!==0&&F.indexOf("://")===-1&&(F=vn.baseURL+"/"+F),t[S]=F.substring(0,F.lastIndexOf("/"));const P=()=>(s(S,"loaded"),Promise.resolve());return n[S]?P():jo.ScriptLoader.add(F).then(P)},k=(S,x="added")=>x==="added"&&u(S)||x==="loaded"&&i(S)?Promise.resolve():new Promise(F=>{r.push({name:S,state:x,resolve:F})});return{items:e,urls:t,lookup:n,get:f,requireLangPack:g,add:C,remove:v,createUrl:y,load:w,waitFor:k}};vn.languageLoad=!0,vn.baseURL="",vn.PluginManager=vn(),vn.ThemeManager=vn(),vn.ModelManager=vn();const c6=e=>{const t=Kt(E.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(E.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:f=>{n(),t.set(E.some(f))}}},f6=e=>{const t=Kt(E.none()),n=()=>t.get().each(f=>clearInterval(f));return{clear:()=>{n(),t.set(E.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:f=>{n(),t.set(E.some(setInterval(f,e)))}}},gs=()=>{const e=c6($e);return{...e,on:n=>e.get().each(n)}},kf=(e,t)=>{let n=null;return{cancel:()=>{De(n)||(clearTimeout(n),n=null)},throttle:(...i)=>{De(n)&&(n=setTimeout(()=>{n=null,e.apply(null,i)},t))}}},Rg=(e,t)=>{let n=null;const r=()=>{De(n)||(clearTimeout(n),n=null)};return{cancel:r,throttle:(...i)=>{r(),n=setTimeout(()=>{n=null,e.apply(null,i)},t)}}},tu=K("mce-annotation"),gl=K("data-mce-annotation"),Si=K("data-mce-annotation-uid"),nu=K("data-mce-annotation-active"),ru=K("data-mce-annotation-classes"),ou=K("data-mce-annotation-attrs"),Mb=e=>t=>et(t,e),zb=(e,t)=>{const n=e.selection.getRng(),r=D.fromDom(n.startContainer),s=D.fromDom(e.getBody()),i=t.fold(()=>"."+tu(),d=>`[${gl()}="${d}"]`),u=mi(r,n.startOffset).getOr(r);return ll(u,i,Mb(s)).bind(d=>Oo(d,`${Si()}`).bind(g=>Oo(d,`${gl()}`).map(C=>{const v=jb(e,g);return{uid:g,name:C,elements:v}})))},d6=e=>Mn(e)&&eg(e,tu()),Ub=(e,t)=>nf(e,"data-mce-bogus")||rb(e,'[data-mce-bogus="all"]',Mb(t)),jb=(e,t)=>{const n=D.fromDom(e.getBody()),r=mn(n,`[${Si()}="${t}"]`);return Ie(r,s=>!Ub(s,n))},Hb=(e,t)=>{const n=D.fromDom(e.getBody()),r=mn(n,`[${gl()}="${t}"]`),s={};return ee(r,i=>{if(!Ub(i,n)){const u=lr(i,Si()),f=pt(s,u).getOr([]);s[u]=f.concat([i])}}),s},m6=(e,t)=>{const n=Kt({}),r=()=>({listeners:[],previous:gs()}),s=(v,y)=>{i(v,w=>(y(w),w))},i=(v,y)=>{const w=n.get(),k=pt(w,v).getOrThunk(r),S=y(k);w[v]=S,n.set(w)},u=(v,y,w)=>{s(v,k=>{ee(k.listeners,S=>S(!0,v,{uid:y,nodes:Je(w,x=>x.dom)}))})},f=v=>{s(v,y=>{ee(y.listeners,w=>w(!1,v))})},d=(v,y)=>{ee(jb(e,v),w=>{y?Qt(w,nu(),"true"):rn(w,nu())})},g=Rg(()=>{const v=Js(t.getNames());ee(v,y=>{i(y,w=>{const k=w.previous.get();return zb(e,E.some(y)).fold(()=>{k.each(S=>{f(y),w.previous.clear(),d(S,!1)})},({uid:S,name:x,elements:F})=>{ui(k,S)||(k.each(P=>d(P,!1)),u(x,S,F),w.previous.set(S),d(S,!0))}),{previous:w.previous,listeners:w.listeners}})})},30);return e.on("remove",()=>{g.cancel()}),e.on("NodeChange",()=>{g.throttle()}),{addListener:(v,y)=>{i(v,w=>({previous:w.previous,listeners:w.listeners.concat([y])}))}}},p6=(e,t)=>{const n=gl(),r=i=>E.from(i.attr(n)).bind(t.lookup),s=i=>{var u,f;i.attr(Si(),null),i.attr(gl(),null),i.attr(nu(),null);const d=E.from(i.attr(ou())).map(y=>y.split(",")).getOr([]),g=E.from(i.attr(ru())).map(y=>y.split(",")).getOr([]);ee(d,y=>i.attr(y,null));const C=(f=(u=i.attr("class"))===null||u===void 0?void 0:u.split(" "))!==null&&f!==void 0?f:[],v=Yc(C,[tu()].concat(g));i.attr("class",v.length>0?v.join(" "):null),i.attr(ru(),null),i.attr(ou(),null)};e.serializer.addTempAttr(nu()),e.serializer.addAttributeFilter(n,i=>{for(const u of i)r(u).each(f=>{f.persistent===!1&&(u.name==="span"?u.unwrap():s(u))})})},g6=()=>{const e={};return{register:(s,i)=>{e[s]={name:s,settings:i}},lookup:s=>pt(e,s).map(i=>i.settings),getNames:()=>qn(e)}};let Vb=0;const su=e=>{const n=new Date().getTime(),r=Math.floor(Math.random()*1e9);return Vb++,e+"_"+r+Vb+String(n)},h6=(e,t)=>{ee(t,n=>{fi(e,n)})},v6=(e,t)=>{ee(t,n=>{di(e,n)})},Wb=(e,t)=>D.fromDom(e.dom.cloneNode(t)),hl=e=>Wb(e,!1),Kb=e=>Wb(e,!0),C6=(e,t)=>{const n=D.fromTag(t),r=BE(e);return ls(n,r),n},qb=(e,t)=>{const n=C6(e,t);as(e,n);const r=on(e);return il(n,r),ht(e),n},Gb=(e,t,n=rt)=>{const r=new Ut(e,t),s=i=>{let u;do u=r[i]();while(u&&!ne(u)&&!n(u));return E.from(u).filter(ne)};return{current:()=>E.from(r.current()).filter(ne),next:()=>s("next"),prev:()=>s("prev"),prev2:()=>s("prev2")}},vl=(e,t)=>{const n=t||(u=>e.isBlock(u)||St(u)||mt(u)),r=(u,f,d,g)=>{if(ne(u)){const C=g(u,f,u.data);if(C!==-1)return E.some({container:u,offset:C})}return d().bind(C=>r(C.container,C.offset,d,g))};return{backwards:(u,f,d,g)=>{const C=Gb(u,g??e.getRoot(),n);return r(u,f,()=>C.prev().map(v=>({container:v,offset:v.length})),d).getOrNull()},forwards:(u,f,d,g)=>{const C=Gb(u,g??e.getRoot(),n);return r(u,f,()=>C.next().map(v=>({container:v,offset:0})),d).getOrNull()}}},wi=Math.round,Cl=e=>e?{left:wi(e.left),top:wi(e.top),bottom:wi(e.bottom),right:wi(e.right),width:wi(e.width),height:wi(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Yb=(e,t)=>(e=Cl(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),y6=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,Qb=(e,t,n)=>e>=0&&e<=Math.min(t.height,n.height)/2,lu=(e,t)=>{const n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top?!0:e.top>t.bottom?!1:Qb(t.top-e.bottom,e,t)},iu=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:Qb(t.bottom-e.top,e,t),E6=(e,t,n)=>t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom,b6=e=>Kn(e,(t,n)=>t.fold(()=>E.some(n),r=>{const s=Math.min(n.left,r.left),i=Math.min(n.top,r.top),u=Math.max(n.right,r.right),f=Math.max(n.bottom,r.bottom);return E.some({top:i,right:u,bottom:f,left:s,width:u-s,height:f-i})}),E.none()),Xb=(e,t,n)=>{const r=Math.max(Math.min(t,e.left+e.width),e.left),s=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-r)*(t-r)+(n-s)*(n-s))},A6=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),S6=(e,t,n)=>Math.min(Math.max(e,t),n),Df=e=>{const t=e.startContainer,n=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},hs=(e,t)=>{if(me(e)&&e.hasChildNodes()){const n=e.childNodes,r=S6(t,0,n.length-1);return n[r]}else return e},w6=(e,t)=>{if(!(t<0&&me(e)&&e.hasChildNodes()))return hs(e,t)},x6=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),Zb=e=>N(e)&&e.charCodeAt(0)>=768&&x6.test(e),k6=(...e)=>t=>{for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1},D6=(...e)=>t=>{for(let n=0;n<e.length;n++)if(!e[n](t))return!1;return!0},Jb=me,_6=Dr,eA=uf("display","block table"),N6=uf("float","left right"),au=D6(Jb,_6,It(N6)),B6=It(uf("white-space","pre pre-line pre-wrap")),uu=ne,Og=St,tA=lt.nodeIndex,_f=w6,Ig=e=>e?e.createRange():lt.DOM.createRng(),Lg=e=>N(e)&&/[\r\n\t ]/.test(e),nA=e=>!!e.setStart&&!!e.setEnd,$g=e=>{const t=e.startContainer,n=e.startOffset;if(Lg(e.toString())&&B6(t.parentNode)&&ne(t)){const r=t.data;if(Lg(r[n-1])||Lg(r[n+1]))return!0}return!1},F6=e=>{const t=e.ownerDocument,n=Ig(t),r=t.createTextNode(Wt),s=e.parentNode;s.insertBefore(r,e),n.setStart(r,0),n.setEnd(r,1);const i=Cl(n.getBoundingClientRect());return s.removeChild(r),i},P6=e=>{const t=e.startContainer,n=e.endContainer,r=e.startOffset,s=e.endOffset;if(t===n&&ne(n)&&r===0&&s===1){const i=e.cloneRange();return i.setEndAfter(n),vs(i)}else return null},rA=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,vs=e=>{var t;let n;const r=e.getClientRects();return r.length>0?n=Cl(r[0]):n=Cl(e.getBoundingClientRect()),!nA(e)&&Og(e)&&rA(n)?F6(e):rA(n)&&nA(e)&&(t=P6(e))!==null&&t!==void 0?t:n},yl=(e,t)=>{const n=Yb(e,t);return n.width=1,n.right=n.left+1,n},T6=e=>{const t=[],n=u=>{u.height!==0&&(t.length>0&&y6(u,t[t.length-1])||t.push(u))},r=(u,f)=>{const d=Ig(u.ownerDocument);if(f<u.data.length){if(Zb(u.data[f]))return;if(Zb(u.data[f-1])&&(d.setStart(u,f),d.setEnd(u,f+1),!$g(d))){n(yl(vs(d),!1));return}}f>0&&(d.setStart(u,f-1),d.setEnd(u,f),$g(d)||n(yl(vs(d),!1))),f<u.data.length&&(d.setStart(u,f),d.setEnd(u,f+1),$g(d)||n(yl(vs(d),!0)))},s=e.container(),i=e.offset();if(uu(s))return r(s,i),t;if(Jb(s))if(e.isAtEnd()){const u=_f(s,i);uu(u)&&r(u,u.data.length),au(u)&&!Og(u)&&n(yl(vs(u),!1))}else{const u=_f(s,i);if(uu(u)&&r(u,0),au(u)&&e.isAtEnd())return n(yl(vs(u),!1)),t;const f=_f(e.container(),e.offset()-1);au(f)&&!Og(f)&&(eA(f)||eA(u)||!au(u))&&n(yl(vs(f),!1)),au(u)&&n(yl(vs(u),!0))}return t},V=(e,t,n)=>{const r=()=>(uu(e),t===0),s=()=>uu(e)?t>=e.data.length:t>=e.childNodes.length,i=()=>{const C=Ig(e.ownerDocument);return C.setStart(e,t),C.setEnd(e,t),C},u=()=>(n||(n=T6(V(e,t))),n),f=()=>u().length>0,d=C=>C&&e===C.container()&&t===C.offset(),g=C=>_f(e,C?t-1:t);return{container:K(e),offset:K(t),toRange:i,getClientRects:u,isVisible:f,isAtStart:r,isAtEnd:s,isEqual:d,getNode:g}};V.fromRangeStart=e=>V(e.startContainer,e.startOffset),V.fromRangeEnd=e=>V(e.endContainer,e.endOffset),V.after=e=>V(e.parentNode,tA(e)+1),V.before=e=>V(e.parentNode,tA(e)),V.isAbove=(e,t)=>Dn($n(t.getClientRects()),el(e.getClientRects()),lu).getOr(!1),V.isBelow=(e,t)=>Dn(el(t.getClientRects()),$n(e.getClientRects()),iu).getOr(!1),V.isAtStart=e=>e?e.isAtStart():!1,V.isAtEnd=e=>e?e.isAtEnd():!1,V.isTextPosition=e=>e?ne(e.container()):!1,V.isElementPosition=e=>!V.isTextPosition(e);const Nf=(e,t)=>{ne(t)&&t.data.length===0&&e.remove(t)},R6=(e,t,n)=>{t.insertNode(n),Nf(e,n.previousSibling),Nf(e,n.nextSibling)},O6=(e,t,n)=>{const r=E.from(n.firstChild),s=E.from(n.lastChild);t.insertNode(n),r.each(i=>Nf(e,i.previousSibling)),s.each(i=>Nf(e,i.nextSibling))},Mg=(e,t,n)=>{fg(n)?O6(e,t,n):R6(e,t,n)},Hr=ne,oA=ul,sA=lt.nodeIndex,lA=e=>{const t=e.parentNode;return oA(t)?lA(t):t},zg=e=>e?Jc(e.childNodes,(t,n)=>(oA(n)&&n.nodeName!=="BR"?t=t.concat(zg(n)):t.push(n),t),[]):[],I6=(e,t)=>{let n=e;for(;(n=n.previousSibling)&&Hr(n);)t+=n.data.length;return t},iA=e=>t=>e===t,L6=e=>{let t,n;t=zg(lA(e)),n=Qy(t,iA(e),e),t=t.slice(0,n+1);const r=Jc(t,(s,i,u)=>(Hr(i)&&Hr(t[u-1])&&s++,s),0);return t=Ia(t,zr([e.nodeName])),n=Qy(t,iA(e),e),n-r},aA=e=>(Hr(e)?"text()":e.nodeName.toLowerCase())+"["+L6(e)+"]",$6=(e,t,n)=>{const r=[];for(let s=t.parentNode;s&&s!==e&&!(n&&n(s));s=s.parentNode)r.push(s);return r},uA=(e,t)=>{let n=[],r=t.container(),s=t.offset(),i;if(Hr(r))i=I6(r,s);else{const f=r.childNodes;s>=f.length?(i="after",s=f.length-1):i="before",r=f[s]}n.push(aA(r));let u=$6(e,r);return u=Ia(u,It(ul)),n=n.concat(Wp(u,f=>aA(f))),n.reverse().join("/")+","+i},M6=(e,t,n)=>{let r=zg(e);return r=Ia(r,(s,i)=>!Hr(s)||!Hr(r[i-1])),r=Ia(r,zr([t])),r[n]},z6=(e,t)=>{let n=e,r=0;for(;Hr(n);){const s=n.data.length;if(t>=r&&t<=r+s){e=n,t=t-r;break}if(!Hr(n.nextSibling)){e=n,t=s;break}r+=s,n=n.nextSibling}return Hr(e)&&t>e.data.length&&(t=e.data.length),V(e,t)},cA=(e,t)=>{if(!t)return null;const n=t.split(","),r=n[0].split("/"),s=n.length>1?n[1]:"before",i=Jc(r,(u,f)=>{const d=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(f);return d?(d[1]==="text()"&&(d[1]="#text"),M6(u,d[1],parseInt(d[2],10))):null},e);if(!i)return null;if(!Hr(i)&&i.parentNode){let u;return s==="after"?u=sA(i)+1:u=sA(i),V(i.parentNode,u)}return z6(i,parseInt(s,10))},Bf=mt,U6=(e,t,n)=>{let r=e(t.data.slice(0,n)).length;for(let s=t.previousSibling;s&&ne(s);s=s.previousSibling)r+=e(s.data).length;return r},fA=(e,t,n,r,s)=>{const i=s?r.startContainer:r.endContainer;let u=s?r.startOffset:r.endOffset;const f=[],d=e.getRoot();if(ne(i))f.push(n?U6(t,i,u):u);else{let g=0;const C=i.childNodes;u>=C.length&&C.length&&(g=1,u=Math.max(0,C.length-1)),f.push(e.nodeIndex(C[u],n)+g)}for(let g=i;g&&g!==d;g=g.parentNode)f.push(e.nodeIndex(g,n));return f},j6=(e,t,n,r)=>{const s=t.dom,i=fA(s,e,n,r,!0),u=t.isForward(),f=fb(r)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:i,forward:u,...f};{const d=fA(s,e,n,r,!1);return{start:i,end:d,forward:u,...f}}},Ug=(e,t,n)=>{let r=0;return le.each(e.select(t),s=>{if(s.getAttribute("data-mce-bogus")!=="all"){if(s===n)return!1;r++;return}}),r},dA=(e,t)=>{let n=t?e.startContainer:e.endContainer,r=t?e.startOffset:e.endOffset;if(me(n)&&n.nodeName==="TR"){const s=n.childNodes;n=s[Math.min(t?r:r-1,s.length-1)],n&&(r=t?0:n.childNodes.length,t?e.setStart(n,r):e.setEnd(n,r))}},mA=e=>(dA(e,!0),dA(e,!1),e),pA=(e,t)=>{if(me(e)&&(e=hs(e,t),Bf(e)))return e;if(ar(e)){ne(e)&&Ei(e)&&(e=e.parentNode);let n=e.previousSibling;if(Bf(n)||(n=e.nextSibling,Bf(n)))return n}},H6=e=>pA(e.startContainer,e.startOffset)||pA(e.endContainer,e.endOffset),gA=(e,t,n)=>{const r=n.getNode(),s=n.getRng();if(r.nodeName==="IMG"||Bf(r)){const u=r.nodeName;return{name:u,index:Ug(n.dom,u,r)}}const i=H6(s);if(i){const u=i.tagName;return{name:u,index:Ug(n.dom,u,i)}}return j6(e,n,t,s)},V6=e=>{const t=e.getRng();return{start:uA(e.dom.getRoot(),V.fromRangeStart(t)),end:uA(e.dom.getRoot(),V.fromRangeEnd(t)),forward:e.isForward()}},W6=e=>({rng:e.getRng(),forward:e.isForward()}),hA=(e,t,n)=>{const r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",r,"&#xFEFF;"):e.create("span",r)},vA=(e,t)=>{const n=e.dom;let r=e.getRng();const s=n.uniqueId(),i=e.isCollapsed(),u=e.getNode(),f=u.nodeName,d=e.isForward();if(f==="IMG")return{name:f,index:Ug(n,f,u)};const g=mA(r.cloneRange());if(!i){g.collapse(!1);const v=hA(n,s+"_end",t);Mg(n,g,v)}r=mA(r),r.collapse(!0);const C=hA(n,s+"_start",t);return Mg(n,r,C),e.moveToBookmark({id:s,keep:!0,forward:d}),{id:s,forward:d}},K6=(e,t,n=!1)=>t===2?gA(Uo,n,e):t===3?V6(e):t?W6(e):vA(e,!1),jg=ce(gA,Me,!0),CA=e=>{const t=i=>i(e),n=K(e),r=()=>s,s={tag:!0,inner:e,fold:(i,u)=>u(e),isValue:yt,isError:rt,map:i=>_n.value(i(e)),mapError:r,bind:t,exists:t,forall:t,getOr:n,or:r,getOrThunk:n,orThunk:r,getOrDie:n,each:i=>{i(e)},toOptional:()=>E.some(e)};return s},yA=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(r,s)=>r(e),isValue:rt,isError:yt,map:t,mapError:r=>_n.error(r(e)),bind:t,exists:rt,forall:yt,getOr:Me,or:Me,getOrThunk:$r,orThunk:$r,getOrDie:Zs(String(e)),each:$e,toOptional:E.none};return n},_n={value:CA,error:yA,fromOption:(e,t)=>e.fold(()=>yA(t),CA)},po={generate:e=>{if(!Se(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],n={};return ee(e,(r,s)=>{const i=qn(r);if(i.length!==1)throw new Error("one and only one name per case");const u=i[0],f=r[u];if(n[u]!==void 0)throw new Error("duplicate key detected:"+u);if(u==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Se(f))throw new Error("case arguments must be an array");t.push(u),n[u]=(...d)=>{const g=d.length;if(g!==f.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+f.length+" ("+f+"), got "+g);return{fold:(...v)=>{if(v.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+v.length);return v[s].apply(null,d)},match:v=>{const y=qn(v);if(t.length!==y.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+y.join(","));if(!ss(t,k=>ot(y,k)))throw new Error("Not all branches were specified when using match. Specified: "+y.join(", ")+`
Required: `+t.join(", "));return v[u].apply(null,d)},log:v=>{console.log(v,{constructors:t,constructor:u,params:d})}}}}),n}};po.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const q6=e=>{const t=[],n=[];return ee(e,r=>{r.fold(s=>{t.push(s)},s=>{n.push(s)})}),{errors:t,values:n}},G6=e=>e.type==="inline-command"||e.type==="inline-format",Y6=e=>e.type==="block-command"||e.type==="block-format",Q6=e=>{const t=r=>_n.error({message:r,pattern:e}),n=(r,s,i)=>{if(e.format!==void 0){let u;if(Se(e.format)){if(!ss(e.format,N))return t(r+" pattern has non-string items in the `format` array");u=e.format}else if(N(e.format))u=[e.format];else return t(r+" pattern has non-string `format` parameter");return _n.value(s(u))}else return e.cmd!==void 0?N(e.cmd)?_n.value(i(e.cmd,e.value)):t(r+" pattern has non-string `cmd` parameter"):t(r+" pattern is missing both `format` and `cmd` parameters")};if(!G(e))return t("Raw pattern is not an object");if(!N(e.start))return t("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!N(e.end))return t("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return t("Inline pattern has empty `start` and `end` parameters");let r=e.start,s=e.end;return s.length===0&&(s=r,r=""),n("Inline",i=>({type:"inline-format",start:r,end:s,format:i}),(i,u)=>({type:"inline-command",start:r,end:s,cmd:i,value:u}))}else return e.replacement!==void 0?N(e.replacement)?e.start.length===0?t("Replacement pattern has empty `start` parameter"):_n.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):t("Replacement pattern has non-string `replacement` parameter"):e.start.length===0?t("Block pattern has empty `start` parameter"):n("Block",r=>({type:"block-format",start:e.start,format:r[0]}),(r,s)=>({type:"block-command",start:e.start,cmd:r,value:s}))},EA=e=>Ie(e,Y6),bA=e=>Ie(e,G6),X6=(e,t)=>({inlinePatterns:bA(e),blockPatterns:EA(e),dynamicPatternsLookup:t}),AA=e=>{const t=q6(Je(e,Q6));return ee(t.errors,n=>console.error(n.message,n.pattern)),t.values},Z6=e=>t=>{const n=e(t);return AA(n)},Hg=ao().deviceType,J6=Hg.isTouch(),e7=lt.DOM,t7=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return Kn(t,(n,r)=>{const s=r.split("="),i=s[0],u=s.length>1?s[1]:i;return n[ai(i)]=ai(u),n},{})},SA=e=>B(e,RegExp),pe=e=>t=>t.options.get(e),Vg=e=>N(e)||G(e),wA=(e,t="")=>n=>{const r=N(n);if(r)if(n.indexOf("=")!==-1){const s=t7(n);return{value:pt(s,e.id).getOr(t),valid:r}}else return{value:n,valid:r};else return{valid:!1,message:"Must be a string."}},n7=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:wA(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:wA(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:n=>{const r=N(n)&&io(n);return r?{value:n,valid:r}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:n=>{const r=ot(["block","linebreak","invert","default"],n);return r?{value:n,valid:r}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:n=>_e(n)?{valid:!0,value:n}:N(n)?{valid:!0,value:n}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:n=>{const r=n===!1||N(n)||fn(n,N);return r?N(n)?{value:Je(n.split(","),ai),valid:r}:Se(n)?{value:n,valid:r}:n===!1?{value:[],valid:r}:{value:n,valid:r}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:qg(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:n=>{const r=N(n)||fn(n,N);return r?{value:Se(n)?n:Je(n.split(","),ai),valid:r}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:n=>{const r=_e(n)||N(n);return r?n===!1||Hg.isiPhone()||Hg.isiPad()?{value:"",valid:r}:{value:n===!0?"table,img,figure.image,div,video,iframe":n,valid:r}:{valid:!1,message:"Must be boolean or a string"}},default:!J6}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"object"}),t("service_message",{processor:"string"}),t("theme",{processor:n=>n===!1||N(n)||je(n),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:n=>{const r=n===!1||N(n);return r?{value:n===!1?"":n,valid:r}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:"string"}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:Vg}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:Vg}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:Vg}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:n=>N(n)||n===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:n=>fn(n,G)||n===!1?{value:AA(n===!1?[]:n),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),t("text_patterns_lookup",{processor:n=>je(n)?{value:Z6(n),valid:!0}:{valid:!1,message:"Must be a single function"},default:n=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:n=>fn(n,SA)?{value:n,valid:!0}:SA(n)?{value:[n],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!1}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:n=>{const r=ot(["inherited","collapsed","expanded"],n);return r?{value:n,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:n=>{const r=ot(["inherited","collapsed","expanded"],n);return r?{value:n,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:jr.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:e7.getAttrib(e.getElement(),"placeholder")})})},r7=pe("iframe_attrs"),o7=pe("doctype"),xA=pe("document_base_url"),s7=pe("body_id"),l7=pe("body_class"),kA=pe("content_security_policy"),i7=pe("br_in_pre"),Nn=pe("forced_root_block"),cu=pe("forced_root_block_attrs"),a7=pe("newline_behavior"),u7=pe("br_newline_selector"),c7=pe("no_newline_selector"),f7=pe("keep_styles"),d7=pe("end_container_on_empty_block"),DA=pe("automatic_uploads"),_A=pe("images_reuse_filename"),m7=pe("images_replace_blob_uris"),NA=pe("icons"),p7=pe("icons_url"),g7=pe("images_upload_url"),h7=pe("images_upload_base_path"),v7=pe("images_upload_credentials"),C7=pe("images_upload_handler"),y7=pe("content_css_cors"),Wg=pe("referrer_policy"),BA=pe("language"),E7=pe("language_url"),FA=pe("indent_use_margin"),b7=pe("indentation"),A7=pe("content_css"),S7=pe("content_style"),PA=pe("font_css"),w7=pe("directionality"),x7=pe("inline_boundaries_selector"),TA=pe("object_resizing"),k7=pe("resize_img_proportional"),D7=pe("placeholder"),RA=pe("event_root"),_7=pe("service_message"),xi=pe("theme"),N7=pe("theme_url"),Kg=pe("model"),B7=pe("model_url"),fu=pe("inline_boundaries"),F7=pe("formats"),P7=pe("preview_styles"),T7=pe("format_empty_lines"),R7=pe("format_noneditable_selector"),O7=pe("custom_ui_selector"),qg=pe("inline"),I7=pe("hidden_input"),L7=pe("submit_patch"),$7=pe("add_form_submit_trigger"),M7=pe("add_unload_trigger"),z7=pe("custom_undo_redo_levels"),U7=pe("disable_nodechange"),OA=pe("readonly"),j7=pe("editable_root"),IA=pe("content_css_cors"),Ff=pe("plugins"),H7=pe("external_plugins"),V7=pe("block_unsupported_drop"),W7=pe("visual"),K7=pe("visual_table_class"),LA=pe("visual_anchor_class"),q7=pe("iframe_aria_text"),G7=pe("setup"),Y7=pe("init_instance_callback"),Q7=pe("urlconverter_callback"),X7=pe("auto_focus"),Z7=pe("browser_spellcheck"),J7=pe("protect"),e8=pe("paste_block_drop"),Pf=pe("paste_data_images"),t8=pe("paste_preprocess"),n8=pe("paste_postprocess"),r8=pe("newdocument_content"),o8=pe("paste_webkit_styles"),s8=pe("paste_remove_styles_if_webkit"),l8=pe("paste_merge_formats"),i8=pe("smart_paste"),a8=pe("paste_as_text"),u8=pe("paste_tab_spaces"),c8=pe("allow_html_data_urls"),f8=pe("text_patterns"),d8=pe("text_patterns_lookup"),$A=pe("noneditable_class"),m8=pe("editable_class"),p8=pe("noneditable_regexp"),g8=pe("preserve_cdata"),h8=pe("highlight_on_focus"),Gg=pe("xss_sanitization"),v8=pe("init_content_sync"),C8=e=>e.options.isSet("text_patterns_lookup"),y8=e=>le.explode(e.options.get("font_size_style_values")),E8=e=>le.explode(e.options.get("font_size_classes")),b8=e=>e.options.get("encoding")==="xml",MA=e=>le.explode(e.options.get("images_file_types")),A8=pe("table_tab_navigation"),S8=pe("details_initial_state"),w8=pe("details_serialized_state"),x8=me,zA=ne,UA=e=>{const t=e.parentNode;t&&t.removeChild(e)},jA=e=>{const t=Uo(e);return{count:e.length-t.length,text:t}},HA=e=>{let t;for(;(t=e.data.lastIndexOf(sn))!==-1;)e.deleteData(t,1)},VA=(e,t)=>(El(e),t),k8=(e,t)=>{const n=jA(e.data.substr(0,t.offset())),r=jA(e.data.substr(t.offset()));return(n.text+r.text).length>0?(HA(e),V(e,t.offset()-n.count)):t},D8=(e,t)=>{const n=t.container(),r=QR(kn(n.childNodes),e).map(s=>s<t.offset()?V(n,t.offset()-1):t).getOr(t);return El(e),r},_8=(e,t)=>zA(e)&&t.container()===e?k8(e,t):VA(e,t),N8=(e,t)=>t.container()===e.parentNode?D8(e,t):VA(e,t),B8=(e,t)=>V.isTextPosition(t)?_8(e,t):N8(e,t),El=e=>{x8(e)&&ar(e)&&(cb(e)?e.removeAttribute("data-mce-caret"):UA(e)),zA(e)&&(HA(e),e.data.length===0&&UA(e))},F8=mt,P8=mo,T8=cf,R8="*[contentEditable=false],video,audio,embed,object",WA=(e,t,n)=>{const r=Yb(t.getBoundingClientRect(),n);let s,i;if(e.tagName==="BODY"){const f=e.ownerDocument.documentElement;s=e.scrollLeft||f.scrollLeft,i=e.scrollTop||f.scrollTop}else{const f=e.getBoundingClientRect();s=e.scrollLeft-f.left,i=e.scrollTop-f.top}r.left+=s,r.right+=s,r.top+=i,r.bottom+=i,r.width=1;let u=t.offsetWidth-t.clientWidth;return u>0&&(n&&(u*=-1),r.left+=u,r.right+=u),r},O8=e=>{var t,n;const r=mn(D.fromDom(e),R8);for(let s=0;s<r.length;s++){const i=r[s].dom;let u=i.previousSibling;if(vf(u)){const f=u.data;f.length===1?(t=u.parentNode)===null||t===void 0||t.removeChild(u):u.deleteData(f.length-1,1)}u=i.nextSibling,hf(u)&&(u.data.length===1?(n=u.parentNode)===null||n===void 0||n.removeChild(u):u.deleteData(0,1))}},I8=(e,t,n,r)=>{const s=gs();let i,u;const f=Nn(e),d=e.dom,g=(S,x)=>{let F;if(C(),T8(x))return null;if(n(x)){const P=ZO(f,x,S),T=WA(t,x,S);d.setStyle(P,"top",T.top),u=P;const L=d.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});d.setStyles(L,{...T}),d.add(t,L),s.set({caret:L,element:x,before:S}),S&&d.addClass(L,"mce-visual-caret-before"),v(),F=x.ownerDocument.createRange(),F.setStart(P,0),F.setEnd(P,0)}else return u=XO(x,S),F=x.ownerDocument.createRange(),du(u.nextSibling)?(F.setStart(u,0),F.setEnd(u,0)):(F.setStart(u,1),F.setEnd(u,1)),F;return F},C=()=>{O8(t),u&&(El(u),u=null),s.on(S=>{d.remove(S.caret),s.clear()}),i&&(clearInterval(i),i=void 0)},v=()=>{i=setInterval(()=>{s.on(S=>{r()?d.toggleClass(S.caret,"mce-visual-caret-hidden"):d.addClass(S.caret,"mce-visual-caret-hidden")})},500)};return{show:g,hide:C,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{s.on(S=>{const x=WA(t,S.element,S.before);d.setStyles(S.caret,{...x})})},destroy:()=>clearInterval(i)}},KA=()=>Qe.browser.isFirefox(),du=e=>F8(e)||P8(e),mu=e=>(du(e)||zo(e)&&KA())&&tg(D.fromDom(e)).exists(gi),L8=Ur,Yg=mt,$8=mo,qA=uf("display","block table table-cell table-caption list-item"),GA=ar,YA=Ei,M8=me,z8=ne,U8=Dr,ki=e=>e>0,bl=e=>e<0,Tf=(e,t)=>{let n;for(;n=e(t);)if(!YA(n))return n;return null},pu=(e,t,n,r,s)=>{const i=new Ut(e,r),u=Yg(e)||YA(e);let f;if(bl(t)){if(u&&(f=Tf(i.prev.bind(i),!0),n(f)))return f;for(;f=Tf(i.prev.bind(i),s);)if(n(f))return f}if(ki(t)){if(u&&(f=Tf(i.next.bind(i),!0),n(f)))return f;for(;f=Tf(i.next.bind(i),s);)if(n(f))return f}return null},j8=(e,t)=>{const n=s=>L8(s.dom),r=s=>s.dom===t;return $o(D.fromDom(e),n,r).map(s=>s.dom).getOr(t)},Cs=(e,t)=>{for(;e&&e!==t;){if(qA(e))return e;e=e.parentNode}return null},go=(e,t,n)=>Cs(e.container(),n)===Cs(t.container(),n),Qg=(e,t)=>{if(!t)return E.none();const n=t.container(),r=t.offset();return M8(n)?E.from(n.childNodes[r+e]):E.none()},QA=(e,t)=>{var n;const s=((n=t.ownerDocument)!==null&&n!==void 0?n:document).createRange();return e?(s.setStartBefore(t),s.setEndBefore(t)):(s.setStartAfter(t),s.setEndAfter(t)),s},H8=(e,t,n)=>Cs(t,e)===Cs(n,e),XA=(e,t,n)=>{const r=e?"previousSibling":"nextSibling";let s=n;for(;s&&s!==t;){let i=s[r];if(i&&GA(i)&&(i=i[r]),Yg(i)||$8(i)){if(H8(t,i,s))return i;break}if(U8(i))break;s=s.parentNode}return null},gu=ce(QA,!0),hu=ce(QA,!1),Xg=(e,t,n)=>{let r;const s=ce(XA,!0,t),i=ce(XA,!1,t),u=n.startContainer,f=n.startOffset;if(Ei(u)){const d=z8(u)?u.parentNode:u,g=d.getAttribute("data-mce-caret");if(g==="before"&&(r=d.nextSibling,mu(r)))return gu(r);if(g==="after"&&(r=d.previousSibling,mu(r)))return hu(r)}if(!n.collapsed)return n;if(ne(u)){if(GA(u)){if(e===1){if(r=i(u),r)return gu(r);if(r=s(u),r)return hu(r)}if(e===-1){if(r=s(u),r)return hu(r);if(r=i(u),r)return gu(r)}return n}if(vf(u)&&f>=u.data.length-1)return e===1&&(r=i(u),r)?gu(r):n;if(hf(u)&&f<=1)return e===-1&&(r=s(u),r)?hu(r):n;if(f===u.data.length)return r=i(u),r?gu(r):n;if(f===0)return r=s(u),r?hu(r):n}return n},ZA=(e,t)=>Qg(e?0:-1,t).filter(Yg),vu=(e,t,n)=>{const r=Xg(e,t,n);return e===-1?V.fromRangeStart(r):V.fromRangeEnd(r)},Rf=e=>E.from(e.getNode()).map(D.fromDom),V8=e=>E.from(e.getNode(!0)).map(D.fromDom),Zg=(e,t)=>{let n=t;for(;n=e(n);)if(n.isVisible())return n;return n},Of=(e,t)=>{const n=go(e,t);return!n&&St(e.getNode())?!0:n};var qt;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(qt||(qt={}));const W8=mt,ho=ne,JA=me,Jg=St,Di=Dr,eS=u3,If=pb,K8=(e,t)=>{const n=[];let r=e;for(;r&&r!==t;)n.push(r),r=r.parentNode;return n},tS=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,nS=(e,t)=>{if(ki(e)){if(Di(t.previousSibling)&&!ho(t.previousSibling))return V.before(t);if(ho(t))return V(t,0)}if(bl(e)){if(Di(t.nextSibling)&&!ho(t.nextSibling))return V.after(t);if(ho(t))return V(t,t.data.length)}return bl(e)?Jg(t)?V.before(t):V.after(t):V.before(t)},q8=(e,t)=>{const n=t.nextSibling;return n&&Di(n)?ho(n)?V(n,0):V.before(n):eh(qt.Forwards,V.after(t),e)},eh=(e,t,n)=>{let r,s,i,u;if(!JA(n)||!t)return null;if(t.isEqual(V.after(n))&&n.lastChild){if(u=V.after(n.lastChild),bl(e)&&Di(n.lastChild)&&JA(n.lastChild))return Jg(n.lastChild)?V.before(n.lastChild):u}else u=t;const f=u.container();let d=u.offset();if(ho(f)){if(bl(e)&&d>0)return V(f,--d);if(ki(e)&&d<f.length)return V(f,++d);r=f}else{if(bl(e)&&d>0&&(s=tS(f,d-1),Di(s)))return!eS(s)&&(i=pu(s,e,If,s),i)?ho(i)?V(i,i.data.length):V.after(i):ho(s)?V(s,s.data.length):V.before(s);if(ki(e)&&d<f.childNodes.length&&(s=tS(f,d),Di(s)))return Jg(s)?q8(n,s):!eS(s)&&(i=pu(s,e,If,s),i)?ho(i)?V(i,0):V.before(i):ho(s)?V(s,0):V.after(s);r=s||u.getNode()}if(r&&(ki(e)&&u.isAtEnd()||bl(e)&&u.isAtStart())&&(r=pu(r,e,yt,n,!0),If(r,n)))return nS(e,r);s=r&&pu(r,e,If,n);const g=tl(Ie(K8(f,n),W8));return g&&(!s||!g.contains(s))?(ki(e)?u=V.after(g):u=V.before(g),u):s?nS(e,s):null},vo=e=>({next:t=>eh(qt.Forwards,t,e),prev:t=>eh(qt.Backwards,t,e)}),G8=(e,t,n)=>{const r=e?V.before(n):V.after(n);return ur(e,t,r)},Y8=e=>St(e)?V.before(e):V.after(e),rS=e=>V.isTextPosition(e)?e.offset()===0:Dr(e.getNode()),oS=e=>{if(V.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return Dr(e.getNode(!0))},sS=(e,t)=>!V.isTextPosition(e)&&!V.isTextPosition(t)&&e.getNode()===t.getNode(!0),Q8=e=>!V.isTextPosition(e)&&St(e.getNode()),X8=(e,t,n)=>e?!sS(t,n)&&!Q8(t)&&oS(t)&&rS(n):!sS(n,t)&&rS(t)&&oS(n),ur=(e,t,n)=>{const r=vo(t);return E.from(e?r.next(n):r.prev(n))},Cu=(e,t,n)=>ur(e,t,n).bind(r=>go(n,r,t)&&X8(e,n,r)?ur(e,t,r):E.some(r)),lS=(e,t,n,r)=>Cu(e,t,n).bind(s=>r(s)?lS(e,t,s,r):E.some(s)),_i=(e,t)=>{const n=e?t.firstChild:t.lastChild;return ne(n)?E.some(V(n,e?0:n.data.length)):n?Dr(n)?E.some(e?V.before(n):Y8(n)):G8(e,t,n):E.none()},Cn=ce(ur,!0),Bn=ce(ur,!1),yn=ce(_i,!0),_r=ce(_i,!1),th="_mce_caret",Nr=e=>me(e)&&e.id===th,Al=(e,t)=>{let n=t;for(;n&&n!==e;){if(Nr(n))return n;n=n.parentNode}return null},Z8=e=>N(e.start),J8=e=>ze(e,"rng"),eI=e=>ze(e,"id"),iS=e=>ze(e,"name"),aS=e=>le.isArray(e.start),Lf=e=>!iS(e)&&_e(e.forward)?e.forward:!0,uS=(e,t)=>(me(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),tI=(e,t)=>{const n=E.from(cA(e.getRoot(),t.start)),r=E.from(cA(e.getRoot(),t.end));return Dn(n,r,(s,i)=>{const u=e.createRng();return u.setStart(s.container(),s.offset()),u.setEnd(i.container(),i.offset()),{range:u,forward:Lf(t)}})},nI=(e,t)=>{var n;const s=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(sn);e.appendChild(s),t.setStart(s,0),t.setEnd(s,0)},rI=e=>!e.hasChildNodes(),oI=(e,t)=>_r(e).fold(rt,n=>(t.setStart(n.container(),n.offset()),t.setEnd(n.container(),n.offset()),!0)),cS=(e,t,n)=>rI(t)&&Al(e,t)?(nI(t,n),!0):!1,fS=(e,t,n,r)=>{const s=n[t?"start":"end"],i=e.getRoot();if(s){let u=i,f=s[0];for(let d=s.length-1;u&&d>=1;d--){const g=u.childNodes;if(cS(i,u,r))return!0;if(s[d]>g.length-1)return cS(i,u,r)?!0:oI(u,r);u=g[s[d]]}ne(u)&&(f=Math.min(s[0],u.data.length)),me(u)&&(f=Math.min(s[0],u.childNodes.length)),t?r.setStart(u,f):r.setEnd(u,f)}return!0},nh=e=>ne(e)&&e.data.length>0,dS=(e,t,n)=>{const r=e.get(n.id+"_"+t),s=r==null?void 0:r.parentNode,i=n.keep;if(r&&s){let u,f;if(t==="start"?i?r.hasChildNodes()?(u=r.firstChild,f=1):nh(r.nextSibling)?(u=r.nextSibling,f=0):nh(r.previousSibling)?(u=r.previousSibling,f=r.previousSibling.data.length):(u=s,f=e.nodeIndex(r)+1):(u=s,f=e.nodeIndex(r)):i?r.hasChildNodes()?(u=r.firstChild,f=1):nh(r.previousSibling)?(u=r.previousSibling,f=r.previousSibling.data.length):(u=s,f=e.nodeIndex(r)):(u=s,f=e.nodeIndex(r)),!i){const d=r.previousSibling,g=r.nextSibling;le.each(le.grep(r.childNodes),v=>{ne(v)&&(v.data=v.data.replace(/\uFEFF/g,""))});let C;for(;C=e.get(n.id+"_"+t);)e.remove(C,!0);if(ne(g)&&ne(d)&&!Qe.browser.isOpera()){const v=d.data.length;d.appendData(g.data),e.remove(g),u=d,f=v}}return E.some(V(u,f))}else return E.none()},sI=(e,t)=>{const n=e.createRng();return fS(e,!0,t,n)&&fS(e,!1,t,n)?E.some({range:n,forward:Lf(t)}):E.none()},lI=(e,t)=>{const n=dS(e,"start",t),r=dS(e,"end",t);return Dn(n,r.or(n),(s,i)=>{const u=e.createRng();return u.setStart(uS(e,s.container()),s.offset()),u.setEnd(uS(e,i.container()),i.offset()),{range:u,forward:Lf(t)}})},iI=(e,t)=>E.from(e.select(t.name)[t.index]).map(n=>{const r=e.createRng();return r.selectNode(n),{range:r,forward:!0}}),aI=(e,t)=>{const n=e.dom;if(t){if(aS(t))return sI(n,t);if(Z8(t))return tI(n,t);if(eI(t))return lI(n,t);if(iS(t))return iI(n,t);if(J8(t))return E.some({range:t.rng,forward:Lf(t)})}return E.none()},uI=(e,t,n)=>K6(e,t,n),cI=(e,t)=>{aI(e,t).each(({range:n,forward:r})=>{e.setRng(n,r)})},cr=e=>me(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",$f=(e=>t=>e===t)(Wt),Ni=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,rh=e=>!Ni(e)&&!$f(e)&&!dg(e),fI=e=>({value:dI(e)}),dI=e=>eE(e,"#").toUpperCase(),oh=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},mI=e=>{const t=oh(e.red)+oh(e.green)+oh(e.blue);return fI(t)},pI=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,gI=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,mS=(e,t,n,r)=>({red:e,green:t,blue:n,alpha:r}),pS=(e,t,n,r)=>{const s=parseInt(e,10),i=parseInt(t,10),u=parseInt(n,10),f=parseFloat(r);return mS(s,i,u,f)},hI=e=>{if(e==="transparent")return E.some(mS(0,0,0,0));const t=pI.exec(e);if(t!==null)return E.some(pS(t[1],t[2],t[3],"1"));const n=gI.exec(e);return n!==null?E.some(pS(n[1],n[2],n[3],n[4])):E.none()},Mf=e=>hI(e).map(mI).map(t=>"#"+t.value).getOr(e),sh=e=>{const t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},vI=e=>lo(e,t=>{const n=Df(t);return n?[D.fromDom(n)]:[]}),CI=e=>sh(e).length>1,yI=e=>Ie(vI(e),Qa),EI=e=>mn(e,"td[data-mce-selected],th[data-mce-selected]"),gS=(e,t)=>{const n=EI(t);return n.length>0?n:yI(e)},Bi=e=>gS(sh(e.selection.getSel()),D.fromDom(e.getBody())),yu=(e,t)=>Va(e,"table",t),bI=e=>{const t=e.startContainer,n=e.startOffset;return ne(t)?n===0?E.some(D.fromDom(t)):E.none():E.from(t.childNodes[n]).map(D.fromDom)},AI=e=>{const t=e.endContainer,n=e.endOffset;return ne(t)?n===t.data.length?E.some(D.fromDom(t)):E.none():E.from(t.childNodes[n-1]).map(D.fromDom)},hS=e=>ng(e).fold(K([e]),t=>[e].concat(hS(t))),lh=e=>rg(e).fold(K([e]),t=>dt(t)==="br"?ol(t).map(n=>[e].concat(lh(n))).getOr([]):[e].concat(lh(t))),ih=(e,t)=>Dn(bI(t),AI(t),(n,r)=>{const s=zt(hS(e),ce(et,n)),i=zt(lh(e),ce(et,r));return s.isSome()&&i.isSome()}).getOr(!1),ah=(e,t,n,r)=>{const s=n,i=new Ut(n,s),u=Oa(e.schema.getMoveCaretBeforeOnEnterElements(),(d,g)=>!ot(["td","th","table"],g.toLowerCase()));let f=n;do{if(ne(f)&&le.trim(f.data).length!==0){r?t.setStart(f,0):t.setEnd(f,f.data.length);return}if(u[f.nodeName]){r?t.setStartBefore(f):f.nodeName==="BR"?t.setEndBefore(f):t.setEndAfter(f);return}}while(f=r?i.next():i.prev());s.nodeName==="BODY"&&(r?t.setStart(s,0):t.setEnd(s,s.childNodes.length))},zf=e=>{const t=e.selection.getSel();return Z(t)&&t.rangeCount>0},uh=(e,t)=>{const n=Bi(e);n.length>0?ee(n,r=>{const s=r.dom,i=e.dom.createRng();i.setStartBefore(s),i.setEndAfter(s),t(i,!0)}):t(e.selection.getRng(),!1)},vS=(e,t,n)=>{const r=vA(e,t);n(r),e.moveToBookmark(r)},Eu=e=>Ot(e==null?void 0:e.nodeType),ch=e=>me(e)&&!cr(e)&&!Nr(e)&&!ul(e),SI=(e,t)=>{if(ch(t)&&!/^(TD|TH)$/.test(t.nodeName)){const n=e.getAttrib(t,"data-mce-selected"),r=parseInt(n,10);return!isNaN(r)&&r>0}else return!1},Sl=e=>e.isContentEditable===!0,CS=(e,t,n)=>{const{selection:r,dom:s}=e,i=r.getNode(),u=mt(i);vS(r,!0,()=>{t()}),u&&mt(i)&&s.isChildOf(i,e.getBody())?e.selection.select(i):n(r.getStart())&&wI(s,r)},wI=(e,t)=>{var n,r;const s=t.getRng(),{startContainer:i,startOffset:u}=s,f=t.getNode();if(!SI(e,f)&&me(i)){const d=i.childNodes,g=e.getRoot();let C;if(u<d.length){const v=d[u];C=new Ut(v,(n=e.getParent(v,e.isBlock))!==null&&n!==void 0?n:g)}else{const v=d[d.length-1];C=new Ut(v,(r=e.getParent(v,e.isBlock))!==null&&r!==void 0?r:g),C.next(!0)}for(let v=C.current();v;v=C.next()){if(e.getContentEditable(v)==="false")return;if(ne(v)&&!dh(v)){s.setStart(v,0),t.setRng(s);return}}}},yS=(e,t,n)=>{if(e){const r=t?"nextSibling":"previousSibling";for(e=n?e:e[r];e;e=e[r])if(me(e)||!dh(e))return e}},fh=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||dl(e,t),Fi=(e,t,n)=>e.schema.isValidChild(t,n),dh=(e,t=!1)=>{if(Z(e)&&ne(e)){const n=t?e.data.replace(/ /g,""):e.data;return fl(n)}else return!1},xI=e=>Z(e)&&ne(e)&&e.length===0,kI=(e,t)=>{const n="[data-mce-cef-wrappable]",r=R7(e),s=$a(r)?n:`${n},${r}`;return Mr(D.fromDom(t),s)},ES=(e,t)=>{const n=e.dom;return ch(t)&&n.getContentEditable(t)==="false"&&kI(e,t)&&n.select('[contenteditable="true"]',t).length===0},ys=(e,t)=>je(e)?e(t):(Z(t)&&(e=e.replace(/%(\w+)/g,(n,r)=>t[r]||n)),e),mh=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),ph=(e,t)=>{if(de(e))return null;{let n=String(e);return(t==="color"||t==="backgroundColor")&&(n=Mf(n)),t==="fontWeight"&&e===700&&(n="bold"),t==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n}},Uf=(e,t,n)=>{const r=e.getStyle(t,n);return ph(r,n)},bS=(e,t)=>{let n;return e.getParent(t,r=>me(r)?(n=e.getStyle(r,"text-decoration"),!!n&&n!=="none"):!1),n},jf=(e,t,n)=>e.getParents(t,n,e.getRoot()),gh=(e,t,n)=>{const r=e.formatter.get(t);return Z(r)&&Bt(r,n)},DI=(e,t)=>gh(e,t,r=>{const s=i=>je(i)||i.length>1&&i.charAt(0)==="%";return Bt(["styles","attributes"],i=>pt(r,i).exists(u=>{const f=Se(u)?u:Hp(u);return Bt(f,s)}))}),_I=(e,t,n)=>{const r=["inline","block","selector","attributes","styles","classes"],s=i=>Oa(i,(u,f)=>Bt(r,d=>d===f));return gh(e,t,i=>{const u=s(i);return gh(e,n,f=>{const d=s(f);return t4(u,d)})})},Co=e=>ii(e,"block"),NI=e=>Co(e)&&e.wrapper===!0,BI=e=>Co(e)&&e.wrapper!==!0,fr=e=>ii(e,"selector"),jt=e=>ii(e,"inline"),FI=e=>fr(e)&&jt(e)&&ui(pt(e,"mixed"),!0),hh=e=>fr(e)&&e.expand!==!1&&!jt(e),Pi=cr,AS=jf,SS=dh,PI=fh,TI=e=>St(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,wS=(e,t)=>{let n=t;for(;n;){if(me(n)&&e.getContentEditable(n))return e.getContentEditable(n)==="false"?n:t;n=n.parentNode}return t},xS=(e,t,n,r)=>{const s=t.data;if(e){for(let i=n;i>0;i--)if(r(s.charAt(i-1)))return i}else for(let i=n;i<s.length;i++)if(r(s.charAt(i)))return i;return-1},RI=(e,t,n)=>xS(e,t,n,r=>$f(r)||Ni(r)),OI=(e,t,n)=>xS(e,t,n,rh),kS=(e,t,n,r,s,i)=>{let u;const f=e.getParent(n,e.isBlock)||t,d=(C,v,y)=>{const w=vl(e),k=s?w.backwards:w.forwards;return E.from(k(C,v,(S,x)=>Pi(S.parentNode)?-1:(u=S,y(s,S,x)),f))};return d(n,r,RI).bind(C=>i?d(C.container,C.offset+(s?-1:0),OI):E.some(C)).orThunk(()=>u?E.some({container:u,offset:s?0:u.length}):E.none())},DS=(e,t,n,r,s)=>{const i=r[s];ne(r)&&$a(r.data)&&i&&(r=i);const u=AS(e,r);for(let f=0;f<u.length;f++)for(let d=0;d<t.length;d++){const g=t[d];if(!(Z(g.collapsed)&&g.collapsed!==n.collapsed)&&fr(g)&&e.is(u[f],g.selector))return u[f]}return r},_S=(e,t,n,r)=>{var s;let i=n;const u=e.getRoot(),f=t[0];if(Co(f)&&(i=f.wrapper?null:e.getParent(n,f.block,u)),!i){const d=(s=e.getParent(n,"LI,TD,TH"))!==null&&s!==void 0?s:u;i=e.getParent(ne(n)?n.parentNode:n,g=>g!==u&&PI(e.schema,g),d)}if(i&&Co(f)&&f.wrapper&&(i=AS(e,i,"ul,ol").reverse()[0]||i),!i)for(i=n;i&&i[r]&&!e.isBlock(i[r])&&(i=i[r],!mh(i,"br")););return i||n},NS=(e,t,n,r)=>{const s=n.parentNode;return Z(n[r])?!1:s===t||de(s)||e.isBlock(s)?!0:NS(e,t,s,r)},Hf=(e,t,n,r,s)=>{let i=n;const u=s?"previousSibling":"nextSibling",f=e.getRoot();if(ne(n)&&!SS(n)&&(s?r>0:r<n.data.length))return n;for(;i;){if(!t[0].block_expand&&e.isBlock(i))return i;for(let d=i[u];d;d=d[u]){const g=ne(d)&&!NS(e,f,d,u);if(!Pi(d)&&!TI(d)&&!SS(d,g))return i}if(i===f||i.parentNode===f){n=i;break}i=i.parentNode}return n},BS=e=>Pi(e.parentNode)||Pi(e),wl=(e,t,n,r=!1)=>{let{startContainer:s,startOffset:i,endContainer:u,endOffset:f}=t;const d=n[0];return me(s)&&s.hasChildNodes()&&(s=hs(s,i),ne(s)&&(i=0)),me(u)&&u.hasChildNodes()&&(u=hs(u,t.collapsed?f:f-1),ne(u)&&(f=u.data.length)),s=wS(e,s),u=wS(e,u),BS(s)&&(s=Pi(s)?s:s.parentNode,t.collapsed?s=s.previousSibling||s:s=s.nextSibling||s,ne(s)&&(i=t.collapsed?s.length:0)),BS(u)&&(u=Pi(u)?u:u.parentNode,t.collapsed?u=u.nextSibling||u:u=u.previousSibling||u,ne(u)&&(f=t.collapsed?0:u.length)),t.collapsed&&(kS(e,e.getRoot(),s,i,!0,r).each(({container:v,offset:y})=>{s=v,i=y}),kS(e,e.getRoot(),u,f,!1,r).each(({container:v,offset:y})=>{u=v,f=y})),(jt(d)||d.block_expand)&&((!jt(d)||!ne(s)||i===0)&&(s=Hf(e,n,s,i,!0)),(!jt(d)||!ne(u)||f===u.data.length)&&(u=Hf(e,n,u,f,!1))),hh(d)&&(s=DS(e,n,t,s,"previousSibling"),u=DS(e,n,t,u,"nextSibling")),(Co(d)||fr(d))&&(s=_S(e,n,s,"previousSibling"),u=_S(e,n,u,"nextSibling"),Co(d)&&(e.isBlock(s)||(s=Hf(e,n,s,i,!0)),e.isBlock(u)||(u=Hf(e,n,u,f,!1)))),me(s)&&s.parentNode&&(i=e.nodeIndex(s),s=s.parentNode),me(u)&&u.parentNode&&(f=e.nodeIndex(u)+1,u=u.parentNode),{startContainer:s,startOffset:i,endContainer:u,endOffset:f}},bu=(e,t,n)=>{var r;const s=t.startOffset,i=hs(t.startContainer,s),u=t.endOffset,f=hs(t.endContainer,u-1),d=x=>{const F=x[0];ne(F)&&F===i&&s>=F.data.length&&x.splice(0,1);const P=x[x.length-1];return u===0&&x.length>0&&P===f&&ne(P)&&x.splice(x.length-1,1),x},g=(x,F,P)=>{const T=[];for(;x&&x!==P;x=x[F])T.push(x);return T},C=(x,F)=>e.getParent(x,P=>P.parentNode===F,F),v=(x,F,P)=>{const T=P?"nextSibling":"previousSibling";for(let L=x,q=L.parentNode;L&&L!==F;L=q){q=L.parentNode;const ye=g(L===x?L:L[T],T);ye.length&&(P||ye.reverse(),n(d(ye)))}};if(i===f)return n(d([i]));const y=(r=e.findCommonAncestor(i,f))!==null&&r!==void 0?r:e.getRoot();if(e.isChildOf(i,f))return v(i,y,!0);if(e.isChildOf(f,i))return v(f,y);const w=C(i,y)||i,k=C(f,y)||f;v(i,w,!0);const S=g(w===i?w:w.nextSibling,"nextSibling",k===f?k.nextSibling:k);S.length&&n(d(S)),v(f,k)},II=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],LI=e=>sr(e)&&ff(e)===sn,$I=(e,t,n,r)=>kr(t).fold(()=>"skipping",s=>r==="br"||LI(t)?"valid":d6(t)?"existing":Nr(t.dom)?"caret":Bt(II,i=>Mr(t,i))?"valid-block":!Fi(e,n,r)||!Fi(e,dt(s),n)?"invalid-child":"valid"),MI=(e,t)=>{const n=wl(e.dom,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},FS=(e,t,n,r,s,i)=>{const{uid:u=t,...f}=n;fi(e,tu()),Qt(e,`${Si()}`,u),Qt(e,`${gl()}`,r);const{attributes:d={},classes:g=[]}=s(u,f);if(ls(e,d),h6(e,g),i){g.length>0&&Qt(e,`${ru()}`,g.join(","));const C=qn(d);C.length>0&&Qt(e,`${ou()}`,C.join(","))}},zI=e=>{di(e,tu()),rn(e,`${Si()}`),rn(e,`${gl()}`),rn(e,`${nu()}`);const t=Oo(e,`${ou()}`).map(r=>r.split(",")).getOr([]),n=Oo(e,`${ru()}`).map(r=>r.split(",")).getOr([]);ee(t,r=>rn(e,r)),v6(e,n),rn(e,`${ru()}`),rn(e,`${ou()}`)},PS=(e,t,n,r,s)=>{const i=D.fromTag("span",e);return FS(i,t,n,r,s,!1),i},UI=(e,t,n,r,s,i)=>{const u=[],f=PS(e.getDoc(),n,i,r,s),d=gs(),g=()=>{d.clear()},C=()=>d.get().getOrThunk(()=>{const k=hl(f);return u.push(k),d.set(k),k}),v=k=>{ee(k,y)},y=k=>{switch($I(e,k,"span",dt(k))){case"invalid-child":{g();const x=on(k);v(x),g();break}case"valid-block":{g(),FS(k,n,i,r,s,!0);break}case"valid":{const x=C();QE(k,x);break}}},w=k=>{const S=Je(k,D.fromDom);v(S)};return bu(e.dom,t,k=>{g(),w(k)}),u},jI=(e,t,n,r)=>{e.undoManager.transact(()=>{const s=e.selection,i=s.getRng(),u=Bi(e).length>0,f=su("mce-annotation");if(i.collapsed&&!u&&MI(e,i),s.getRng().collapsed&&!u){const d=PS(e.getDoc(),f,r,t,n.decorate);sf(d,Wt),s.getRng().insertNode(d.dom),s.select(d.dom)}else vS(s,!1,()=>{uh(e,d=>{UI(e,d,f,t,n.decorate,r)})})})},TS=e=>{const t=g6();p6(e,t);const n=m6(e,t),r=Zp("span"),s=i=>{ee(i,u=>{r(u)?Mo(u):zI(u)})};return{register:(i,u)=>{t.register(i,u)},annotate:(i,u)=>{t.lookup(i).each(f=>{jI(e,i,f,u)})},annotationChanged:(i,u)=>{n.addListener(i,u)},remove:i=>{zb(e,E.some(i)).each(({elements:u})=>{const f=e.selection.getBookmark();s(u),e.selection.moveToBookmark(f)})},removeAll:i=>{const u=e.selection.getBookmark();ft(Hb(e,i),(f,d)=>{s(f)}),e.selection.moveToBookmark(u)},getAll:i=>{const u=Hb(e,i);return Xc(u,f=>Je(f,d=>d.dom))}}},Au=e=>({getBookmark:ce(uI,e),moveToBookmark:ce(cI,e)});Au.isBookmarkNode=cr;const RS=(e,t,n)=>n.collapsed?!1:Bt(n.getClientRects(),r=>E6(r,e,t)),HI=(e,t)=>e.dispatch("PreProcess",t),VI=(e,t)=>e.dispatch("PostProcess",t),WI=e=>{e.dispatch("remove")},KI=e=>{e.dispatch("detach")},qI=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},GI=(e,t,n,r,s)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:r,origin:s})},YI=(e,t,n,r,s)=>{e.dispatch("ObjectResized",{target:t,width:n,height:r,origin:s})},QI=e=>{e.dispatch("PreInit")},XI=e=>{e.dispatch("PostRender")},ZI=e=>{e.dispatch("Init")},JI=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},OS=(e,t,n)=>{e.dispatch(t,n)},IS=(e,t,n,r)=>{e.dispatch("FormatApply",{format:t,node:n,vars:r})},LS=(e,t,n,r)=>{e.dispatch("FormatRemove",{format:t,node:n,vars:r})},eL=(e,t)=>e.dispatch("BeforeSetContent",t),$S=(e,t)=>e.dispatch("SetContent",t),tL=(e,t)=>e.dispatch("BeforeGetContent",t),MS=(e,t)=>e.dispatch("GetContent",t),nL=(e,t)=>{e.dispatch("AutocompleterStart",t)},rL=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},oL=e=>{e.dispatch("AutocompleterEnd")},sL=(e,t,n)=>e.dispatch("PastePreProcess",{content:t,internal:n}),lL=(e,t,n)=>e.dispatch("PastePostProcess",{node:t,internal:n}),zS=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),iL=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),he={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||he.metaKeyPressed(e),metaKeyPressed:e=>Qe.os.isMacOS()||Qe.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},xl="data-mce-selected",aL="table,img,figure.image,hr,video,span.mce-preview-object,details",US=Math.abs,Vf=Math.round,vh={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},uL=e=>e.type==="longpress"||e.type.indexOf("touch")===0,jS=(e,t)=>{const n=t.dom,r=t.getDoc(),s=document,i=t.getBody();let u,f,d,g,C,v,y,w,k,S,x,F,P,T,L,q,ye;const Y=te=>Z(te)&&(lb(te)||n.is(te,"figure.image")),U=te=>mo(te)||n.hasClass(te,"mce-preview-object"),W=(te,Be)=>{if(uL(te)){const He=te.touches[0];return Y(te.target)&&!RS(He.clientX,He.clientY,Be)}else return Y(te.target)&&!RS(te.clientX,te.clientY,Be)},ie=te=>{const Be=te.target;W(te,t.selection.getRng())&&!te.isDefaultPrevented()&&t.selection.select(Be)},ue=te=>n.hasClass(te,"mce-preview-object")&&Z(te.firstElementChild)?[te,te.firstElementChild]:n.is(te,"figure.image")?[te.querySelector("img")]:[te],ge=te=>{const Be=TA(t);return!Be||te.getAttribute("data-mce-resize")==="false"||te===t.getBody()?!1:n.hasClass(te,"mce-preview-object")&&Z(te.firstElementChild)?Mr(D.fromDom(te.firstElementChild),Be):Mr(D.fromDom(te),Be)},Fe=te=>U(te)?n.create("img",{src:Qe.transparentSrc}):te.cloneNode(!0),Ne=(te,Be,He)=>{if(Z(He)){const Ze=ue(te);ee(Ze,it=>{it.style[Be]||!t.schema.isValid(it.nodeName.toLowerCase(),Be)?n.setStyle(it,Be,He):n.setAttrib(it,Be,""+He)})}},Ke=(te,Be,He)=>{Ne(te,"width",Be),Ne(te,"height",He)},Ye=te=>{let Be,He,Ze,it,Te;Be=te.screenX-v,He=te.screenY-y,T=Be*g[2]+S,L=He*g[3]+x,T=T<5?5:T,L=L<5?5:L,(Y(u)||U(u))&&k7(t)!==!1?Ze=!he.modifierPressed(te):Ze=he.modifierPressed(te),Ze&&(US(Be)>US(He)?(L=Vf(T*F),T=Vf(L/F)):(T=Vf(L/F),L=Vf(T*F))),Ke(f,T,L),it=g.startPos.x+Be,Te=g.startPos.y+He,it=it>0?it:0,Te=Te>0?Te:0,n.setStyles(d,{left:it,top:Te,display:"block"}),d.innerHTML=T+" &times; "+L,g[2]<0&&f.clientWidth<=T&&n.setStyle(f,"left",w+(S-T)),g[3]<0&&f.clientHeight<=L&&n.setStyle(f,"top",k+(x-L)),Be=i.scrollWidth-q,He=i.scrollHeight-ye,Be+He!==0&&n.setStyles(d,{left:it-Be,top:Te-He}),P||(GI(t,u,S,x,"corner-"+g.name),P=!0)},vt=()=>{const te=P;P=!1,te&&(Ne(u,"width",T),Ne(u,"height",L)),n.unbind(r,"mousemove",Ye),n.unbind(r,"mouseup",vt),s!==r&&(n.unbind(s,"mousemove",Ye),n.unbind(s,"mouseup",vt)),n.remove(f),n.remove(d),n.remove(C),Zt(u),te&&(YI(t,u,T,L,"corner-"+g.name),n.setAttrib(u,"style",n.getAttrib(u,"style"))),t.nodeChanged()},Zt=te=>{Ve();const Be=n.getPos(te,i),He=Be.x,Ze=Be.y,it=te.getBoundingClientRect(),Te=it.width||it.right-it.left,Ge=it.height||it.bottom-it.top;u!==te&&(re(),u=te,T=L=0);const At=t.dispatch("ObjectSelected",{target:te});ge(te)&&!At.isDefaultPrevented()?ft(vh,(nt,gt)=>{const Et=wt=>{const hr=ue(u)[0];v=wt.screenX,y=wt.screenY,S=hr.clientWidth,x=hr.clientHeight,F=x/S,g=nt,g.name=gt,g.startPos={x:Te*nt[0]+He,y:Ge*nt[1]+Ze},q=i.scrollWidth,ye=i.scrollHeight,C=n.add(i,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(C,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),f=Fe(u),n.addClass(f,"mce-clonedresizable"),n.setAttrib(f,"data-mce-bogus","all"),f.contentEditable="false",n.setStyles(f,{left:He,top:Ze,margin:0}),Ke(f,Te,Ge),f.removeAttribute(xl),i.appendChild(f),n.bind(r,"mousemove",Ye),n.bind(r,"mouseup",vt),s!==r&&(n.bind(s,"mousemove",Ye),n.bind(s,"mouseup",vt)),d=n.add(i,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},S+" &times; "+x)};let ut=n.get("mceResizeHandle"+gt);ut&&n.remove(ut),ut=n.add(i,"div",{id:"mceResizeHandle"+gt,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+gt+"-resize; margin:0; padding:0"}),n.bind(ut,"mousedown",wt=>{wt.stopImmediatePropagation(),wt.preventDefault(),Et(wt)}),nt.elm=ut,n.setStyles(ut,{left:Te*nt[0]+He-ut.offsetWidth/2,top:Ge*nt[1]+Ze-ut.offsetHeight/2})}):re(!1)},Tt=kf(Zt,0),re=(te=!0)=>{Tt.cancel(),Ve(),u&&te&&u.removeAttribute(xl),ft(vh,(Be,He)=>{const Ze=n.get("mceResizeHandle"+He);Ze&&(n.unbind(Ze),n.remove(Ze))})},Ee=(te,Be)=>n.isChildOf(te,Be),qe=te=>{if(P||t.removed||t.composing)return;const Be=te.type==="mousedown"?te.target:e.getNode(),He=ll(D.fromDom(Be),aL).map(it=>it.dom).filter(it=>n.isEditable(it.parentElement)).getOrUndefined(),Ze=Z(He)?n.getAttrib(He,xl,"1"):"1";if(ee(n.select(`img[${xl}],hr[${xl}]`),it=>{it.removeAttribute(xl)}),Z(He)&&Ee(He,i)&&t.hasFocus()){be();const it=e.getStart(!0);if(Ee(it,He)&&Ee(e.getEnd(!0),He)){n.setAttrib(He,xl,Ze),Tt.throttle(He);return}}re()},Ve=()=>{ft(vh,te=>{te.elm&&(n.unbind(te.elm),delete te.elm)})},be=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{be(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",qe),t.on("keyup compositionend",te=>{u&&u.nodeName==="TABLE"&&qe(te)}),t.on("hide blur",re),t.on("contextmenu longpress",ie,!0)}),t.on("remove",Ve),{isResizable:ge,showResizeRect:Zt,hideResizeRect:re,updateResizeRect:qe,destroy:()=>{Tt.cancel(),u=f=C=null}}},cL=(e,t)=>{t.fold(n=>{e.setStartBefore(n.dom)},(n,r)=>{e.setStart(n.dom,r)},n=>{e.setStartAfter(n.dom)})},fL=(e,t)=>{t.fold(n=>{e.setEndBefore(n.dom)},(n,r)=>{e.setEnd(n.dom,r)},n=>{e.setEndAfter(n.dom)})},HS=(e,t,n)=>{const r=e.document.createRange();return cL(r,t),fL(r,n),r},Ch=(e,t,n,r,s)=>{const i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(r.dom,s),i},Su=po.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),VS=(e,t,n)=>t(D.fromDom(n.startContainer),n.startOffset,D.fromDom(n.endContainer),n.endOffset),dL=(e,t)=>t.match({domRange:n=>({ltr:K(n),rtl:E.none}),relative:(n,r)=>({ltr:nl(()=>HS(e,n,r)),rtl:nl(()=>E.some(HS(e,r,n)))}),exact:(n,r,s,i)=>({ltr:nl(()=>Ch(e,n,r,s,i)),rtl:nl(()=>E.some(Ch(e,s,i,n,r)))})}),mL=(e,t)=>{const n=t.ltr();return n.collapsed?t.rtl().filter(s=>s.collapsed===!1).map(s=>Su.rtl(D.fromDom(s.endContainer),s.endOffset,D.fromDom(s.startContainer),s.startOffset)).getOrThunk(()=>VS(e,Su.ltr,n)):VS(e,Su.ltr,n)},pL=(e,t)=>{const n=dL(e,t);return mL(e,n)};Su.ltr,Su.rtl;const WS={create:(e,t,n,r)=>({start:e,soffset:t,finish:n,foffset:r})},gL=(e,t,n)=>{var r,s;return E.from((s=(r=e.dom).caretPositionFromPoint)===null||s===void 0?void 0:s.call(r,t,n)).bind(i=>{if(i.offsetNode===null)return E.none();const u=e.dom.createRange();return u.setStart(i.offsetNode,i.offset),u.collapse(),E.some(u)})},hL=(e,t,n)=>{var r,s;return E.from((s=(r=e.dom).caretRangeFromPoint)===null||s===void 0?void 0:s.call(r,t,n))},vL=(()=>document.caretPositionFromPoint?gL:document.caretRangeFromPoint?hL:E.none)(),CL=(e,t,n)=>{const r=D.fromDom(e.document);return vL(r,t,n).map(s=>WS.create(D.fromDom(s.startContainer),s.startOffset,D.fromDom(s.endContainer),s.endOffset))},yh=po.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),yL=(e,t,n,r)=>e.fold(t,n,r),EL=e=>e.fold(Me,Me,Me),bL=yh.before,AL=yh.on,SL=yh.after,Ho={before:bL,on:AL,after:SL,cata:yL,getStart:EL},Wf=po.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),wL=e=>Wf.exact(e.start,e.soffset,e.finish,e.foffset),xL=e=>e.match({domRange:t=>D.fromDom(t.startContainer),relative:(t,n)=>Ho.getStart(t),exact:(t,n,r,s)=>t}),kL=Wf.domRange,DL=Wf.relative,_L=Wf.exact,NL=e=>{const t=xL(e);return ja(t)},BL=WS.create,Ti={domRange:kL,relative:DL,exact:_L,exactFromRange:wL,getWin:NL,range:BL},Kf=(e,t)=>{const n=dt(e);return n==="input"?Ho.after(e):ot(["br","img"],n)?t===0?Ho.before(e):Ho.after(e):Ho.on(e,t)},FL=(e,t)=>{const n=e.fold(Ho.before,Kf,Ho.after),r=t.fold(Ho.before,Kf,Ho.after);return Ti.relative(n,r)},KS=(e,t,n,r)=>{const s=Kf(e,t),i=Kf(n,r);return Ti.relative(s,i)},PL=e=>e.match({domRange:t=>{const n=D.fromDom(t.startContainer),r=D.fromDom(t.endContainer);return KS(n,t.startOffset,r,t.endOffset)},relative:FL,exact:KS}),Eh=(e,t)=>{const r=(t||document).createDocumentFragment();return ee(e,s=>{r.appendChild(s.dom)}),D.fromDom(r)},TL=e=>{const t=Ti.getWin(e).dom,n=(s,i,u,f)=>Ch(t,s,i,u,f),r=PL(e);return pL(t,r).match({ltr:n,rtl:n})},RL=(e,t,n)=>CL(e,t,n),qS=(e,t,n)=>{const r=ja(D.fromDom(n));return RL(r.dom,e,t).map(s=>{const i=n.createRange();return i.setStart(s.start.dom,s.soffset),i.setEnd(s.finish.dom,s.foffset),i}).getOrUndefined()},bh=(e,t)=>Z(e)&&Z(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,OL=(e,t,n)=>{let r=e;for(;r&&r!==t;){if(n(r))return r;r=r.parentNode}return null},GS=(e,t,n)=>OL(e,t,n)!==null,IL=(e,t,n)=>GS(e,t,r=>r.nodeName===n),LL=(e,t)=>ar(e)&&!GS(e,t,Nr),YS=(e,t,n)=>{const r=t.parentNode;if(r){const s=new Ut(t,e.getParent(r,e.isBlock)||e.getRoot());let i;for(;i=s[n?"prev":"next"]();)if(St(i))return!0}return!1},$L=(e,t)=>{var n;return((n=e.previousSibling)===null||n===void 0?void 0:n.nodeName)===t},ML=(e,t)=>{let n=t;for(;n&&n!==e;){if(mt(n))return!0;n=n.parentNode}return!1},Ah=(e,t,n,r,s)=>{const i=e.getRoot(),u=e.schema.getNonEmptyElements(),f=s.parentNode;let d,g;if(!f)return E.none();const C=e.getParent(f,e.isBlock)||i;if(r&&St(s)&&t&&e.isEmpty(C))return E.some(V(f,e.nodeIndex(s)));const v=new Ut(s,C);for(;g=v[r?"prev":"next"]();){if(e.getContentEditableParent(g)==="false"||LL(g,i))return E.none();if(ne(g)&&g.data.length>0)return IL(g,i,"A")?E.none():E.some(V(g,r?g.data.length:0));if(e.isBlock(g)||u[g.nodeName.toLowerCase()])return E.none();d=g}return us(d)?E.none():n&&d?E.some(V(d,0)):E.none()},QS=(e,t,n,r)=>{const s=e.getRoot();let i,u=!1,f=n?r.startContainer:r.endContainer,d=n?r.startOffset:r.endOffset;const g=me(f)&&d===f.childNodes.length,C=e.schema.getNonEmptyElements();let v=n;if(ar(f))return E.none();if(me(f)&&d>f.childNodes.length-1&&(v=!1),Ga(f)&&(f=s,d=0),f===s){if(v&&(i=f.childNodes[d>0?d-1:0],i&&(ar(i)||C[i.nodeName]||zo(i))))return E.none();if(f.hasChildNodes()){if(d=Math.min(!v&&d>0?d-1:d,f.childNodes.length-1),f=f.childNodes[d],d=ne(f)&&g?f.data.length:0,!t&&f===s.lastChild&&zo(f)||ML(s,f)||ar(f))return E.none();if(f.hasChildNodes()&&!zo(f)){i=f;const y=new Ut(f,s);do{if(mt(i)||ar(i)){u=!1;break}if(ne(i)&&i.data.length>0){d=v?0:i.data.length,f=i,u=!0;break}if(C[i.nodeName.toLowerCase()]&&!NO(i)){d=e.nodeIndex(i),f=i.parentNode,v||d++,u=!0;break}}while(i=v?y.next():y.prev())}}}return t&&(ne(f)&&d===0&&Ah(e,g,t,!0,f).each(y=>{f=y.container(),d=y.offset(),u=!0}),me(f)&&(i=f.childNodes[d],i||(i=f.childNodes[d-1]),i&&St(i)&&!$L(i,"A")&&!YS(e,i,!1)&&!YS(e,i,!0)&&Ah(e,g,t,!0,i).each(y=>{f=y.container(),d=y.offset(),u=!0}))),v&&!t&&ne(f)&&d===f.data.length&&Ah(e,g,t,!1,f).each(y=>{f=y.container(),d=y.offset(),u=!0}),u&&f?E.some(V(f,d)):E.none()},qf=(e,t)=>{const n=t.collapsed,r=t.cloneRange(),s=V.fromRangeStart(t);return QS(e,n,!0,r).each(i=>{(!n||!V.isAbove(s,i))&&r.setStart(i.container(),i.offset())}),n||QS(e,n,!1,r).each(i=>{r.setEnd(i.container(),i.offset())}),n&&r.collapse(!0),bh(t,r)?E.none():E.some(r)},Gf=(e,t)=>e.splitText(t),Yf=e=>{let t=e.startContainer,n=e.startOffset,r=e.endContainer,s=e.endOffset;if(t===r&&ne(t)){if(n>0&&n<t.data.length)if(r=Gf(t,n),t=r.previousSibling,s>n){s=s-n;const i=Gf(r,s).previousSibling;t=r=i,s=i.data.length,n=0}else s=0}else if(ne(t)&&n>0&&n<t.data.length&&(t=Gf(t,n),n=0),ne(r)&&s>0&&s<r.data.length){const i=Gf(r,s).previousSibling;r=i,s=i.data.length}return{startContainer:t,startOffset:n,endContainer:r,endOffset:s}},kl=e=>({walk:(i,u)=>bu(e,i,u),split:Yf,expand:(i,u={type:"word"})=>{if(u.type==="word"){const f=wl(e,i,[{inline:"span"}]),d=e.createRng();return d.setStart(f.startContainer,f.startOffset),d.setEnd(f.endContainer,f.endOffset),d}return i},normalize:i=>qf(e,i).fold(rt,u=>(i.setStart(u.startContainer,u.startOffset),i.setEnd(u.endContainer,u.endOffset),!0))});kl.compareRanges=bh,kl.getCaretRangeFromPoint=qS,kl.getSelectedNode=Df,kl.getNode=hs;const zL=((e,t)=>{const n=(f,d)=>{if(!Ot(d)&&!d.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+d);const g=f.dom;Ka(g)&&(g.style[e]=d+"px")},r=f=>{const d=t(f);if(d<=0||d===null){const g=fo(f,e);return parseFloat(g)||0}return d},s=r,i=(f,d)=>Kn(d,(g,C)=>{const v=fo(f,C),y=v===void 0?0:parseInt(v,10);return isNaN(y)?g:g+y},0);return{set:n,get:r,getOuter:s,aggregate:i,max:(f,d,g)=>{const C=i(f,g);return d>C?d-C:0}}})("height",e=>{const t=e.dom;return pi(e)?t.getBoundingClientRect().height:t.offsetHeight}),UL=e=>zL.get(e),XS=()=>D.fromDom(document),ZS=(e,t)=>e.view(t).fold(K([]),r=>{const s=e.owner(r),i=ZS(e,s);return[r].concat(i)}),jL=(e,t)=>{const n=t.owner(e);return ZS(t,n)};var HL=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?E.none():E.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement)).map(D.fromDom)},owner:e=>Lo(e)});const VL=e=>{const t=XS(),n=ug(t),r=jL(e,HL),s=ag(e),i=Pa(r,(u,f)=>{const d=ag(f);return{left:u.left+d.left,top:u.top+d.top}},{left:0,top:0});return vi(i.left+s.left+n.left,i.top+s.top+n.top)},Sh=e=>dt(e)==="textarea",WL=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),KL=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},qL=(e,t)=>{const n=on(e);if(n.length===0||Sh(e))return{element:e,offset:t};if(t<n.length&&!Sh(n[t]))return{element:n[t],offset:0};{const r=n[n.length-1];return Sh(r)?{element:e,offset:t}:dt(r)==="img"?{element:r,offset:1}:sr(r)?{element:r,offset:ff(r).length}:{element:r,offset:on(r).length}}},JS=(e,t)=>{const n=AO(e),r=UL(e);return{element:e,bottom:n.top+r,height:r,pos:n,cleanup:t}},GL=(e,t)=>{const n=qL(e,t),r=D.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+sn+"</span>");return Gn(n.element,r),JS(r,()=>ht(r))},YL=e=>JS(D.fromDom(e),$e),ew=(e,t,n,r)=>{XL(e,(s,i)=>QL(e,t,n,r),n)},tw=(e,t,n,r,s)=>{const i={elm:r.element.dom,alignToTop:s};if(WL(e,i))return;const u=ug(t).top;n(t,u,r,s),KL(e,i)},QL=(e,t,n,r)=>{const s=D.fromDom(e.getBody()),i=D.fromDom(e.getDoc());fO(s);const u=GL(D.fromDom(n.startContainer),n.startOffset);tw(e,i,t,u,r),u.cleanup()},nw=(e,t,n,r)=>{const s=D.fromDom(e.getDoc());tw(e,s,n,YL(t),r)},XL=(e,t,n)=>{const r=n.startContainer,s=n.startOffset,i=n.endContainer,u=n.endOffset;t(D.fromDom(r),D.fromDom(i));const f=e.dom.createRng();f.setStart(r,s),f.setEnd(i,u),e.selection.setRng(n)},wh=(e,t)=>e.element.dom.scrollIntoView({block:t?"start":"end"}),rw=(e,t,n,r)=>{const s=t+e,i=n.pos.top,u=n.bottom,f=u-i>=t;i<e?wh(n,r!==!1):i>s?wh(n,f?r!==!1:r===!0):u>s&&!f&&wh(n,r===!0)},ow=(e,t,n,r)=>{const s=ja(e).dom.innerHeight;rw(t,s,n,r)},sw=(e,t,n,r)=>{const s=ja(e).dom.innerHeight;rw(t,s,n,r);const i=VL(n.element),u=tb(window);i.top<u.y?JE(n.element,r!==!1):i.top>u.bottom&&JE(n.element,r===!0)},ZL=(e,t,n)=>ew(e,ow,t,n),JL=(e,t,n)=>nw(e,t,ow,n),e5=(e,t,n)=>ew(e,sw,t,n),t5=(e,t,n)=>nw(e,t,sw,n),n5=(e,t,n)=>{(e.inline?JL:t5)(e,t,n)},wu=(e,t,n)=>{(e.inline?ZL:e5)(e,t,n)},lw=e=>e.dom.focus(),iw=e=>{const t=is(e).dom;return e.dom===t.activeElement},xh=(e=XS())=>E.from(e.dom.activeElement).map(D.fromDom),r5=e=>xh(is(e)).filter(t=>e.dom.contains(t.dom)),aw=(e,t)=>{const n=sr(t)?ff(t).length:on(t).length+1;return e>n?n:e<0?0:e},o5=e=>Ti.range(e.start,aw(e.soffset,e.start),e.finish,aw(e.foffset,e.finish)),uw=(e,t)=>!af(t.dom)&&(Io(e,t)||et(e,t)),cw=e=>t=>uw(e,t.start)&&uw(e,t.finish),s5=e=>e.inline||Qe.browser.isFirefox(),l5=e=>Ti.range(D.fromDom(e.startContainer),e.startOffset,D.fromDom(e.endContainer),e.endOffset),i5=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?E.none():E.from(t.getRangeAt(0))).map(l5)},a5=e=>{const t=ja(e);return i5(t.dom).filter(cw(e))},u5=(e,t)=>E.from(t).filter(cw(e)).map(o5),c5=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),E.some(t)}catch{return E.none()}},kh=e=>{const t=s5(e)?a5(D.fromDom(e.getBody())):E.none();e.bookmark=t.isSome()?t:e.bookmark},Dh=e=>(e.bookmark?e.bookmark:E.none()).bind(n=>u5(D.fromDom(e.getBody()),n)).bind(c5),f5=e=>{Dh(e).each(t=>e.selection.setRng(t))},fw={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},d5=(e,t)=>(Ot(t)||(t=0),setTimeout(e,t)),m5=(e,t)=>(Ot(t)||(t=0),setInterval(e,t)),dr={setEditorTimeout:(e,t,n)=>d5(()=>{e.removed||t()},n),setEditorInterval:(e,t,n)=>{const r=m5(()=>{e.removed?clearInterval(r):t()},n);return r}},p5=e=>e.type==="nodechange"&&e.selectionChange,g5=(e,t)=>{const n=()=>{t.throttle()};lt.DOM.bind(document,"mouseup",n),e.on("remove",()=>{lt.DOM.unbind(document,"mouseup",n)})},h5=(e,t)=>{e.on("mouseup touchend",n=>{t.throttle()})},v5=(e,t)=>{h5(e,t),e.on("keyup NodeChange AfterSetSelectionRange",n=>{p5(n)||kh(e)})},C5=e=>{const t=kf(()=>{kh(e)},0);e.on("init",()=>{e.inline&&g5(e,t),v5(e,t)}),e.on("remove",()=>{t.cancel()})};let Ri;const _h=lt.DOM,y5=e=>me(e)&&fw.isEditorUIElement(e),Nh=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},Qf=(e,t)=>{const n=O7(e);return _h.getParent(t,s=>y5(s)||(n?e.dom.is(s,n):!1))!==null},Bh=e=>{try{const t=is(D.fromDom(e.getElement()));return xh(t).fold(()=>document.body,n=>n.dom)}catch{return document.body}},E5=(e,t)=>{const n=t.editor;C5(n);const r=(s,i)=>{if(h8(s)&&s.inline!==!0){const u=D.fromDom(s.getContainer());i(u,"tox-edit-focus")}};n.on("focusin",()=>{const s=e.focusedEditor;Nh(Bh(n))&&r(n,fi),s!==n&&(s&&s.dispatch("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch("focus",{blurredEditor:s}),n.focus(!0))}),n.on("focusout",()=>{dr.setEditorTimeout(n,()=>{const s=e.focusedEditor;(!Nh(Bh(n))||s!==n)&&r(n,di),!Qf(n,Bh(n))&&s===n&&(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Ri||(Ri=s=>{const i=e.activeEditor;i&&jE(s).each(u=>{const f=u;f.ownerDocument===document&&f!==document.body&&!Qf(i,f)&&e.focusedEditor===i&&(i.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},_h.bind(document,"focusin",Ri))},b5=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&Ri&&(_h.unbind(document,"focusin",Ri),Ri=null)},A5=e=>{e.on("AddEditor",ce(E5,e)),e.on("RemoveEditor",ce(b5,e))},S5=(e,t)=>e.dom.getParent(t,n=>e.dom.getContentEditable(n)==="true"),w5=e=>e.collapsed?E.from(hs(e.startContainer,e.startOffset)).map(D.fromDom):E.none(),x5=(e,t)=>w5(t).bind(n=>VO(n)?E.some(n):Io(e,n)?E.none():E.some(e)),dw=(e,t)=>{x5(D.fromDom(e.getBody()),t).bind(n=>yn(n.dom)).fold(()=>{e.selection.normalize()},n=>e.selection.setRng(n.toRange()))},Fh=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},k5=e=>iw(e)||r5(e).isSome(),D5=e=>Z(e.iframeElement)&&iw(D.fromDom(e.iframeElement)),_5=e=>{const t=e.getBody();return t&&k5(D.fromDom(t))},N5=e=>{const t=is(D.fromDom(e.getElement()));return xh(t).filter(n=>!Nh(n.dom)&&Qf(e,n.dom)).isSome()},Dl=e=>e.inline?_5(e):D5(e),B5=e=>Dl(e)||N5(e),F5=e=>{const t=e.selection,n=e.getBody();let r=t.getRng();e.quirks.refreshContentEditable(),Z(e.bookmark)&&!Dl(e)&&Dh(e).each(i=>{e.selection.setRng(i),r=i});const s=S5(e,t.getNode());if(s&&e.dom.isChildOf(s,n)){Fh(s),dw(e,r),Ph(e);return}e.inline||(Qe.browser.isOpera()||Fh(n),e.getWin().focus()),(Qe.browser.isFirefox()||e.inline)&&(Fh(n),dw(e,r)),Ph(e)},Ph=e=>e.editorManager.setActive(e),P5=(e,t)=>{e.removed||(t?Ph(e):F5(e))},mw=(e,t,n,r,s)=>{const i=n?t.startContainer:t.endContainer,u=n?t.startOffset:t.endOffset;return E.from(i).map(D.fromDom).map(f=>!r||!t.collapsed?mi(f,s(f,u)).getOr(f):f).bind(f=>Mn(f)?E.some(f):kr(f).filter(Mn)).map(f=>f.dom).getOr(e)},pw=(e,t,n=!1)=>mw(e,t,!0,n,(r,s)=>Math.min(og(r),s)),gw=(e,t,n=!1)=>mw(e,t,!1,n,(r,s)=>s>0?s-1:s),hw=(e,t)=>{const n=e;for(;e&&ne(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||n},T5=(e,t)=>{if(!t)return e;let n=t.startContainer,r=t.endContainer;const s=t.startOffset,i=t.endOffset;let u=t.commonAncestorContainer;t.collapsed||(n===r&&i-s<2&&n.hasChildNodes()&&(u=n.childNodes[s]),ne(n)&&ne(r)&&(n.length===s?n=hw(n.nextSibling,!0):n=n.parentNode,i===0?r=hw(r.previousSibling,!1):r=r.parentNode,n&&n===r&&(u=n)));const f=ne(u)?u.parentNode:u;return me(f)?f:e},R5=(e,t,n,r)=>{const s=[],i=e.getRoot(),u=e.getParent(n||pw(i,t,t.collapsed),e.isBlock),f=e.getParent(r||gw(i,t,t.collapsed),e.isBlock);if(u&&u!==i&&s.push(u),u&&f&&u!==f){let d;const g=new Ut(u,i);for(;(d=g.next())&&d!==f;)e.isBlock(d)&&s.push(d)}return f&&u!==f&&f!==i&&s.push(f),s},O5=(e,t,n)=>E.from(t).bind(r=>E.from(r.parentNode).map(s=>{const i=e.nodeIndex(r),u=e.createRng();return u.setStart(s,i),u.setEnd(s,i+1),n&&(ah(e,u,r,!0),ah(e,u,r,!1)),u})),Th=(e,t)=>Je(t,n=>{const r=e.dispatch("GetSelectionRange",{range:n});return r.range!==n?r.range:n}),I5=e=>dt(e)==="img"?1:ab(e).fold(()=>on(e).length,t=>t.length),L5=e=>ab(e).filter(t=>t.trim().length!==0||t.indexOf(Wt)>-1).isSome(),$5=e=>Xp(e)&&lr(e,"contenteditable")==="false",M5=["img","br"],vw=e=>L5(e)||ot(M5,dt(e))||$5(e),z5=e=>iO(e,vw),U5=e=>j5(e,vw),j5=(e,t)=>{const n=r=>{const s=on(r);for(let i=s.length-1;i>=0;i--){const u=s[i];if(t(u))return E.some(u);const f=n(u);if(f.isSome())return f}return E.none()};return n(e)},Cw="[data-mce-autocompleter]",H5=(e,t)=>{if(yw(D.fromDom(e.getBody())).isNone()){const n=D.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());Ft(n,D.fromDom(t.extractContents())),t.insertNode(n.dom),kr(n).each(r=>r.dom.normalize()),U5(n).map(r=>{e.selection.setCursorLocation(r.dom,I5(r))})}},V5=e=>ll(e,Cw),yw=e=>Wa(e,Cw),W5=(e,t)=>yw(t).each(n=>{const r=e.selection.getBookmark();Mo(n),e.selection.moveToBookmark(r)}),K5={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Xf=(e,t,n)=>{const r=n?"lastChild":"firstChild",s=n?"prev":"next";if(e[r])return e[r];if(e!==t){let i=e[s];if(i)return i;for(let u=e.parent;u&&u!==t;u=u.parent)if(i=u[s],i)return i}},q5=e=>{var t;const n=(t=e.value)!==null&&t!==void 0?t:"";if(!fl(n))return!1;const r=e.parent;return!(r&&(r.name!=="span"||r.attr("style"))&&/^[ ]+$/.test(n))},Ew=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class Fn{static create(t,n){const r=new Fn(t,K5[t]||1);return n&&ft(n,(s,i)=>{r.attr(i,s)}),r}constructor(t,n){this.name=t,this.type=n,n===1&&(this.attributes=[],this.attributes.map={})}replace(t){const n=this;return t.parent&&t.remove(),n.insert(t,n),n.remove(),n}attr(t,n){const r=this;if(!N(t))return Z(t)&&ft(t,(i,u)=>{r.attr(u,i)}),r;const s=r.attributes;if(s){if(n!==void 0){if(n===null){if(t in s.map){delete s.map[t];let i=s.length;for(;i--;)if(s[i].name===t)return s.splice(i,1),r}return r}if(t in s.map){let i=s.length;for(;i--;)if(s[i].name===t){s[i].value=n;break}}else s.push({name:t,value:n});return s.map[t]=n,r}return s.map[t]}}clone(){const t=this,n=new Fn(t.name,t.type),r=t.attributes;if(r){const s=[];s.map={};for(let i=0,u=r.length;i<u;i++){const f=r[i];f.name!=="id"&&(s[s.length]={name:f.name,value:f.value},s.map[f.name]=f.value)}n.attributes=s}return n.value=t.value,n}wrap(t){const n=this;return n.parent&&(n.parent.insert(t,n),t.append(n)),n}unwrap(){const t=this;for(let n=t.firstChild;n;){const r=n.next;t.insert(n,t,!0),n=r}t.remove()}remove(){const t=this,n=t.parent,r=t.next,s=t.prev;return n&&(n.firstChild===t?(n.firstChild=r,r&&(r.prev=null)):s&&(s.next=r),n.lastChild===t?(n.lastChild=s,s&&(s.next=null)):r&&(r.prev=s),t.parent=t.next=t.prev=null),t}append(t){const n=this;t.parent&&t.remove();const r=n.lastChild;return r?(r.next=t,t.prev=r,n.lastChild=t):n.lastChild=n.firstChild=t,t.parent=n,t}insert(t,n,r){t.parent&&t.remove();const s=n.parent||this;return r?(n===s.firstChild?s.firstChild=t:n.prev&&(n.prev.next=t),t.prev=n.prev,t.next=n,n.prev=t):(n===s.lastChild?s.lastChild=t:n.next&&(n.next.prev=t),t.next=n.next,t.prev=n,n.next=t),t.parent=s,t}getAll(t){const n=this,r=[];for(let s=n.firstChild;s;s=Xf(s,n))s.name===t&&r.push(s);return r}children(){const t=this,n=[];for(let r=t.firstChild;r;r=r.next)n.push(r);return n}empty(){const t=this;if(t.firstChild){const n=[];for(let s=t.firstChild;s;s=Xf(s,t))n.push(s);let r=n.length;for(;r--;){const s=n[r];s.parent=s.firstChild=s.lastChild=s.next=s.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,n={},r){var s;const i=this;let u=i.firstChild;if(Ew(i))return!1;if(u)do{if(u.type===1){if(u.attr("data-mce-bogus"))continue;if(t[u.name]||Ew(u))return!1}if(u.type===8||u.type===3&&!q5(u)||u.type===3&&u.parent&&n[u.parent.name]&&fl((s=u.value)!==null&&s!==void 0?s:"")||r&&r(u))return!1}while(u=Xf(u,i));return!0}walk(t){return Xf(this,null,t)}}const G5=(e,t)=>/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t)),bw=(e,t,n=0)=>{const r=e.toLowerCase();if(r.indexOf("[if ",n)!==-1&&G5(r,n)){const s=r.indexOf("[endif]",n);return r.indexOf(">",s)}else if(t){const s=r.indexOf(">",n);return s!==-1?s:r.length}else{const s=/--!?>/g;s.lastIndex=n;const i=s.exec(e);return i?i.index+i[0].length:r.length}},Y5=(e,t,n)=>{const r=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,s=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,i=e.getVoidElements();let u=1,f=n;for(;u!==0;)for(r.lastIndex=f;;){const d=r.exec(t);if(d===null)return f;if(d[1]==="!"){nn(d[2],"--")?f=bw(t,!1,d.index+3):f=bw(t,!0,d.index+1);break}else{s.lastIndex=r.lastIndex;const g=s.exec(t);if(De(g)||g.index!==r.lastIndex)continue;d[1]==="/"?u-=1:ze(i,d[2])||(u+=1),f=r.lastIndex+g[0].length;break}}return f},Q5=(e,t)=>{const n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")},Aw=(e,t)=>{const n=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,r=e.schema;let s=Q5(e.getTempAttrs(),t);const i=r.getVoidElements();let u;for(;u=n.exec(s);){const f=n.lastIndex,d=u[0].length;let g;i[u[1]]?g=f:g=Y5(r,s,f),s=s.substring(0,f-d)+s.substring(g),n.lastIndex=f-d}return Uo(s)},X5=Aw,Sw=e=>{const t=mn(e,"[data-mce-bogus]");ee(t,n=>{lr(n,"data-mce-bogus")==="all"?ht(n):cl(n)?(Gn(n,D.fromText(Ci)),ht(n)):Mo(n)})},ww=e=>{const t=mn(e,"input");ee(t,n=>{rn(n,"name")})},Z5=(e,t)=>{const n=Nn(e),r=new RegExp(`^(<${n}[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/${n}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(r,"")},J5=(e,t)=>{const n=e.getDoc(),r=is(D.fromDom(e.getBody())),s=D.fromTag("div",n);Qt(s,"data-mce-bogus","all"),rf(s,{position:"fixed",left:"-9999999px",top:"0"}),sf(s,t.innerHTML),Sw(s),ww(s);const i=tO(r);Ft(i,s);const u=Uo(s.dom.innerText);return ht(s),u},e9=(e,t,n)=>{let r;return t.format==="raw"?r=le.trim(X5(e.serializer,n.innerHTML)):t.format==="text"?r=J5(e,n):t.format==="tree"?r=e.serializer.serialize(n,t):r=Z5(e,e.serializer.serialize(n,t)),t.format!=="text"&&!mf(D.fromDom(n))&&N(r)?le.trim(r):r},t9=(e,t)=>E.from(e.getBody()).fold(K(t.format==="tree"?new Fn("body",11):""),n=>e9(e,t,n)),xw=le.makeMap,kw=e=>{const t=[];e=e||{};const n=e.indent,r=xw(e.indent_before||""),s=xw(e.indent_after||""),i=ms.getEncodeFunc(e.entity_encoding||"raw",e.entities),u=e.element_format!=="xhtml";return{start:(f,d,g)=>{if(n&&r[f]&&t.length>0){const C=t[t.length-1];C.length>0&&C!==`
`&&t.push(`
`)}if(t.push("<",f),d)for(let C=0,v=d.length;C<v;C++){const y=d[C];t.push(" ",y.name,'="',i(y.value,!0),'"')}if(!g||u?t[t.length]=">":t[t.length]=" />",g&&n&&s[f]&&t.length>0){const C=t[t.length-1];C.length>0&&C!==`
`&&t.push(`
`)}},end:f=>{let d;t.push("</",f,">"),n&&s[f]&&t.length>0&&(d=t[t.length-1],d.length>0&&d!==`
`&&t.push(`
`))},text:(f,d)=>{f.length>0&&(t[t.length]=d?f:i(f))},cdata:f=>{t.push("<![CDATA[",f,"]]>")},comment:f=>{t.push("<!--",f,"-->")},pi:(f,d)=>{d?t.push("<?",f," ",i(d),"?>"):t.push("<?",f,"?>"),n&&t.push(`
`)},doctype:f=>{t.push("<!DOCTYPE",f,">",n?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},Es=(e={},t=ps())=>{const n=kw(e);return e.validate="validate"in e?e.validate:!0,{serialize:s=>{const i=e.validate,u={3:d=>{var g;n.text((g=d.value)!==null&&g!==void 0?g:"",d.raw)},8:d=>{var g;n.comment((g=d.value)!==null&&g!==void 0?g:"")},7:d=>{n.pi(d.name,d.value)},10:d=>{var g;n.doctype((g=d.value)!==null&&g!==void 0?g:"")},4:d=>{var g;n.cdata((g=d.value)!==null&&g!==void 0?g:"")},11:d=>{let g=d;if(g=g.firstChild)do f(g);while(g=g.next)}};n.reset();const f=d=>{var g;const C=u[d.type];if(C)C(d);else{const v=d.name,y=v in t.getVoidElements();let w=d.attributes;if(i&&w&&w.length>1){const k=[];k.map={};const S=t.getElementRule(d.name);if(S){for(let x=0,F=S.attributesOrder.length;x<F;x++){const P=S.attributesOrder[x];if(P in w.map){const T=w.map[P];k.map[P]=T,k.push({name:P,value:T})}}for(let x=0,F=w.length;x<F;x++){const P=w[x].name;if(!(P in k.map)){const T=w.map[P];k.map[P]=T,k.push({name:P,value:T})}}w=k}}if(n.start(v,w,y),!y){let k=d.firstChild;if(k){(v==="pre"||v==="textarea")&&k.type===3&&((g=k.value)===null||g===void 0?void 0:g[0])===`
`&&n.text(`
`,!0);do f(k);while(k=k.next)}n.end(v)}}};return s.type===1&&!e.inner?f(s):s.type===3?u[3](s):u[11](s),n.getContent()}}},Dw=new Set;ee(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{Dw.add(t)});const _w=["font","text-decoration","text-emphasis"],Rh=(e,t)=>qn(e.parseStyle(e.getAttrib(t,"style"))),n9=e=>Dw.has(e),r9=(e,t)=>ss(Rh(e,t),n=>!n9(n)),o9=e=>Ie(e,t=>Bt(_w,n=>nn(t,n))),s9=(e,t,n)=>{const r=Rh(e,t),s=Rh(e,n),i=u=>{var f,d;const g=(f=e.getStyle(t,u))!==null&&f!==void 0?f:"",C=(d=e.getStyle(n,u))!==null&&d!==void 0?d:"";return io(g)&&io(C)&&g!==C};return Bt(r,u=>{const f=d=>Bt(d,g=>g===u);if(!f(s)&&f(_w)){const d=o9(s);return Bt(d,i)}else return i(u)})},Nw=(e,t,n)=>E.from(n.container()).filter(ne).exists(r=>{const s=e?0:-1;return t(r.data.charAt(n.offset()+s))}),Oh=ce(Nw,!0,Ni),Ih=ce(Nw,!1,Ni),l9=e=>{const t=e.container();return ne(t)&&(t.data.length===0||gf(t.data)&&Au.isBookmarkNode(t.parentNode))},bs=(e,t)=>n=>Qg(e?0:-1,n).filter(t).isSome(),Bw=e=>lb(e)&&fo(D.fromDom(e),"display")==="block",Fw=e=>mt(e)&&!kO(e),i9=bs(!0,Bw),a9=bs(!1,Bw),xu=bs(!0,mo),ku=bs(!1,mo),Pw=bs(!0,zo),Tw=bs(!1,zo),As=bs(!0,Fw),Ss=bs(!1,Fw),u9=e=>e.slice(0,-1),c9=(e,t,n)=>Io(t,e)?u9($E(e,r=>n(r)||et(r,t))):[],Rw=(e,t)=>c9(e,t,rt),Vo=(e,t)=>[e].concat(Rw(e,t)),Lh=(e,t,n)=>lS(e,t,n,l9),Ow=(e,t)=>zt(Vo(D.fromDom(t.container()),e),ir),Iw=(e,t,n)=>Lh(e,t.dom,n).forall(r=>Ow(t,n).fold(()=>!go(r,n,t.dom),s=>!go(r,n,t.dom)&&Io(s,D.fromDom(r.container())))),Lw=(e,t,n)=>Ow(t,n).fold(()=>Lh(e,t.dom,n).forall(r=>!go(r,n,t.dom)),r=>Lh(e,r.dom,n).isNone()),$h=ce(Lw,!1),$w=ce(Lw,!0),f9=ce(Iw,!1),d9=ce(Iw,!0),m9=e=>Rf(e).exists(cl),Zf=(e,t,n)=>{const r=Ie(Vo(D.fromDom(n.container()),t),ir),s=$n(r).getOr(t);return ur(e,s.dom,n).filter(m9)},Mh=(e,t)=>Rf(t).exists(cl)||Zf(!0,e,t).isSome(),zh=(e,t)=>V8(t).exists(cl)||Zf(!1,e,t).isSome(),p9=ce(Zf,!1),g9=ce(Zf,!0),Mw=e=>V.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),zw=(e,t)=>{const n=Ie(Vo(D.fromDom(t.container()),e),ir);return $n(n).getOr(e)},Uw=(e,t)=>Mw(t)?Ih(t):Ih(t)||Bn(zw(e,t).dom,t).exists(Ih),jw=(e,t)=>Mw(t)?Oh(t):Oh(t)||Cn(zw(e,t).dom,t).exists(Oh),h9=e=>ot(["pre","pre-wrap"],e),Uh=e=>Rf(e).bind(t=>sl(t,Mn)).exists(t=>h9(fo(t,"white-space"))),v9=(e,t)=>Bn(e.dom,t).isNone(),C9=(e,t)=>Cn(e.dom,t).isNone(),y9=(e,t)=>v9(e,t)||C9(e,t)||$h(e,t)||$w(e,t)||zh(e,t)||Mh(e,t),E9=e=>Z(e)&&mt(e)&&qA(e),Hw=(e,t)=>n=>E9(new Ut(n,e)[t]()),b9=(e,t)=>{const n=Cn(e.dom,t).getOr(t),r=Hw(e.dom,"next");return t.isAtEnd()&&(r(t.container())||r(n.container()))},A9=(e,t)=>{const n=Bn(e.dom,t).getOr(t),r=Hw(e.dom,"prev");return t.isAtStart()&&(r(t.container())||r(n.container()))},Vw=(e,t)=>Uh(t)?!1:y9(e,t)||Uw(e,t)||jw(e,t),Du=(e,t)=>Uh(t)?!1:$h(e,t)||f9(e,t)||zh(e,t)||Uw(e,t)||A9(e,t),S9=e=>{const t=e.container(),n=e.offset();return ne(t)&&n<t.data.length?V(t,n+1):e},_u=(e,t)=>Uh(t)?!1:$w(e,t)||d9(e,t)||Mh(e,t)||jw(e,t)||b9(e,t),jh=(e,t)=>Du(e,t)||_u(e,S9(t)),Ww=(e,t)=>$f(e.charAt(t)),Kw=(e,t)=>Ni(e.charAt(t)),w9=e=>{const t=e.container();return ne(t)&&dn(t.data,Wt)},x9=e=>{const t=e.split("");return Je(t,(n,r)=>$f(n)&&r>0&&r<t.length-1&&rh(t[r-1])&&rh(t[r+1])?" ":n).join("")},qw=(e,t,n)=>{const r=t.data,s=V(t,0);return!n&&Ww(r,0)&&!jh(e,s)?(t.data=" "+r.slice(1),!0):n&&Kw(r,0)&&Du(e,s)?(t.data=Wt+r.slice(1),!0):!1},k9=e=>{const t=e.data,n=x9(t);return n!==t?(e.data=n,!0):!1},Gw=(e,t,n)=>{const r=t.data,s=V(t,r.length-1);return!n&&Ww(r,r.length-1)&&!jh(e,s)?(t.data=r.slice(0,-1)+" ",!0):n&&Kw(r,r.length-1)&&_u(e,s)?(t.data=r.slice(0,-1)+Wt,!0):!1},D9=(e,t)=>{const n=t.container();if(!ne(n))return E.none();if(w9(t)){const r=qw(e,n,!1)||k9(n)||Gw(e,n,!1);return ci(r,t)}else if(jh(e,t)){const r=qw(e,n,!0)||Gw(e,n,!0);return ci(r,t)}else return E.none()},_9=e=>{const t=D.fromDom(e.getBody());e.selection.isCollapsed()&&D9(t,V.fromRangeStart(e.selection.getRng())).each(n=>{e.selection.setRng(n.toRange())})},Yw=(e,t,n)=>{if(n===0)return;const r=D.fromDom(e),s=$o(r,ir).getOr(r),i=e.data.slice(t,t+n),u=t+n>=e.data.length&&_u(s,V(e,e.data.length)),f=t===0&&Du(s,V(e,0));e.replaceData(t,n,hb(i,4,f,u))},Jf=(e,t)=>{const n=e.data.slice(t),r=n.length-d4(n).length;Yw(e,t,r)},Hh=(e,t)=>{const n=e.data.slice(0,t),r=n.length-tE(n).length;Yw(e,t-r,r)},Vh=(e,t,n,r=!0)=>{const s=tE(e.data).length,i=r?e:t,u=r?t:e;return r?i.appendData(u.data):i.insertData(0,u.data),ht(D.fromDom(u)),n&&Jf(i,s),i},N9=(e,t)=>{const n=e.container(),r=e.offset();return!V.isTextPosition(e)&&n===t.parentNode&&r>V.before(t).offset()},B9=(e,t)=>N9(t,e)?V(t.container(),t.offset()-1):t,F9=e=>ne(e)?V(e,0):V.before(e),P9=e=>ne(e)?V(e,e.data.length):V.after(e),Qw=e=>Dr(e.previousSibling)?E.some(P9(e.previousSibling)):e.previousSibling?_r(e.previousSibling):E.none(),Xw=e=>Dr(e.nextSibling)?E.some(F9(e.nextSibling)):e.nextSibling?yn(e.nextSibling):E.none(),T9=(e,t)=>E.from(t.previousSibling?t.previousSibling:t.parentNode).bind(n=>Bn(e,V.before(n))).orThunk(()=>Cn(e,V.after(t))),R9=(e,t)=>Cn(e,V.after(t)).orThunk(()=>Bn(e,V.before(t))),O9=(e,t)=>Qw(t).orThunk(()=>Xw(t)).orThunk(()=>T9(e,t)),I9=(e,t)=>Xw(t).orThunk(()=>Qw(t)).orThunk(()=>R9(e,t)),L9=(e,t,n)=>e?I9(t,n):O9(t,n),$9=(e,t,n)=>L9(e,t,n).map(ce(B9,n)),Zw=(e,t,n)=>{n.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),t)})},M9=e=>t=>t.dom===e,z9=(e,t)=>t&&ze(e.schema.getBlockElements(),dt(t)),U9=e=>{if(Pt(e)){const t=D.fromHtml('<br data-mce-bogus="1">');return hi(e),Ft(e,t),E.some(V.before(t.dom))}else return E.none()},j9=(e,t,n)=>{const r=ol(e).filter(sr),s=Ha(e).filter(sr);return ht(e),N4(r,s,t,(i,u,f)=>{const d=i.dom,g=u.dom,C=d.data.length;return Vh(d,g,n),f.container()===g?V(d,C):f}).orThunk(()=>(n&&(r.each(i=>Hh(i.dom,i.dom.length)),s.each(i=>Jf(i.dom,0))),t))},H9=(e,t)=>ze(e.schema.getTextInlineElements(),dt(t)),_l=(e,t,n,r=!0)=>{const s=$9(t,e.getBody(),n.dom),i=$o(n,ce(z9,e),M9(e.getBody())),u=j9(n,s,H9(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):i.bind(U9).fold(()=>{r&&Zw(e,t,u)},f=>{r&&Zw(e,t,E.some(f))})},V9=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,W9=e=>V9.test(e),Nl=(e,t)=>Mr(D.fromDom(t),x7(e))&&!dl(e.schema,t)&&e.dom.isEditable(t),Jw=e=>{var t;return lt.DOM.getStyle(e,"direction",!0)==="rtl"||W9((t=e.textContent)!==null&&t!==void 0?t:"")},K9=(e,t,n)=>Ie(lt.DOM.getParents(n.container(),"*",t),e),ws=(e,t,n)=>{const r=K9(e,t,n);return E.from(r[r.length-1])},q9=(e,t,n)=>{const r=Cs(t,e),s=Cs(n,e);return Z(r)&&r===s},G9=e=>gg(e)||hg(e),mr=(e,t)=>{const n=t.container(),r=t.offset();return e?ds(n)?ne(n.nextSibling)?V(n.nextSibling,0):V.after(n):gg(t)?V(n,r+1):t:ds(n)?ne(n.previousSibling)?V(n.previousSibling,n.previousSibling.data.length):V.before(n):hg(t)?V(n,r-1):t},e2=ce(mr,!0),t2=ce(mr,!1),n2=(e,t)=>{const n=r=>r.stopImmediatePropagation();e.on("beforeinput input",n,!0),e.getDoc().execCommand(t),e.off("beforeinput input",n)},Y9=e=>{e.execCommand("delete")},Wh=e=>n2(e,"Delete"),Q9=e=>n2(e,"ForwardDelete"),X9=e=>t=>ui(kr(t),e,et),Z9=e=>ub(e)||Ya(e),ed=(e,t)=>Io(e,t)?sl(t,Z9,X9(e)):E.none(),Kh=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},r2=(e,t,n)=>Dn(yn(n),_r(n),(r,s)=>{const i=mr(!0,r),u=mr(!1,s),f=mr(!1,t);return e?Cn(n,f).exists(d=>d.isEqual(u)&&t.isEqual(i)):Bn(n,f).exists(d=>d.isEqual(i)&&t.isEqual(u))}).getOr(!0),o2=e=>(L4(e)?ol(e):rg(e)).bind(o2).orThunk(()=>E.some(e)),s2=(e,t,n,r=!0)=>{var s;t.deleteContents();const i=o2(n).getOr(n),u=D.fromDom((s=e.dom.getParent(i.dom,e.dom.isBlock))!==null&&s!==void 0?s:n.dom);if(u.dom===e.getBody()?Kh(e,r):Pt(u)&&(fs(u),r&&e.selection.setCursorLocation(u.dom,0)),!et(n,u)){const f=ui(kr(u),n)?[]:X4(u);ee(f.concat(on(n)),d=>{!et(d,u)&&!Io(d,u)&&Pt(d)&&ht(d)})}},J9=e=>t=>et(e,t),qh=e=>mn(e,"td,th"),e$=(e,t)=>{const n=g=>yu(D.fromDom(g),t),r=n(e.startContainer),s=n(e.endContainer),i=r.isSome(),u=s.isSome(),f=Dn(r,s,et).getOr(!1);return{startTable:r,endTable:s,isStartInTable:i,isEndInTable:u,isSameTable:f,isMultiTable:!f&&i&&u}},Gh=(e,t)=>({start:e,end:t}),t$=(e,t,n)=>({rng:e,table:t,cells:n}),Nu=po.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),td=(e,t)=>ll(D.fromDom(e),"td,th",t),l2=e=>!et(e.start,e.end),i2=(e,t)=>yu(e.start,t).bind(n=>yu(e.end,t).bind(r=>ci(et(n,r),n))),n$=(e,t)=>!l2(e)&&i2(e,t).exists(n=>{const r=n.dom.rows;return r.length===1&&r[0].cells.length===1}),r$=(e,t)=>{const n=td(e.startContainer,t),r=td(e.endContainer,t);return Dn(n,r,Gh)},o$=e=>t=>yu(t,e).bind(n=>el(qh(n)).map(r=>Gh(t,r))),s$=e=>t=>yu(t,e).bind(n=>$n(qh(n)).map(r=>Gh(r,t))),Yh=e=>t=>i2(t,e).map(n=>t$(t,n,qh(n))),a2=(e,t,n,r)=>{if(n.collapsed||!e.forall(l2))return E.none();if(t.isSameTable){const s=e.bind(Yh(r));return E.some({start:s,end:s})}else{const s=td(n.startContainer,r),i=td(n.endContainer,r),u=s.bind(o$(r)).bind(Yh(r)),f=i.bind(s$(r)).bind(Yh(r));return E.some({start:u,end:f})}},u2=(e,t)=>Ta(e,n=>et(n,t)),Qh=e=>Dn(u2(e.cells,e.rng.start),u2(e.cells,e.rng.end),(t,n)=>e.cells.slice(t,n+1)),l$=(e,t,n)=>e.exists(r=>n$(r,n)&&ih(r.start,t)),c2=(e,t)=>{const{startTable:n,endTable:r}=t,s=e.cloneRange();return n.each(i=>s.setStartAfter(i.dom)),r.each(i=>s.setEndBefore(i.dom)),s},i$=(e,t,n,r)=>a2(e,t,n,r).bind(({start:s,end:i})=>s.or(i)).bind(s=>{const{isSameTable:i}=t,u=Qh(s).getOr([]);if(i&&s.cells.length===u.length)return E.some(Nu.fullTable(s.table));if(u.length>0){if(i)return E.some(Nu.partialTable(u,E.none()));{const f=c2(n,t);return E.some(Nu.partialTable(u,E.some({...t,rng:f})))}}else return E.none()}),a$=(e,t,n,r)=>a2(e,t,n,r).bind(({start:s,end:i})=>{const u=s.bind(Qh).getOr([]),f=i.bind(Qh).getOr([]);if(u.length>0&&f.length>0){const d=c2(n,t);return E.some(Nu.multiTable(u,f,d))}else return E.none()}),u$=(e,t)=>{const n=J9(e),r=r$(t,n),s=e$(t,n);return l$(r,t,n)?r.map(i=>Nu.singleCellTable(t,i.start)):s.isMultiTable?a$(r,s,t,n):i$(r,s,t,n)},f2=e=>ee(e,t=>{rn(t,"contenteditable"),fs(t)}),c$=(e,t)=>E.from(e.dom.getParent(t,e.dom.isBlock)).map(D.fromDom),f$=(e,t,n)=>{n.each(r=>{t?ht(r):(fs(r),e.selection.setCursorLocation(r.dom,0))})},Xh=(e,t,n,r)=>{const s=n.cloneRange();r?(s.setStart(n.startContainer,n.startOffset),s.setEndAfter(t.dom.lastChild)):(s.setStartBefore(t.dom.firstChild),s.setEnd(n.endContainer,n.endOffset)),Zh(e,s,t,!1).each(i=>i())},d2=e=>{const t=Bi(e),n=D.fromDom(e.selection.getNode());cf(n.dom)&&Pt(n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&Bt(t,r=>et(r,n))&&Qt(n,"data-mce-selected","1")},m2=(e,t,n)=>E.some(()=>{const r=e.selection.getRng(),s=n.bind(({rng:i,isStartInTable:u})=>{const f=c$(e,u?i.endContainer:i.startContainer);i.deleteContents(),f$(e,u,f.filter(Pt));const d=u?t[0]:t[t.length-1];return Xh(e,d,r,u),Pt(d)?E.none():E.some(u?t.slice(1):t.slice(0,-1))}).getOr(t);f2(s),d2(e)}),d$=(e,t,n,r)=>E.some(()=>{const s=e.selection.getRng(),i=t[0],u=n[n.length-1];Xh(e,i,s,!0),Xh(e,u,s,!1);const f=Pt(i)?t:t.slice(1),d=Pt(u)?n:n.slice(0,-1);f2(f.concat(d)),r.deleteContents(),d2(e)}),Zh=(e,t,n,r=!0)=>E.some(()=>{s2(e,t,n,r)}),m$=(e,t)=>E.some(()=>_l(e,!1,t)),p$=(e,t,n)=>u$(t,n).bind(r=>r.fold(ce(Zh,e),ce(m$,e),ce(m2,e),ce(d$,e))),g$=(e,t)=>nd(e,t),h$=(e,t,n,r)=>Jh(t,r).fold(()=>p$(e,t,n),s=>g$(e,s)),v$=(e,t,n)=>{const r=D.fromDom(e.getBody()),s=e.selection.getRng();return n.length!==0?m2(e,n,E.none()):h$(e,r,s,t)},p2=(e,t)=>zt(Vo(t,e),Qa),Jh=(e,t)=>zt(Vo(t,e),Zp("caption")),C$=(e,t,n,r,s)=>Cu(n,e.getBody(),s).bind(i=>p2(t,D.fromDom(i.getNode())).bind(u=>et(u,r)?E.none():E.some($e))),nd=(e,t)=>E.some(()=>{fs(t),e.selection.setCursorLocation(t.dom,0)}),y$=(e,t,n,r)=>yn(e.dom).bind(s=>_r(e.dom).map(i=>t?n.isEqual(s)&&r.isEqual(i):n.isEqual(i)&&r.isEqual(s))).getOr(!0),E$=(e,t)=>nd(e,t),b$=(e,t,n)=>Jh(e,D.fromDom(n.getNode())).fold(()=>E.some($e),r=>ci(!et(r,t),$e)),A$=(e,t,n,r,s)=>Cu(n,e.getBody(),s).fold(()=>E.some($e),i=>y$(r,n,s,i)?E$(e,r):b$(t,r,i)),S$=(e,t,n,r)=>{const s=V.fromRangeStart(e.selection.getRng());return p2(n,r).bind(i=>Pt(i)?nd(e,i):C$(e,n,t,i,s))},w$=(e,t,n,r)=>{const s=V.fromRangeStart(e.selection.getRng());return Pt(r)?nd(e,r):A$(e,n,t,r,s)},g2=(e,t)=>e?Pw(t):Tw(t),x$=(e,t)=>{const n=V.fromRangeStart(e.selection.getRng());return g2(t,n)||ur(t,e.getBody(),n).exists(r=>g2(t,r))},k$=(e,t,n)=>{const r=D.fromDom(e.getBody());return Jh(r,n).fold(()=>S$(e,t,r,n).orThunk(()=>ci(x$(e,t),$e)),s=>w$(e,t,r,s))},e0=(e,t)=>{const n=D.fromDom(e.selection.getStart(!0)),r=Bi(e);return e.selection.isCollapsed()&&r.length===0?k$(e,t,n):v$(e,n,r)},Bl=(e,t)=>{let n=t;for(;n&&n!==e;){if(Ur(n)||mt(n))return n;n=n.parentNode}return null},D$=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],_$=le.each,t0=e=>{const t=e.dom,n=new Set(e.serializer.getTempAttrs()),r=(i,u)=>{if(i.nodeName!==u.nodeName||i.nodeType!==u.nodeType)return!1;const f=g=>{const C={};return _$(t.getAttribs(g),v=>{const y=v.nodeName.toLowerCase();y!=="style"&&!s(y)&&(C[y]=t.getAttrib(g,y))}),C},d=(g,C)=>{for(const v in g)if(ze(g,v)){const y=C[v];if(Pe(y)||g[v]!==y)return!1;delete C[v]}for(const v in C)if(ze(C,v))return!1;return!0};return me(i)&&me(u)&&(!d(f(i),f(u))||!d(t.parseStyle(t.getAttrib(i,"style")),t.parseStyle(t.getAttrib(u,"style"))))?!1:!cr(i)&&!cr(u)},s=i=>Bt(D$,u=>nn(i,u))||n.has(i);return{compare:r,isAttributeInternal:s}},N$=(e,t)=>{let n=e;for(;n=n.walk();)t(n)},h2=(e,t,n,r)=>{const s=n.name;for(let i=0,u=e.length;i<u;i++){const f=e[i];if(f.name===s){const d=r.nodes[s];d?d.nodes.push(n):r.nodes[s]={filter:f,nodes:[n]}}}if(n.attributes)for(let i=0,u=t.length;i<u;i++){const f=t[i],d=f.name;if(d in n.attributes.map){const g=r.attributes[d];g?g.nodes.push(n):r.attributes[d]={filter:f,nodes:[n]}}}},B$=(e,t,n)=>{const r={nodes:{},attributes:{}};return n.firstChild&&N$(n,s=>{h2(e,t,s,r)}),r},v2=(e,t)=>{const n=(r,s)=>{ft(r,i=>{const u=kn(i.nodes);ee(i.filter.callbacks,f=>{for(let d=u.length-1;d>=0;d--){const g=u[d];(!(s?g.attr(i.filter.name)!==void 0:g.name===i.filter.name)||de(g.parent))&&u.splice(d,1)}u.length>0&&f(u,i.filter.name,t)})})};n(e.nodes,!1),n(e.attributes,!0)},C2=(e,t,n,r={})=>{const s=B$(e,t,n);v2(s,r)},n0=(e,t,n)=>{if(e.insert&&t(n)){const r=new Fn("br",1);r.attr("data-mce-bogus","1"),n.empty().append(r)}else n.empty().append(new Fn("#text",3)).value=Wt},F$=e=>{var t;return y2(e,"#text")&&((t=e==null?void 0:e.firstChild)===null||t===void 0?void 0:t.value)===Wt},y2=(e,t)=>{const n=e==null?void 0:e.firstChild;return Z(n)&&n===e.lastChild&&n.name===t},P$=(e,t)=>{const n=e.getElementRule(t.name);return(n==null?void 0:n.paddEmpty)===!0},Bu=(e,t,n,r)=>r.isEmpty(t,n,s=>P$(e,s)),T$=(e,t)=>Z(e)&&(t(e)||e.name==="br"),R$=e=>{let t;for(let n=e;n;n=n.parent){const r=n.attr("contenteditable");if(r==="false")break;r==="true"&&(t=n)}return E.from(t)},r0=(e,t,n=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const s of r)n&&!t.isValidChild(n.name,s.name)&&r0(s,t,n);e.unwrap()}},o0=(e,t,n,r=$e)=>{const s=t.getTextBlockElements(),i=t.getNonEmptyElements(),u=t.getWhitespaceElements(),f=le.makeMap("tr,td,th,tbody,thead,tfoot,table"),d=new Set,g=C=>C!==n&&!f[C.name];for(let C=0;C<e.length;C++){const v=e[C];let y,w,k;if(!v.parent||d.has(v))continue;if(s[v.name]&&v.parent.name==="li"){let x=v.next;for(;x&&s[x.name];){x.name="li",d.add(x),v.parent.insert(x,v.parent);x=x.next}v.unwrap();continue}const S=[v];for(y=v.parent;y&&!t.isValidChild(y.name,v.name)&&g(y);y=y.parent)S.push(y);if(y&&S.length>1)if(t.isValidChild(y.name,v.name)){S.reverse(),w=S[0].clone(),r(w);let x=w;for(let F=0;F<S.length-1;F++){t.isValidChild(x.name,S[F].name)&&F>0?(k=S[F].clone(),r(k),x.append(k)):k=x;for(let P=S[F].firstChild;P&&P!==S[F+1];){const T=P.next;k.append(P),P=T}x=k}Bu(t,i,u,w)?y.insert(v,S[0],!0):(y.insert(w,S[0],!0),y.insert(v,w)),y=S[0],(Bu(t,i,u,y)||y2(y,"br"))&&y.empty().remove()}else r0(v,t);else if(v.parent){if(v.name==="li"){let x=v.prev;if(x&&(x.name==="ul"||x.name==="ol")){x.append(v);continue}if(x=v.next,x&&(x.name==="ul"||x.name==="ol")&&x.firstChild){x.insert(v,x.firstChild,!0);continue}const F=new Fn("ul",1);r(F),v.wrap(F);continue}if(t.isValidChild(v.parent.name,"div")&&t.isValidChild("div",v.name)){const x=new Fn("div",1);r(x),v.wrap(x)}else r0(v,t)}}},O$=(e,t)=>{let n=e;for(;n;){if(n.name===t)return!0;n=n.parent}return!1},E2=(e,t,n=t.parent)=>n&&e.children[t.name]&&!e.isValidChild(n.name,t.name)?!0:!!(n&&t.name==="a"&&O$(n,"a")),I$=(e,t,n,r)=>{const s=document.createRange();return s.setStart(e,t),s.setEnd(n,r),s},L$=e=>{const t=V.fromRangeStart(e),n=V.fromRangeEnd(e),r=e.commonAncestorContainer;return ur(!1,r,n).map(s=>!go(t,n,r)&&go(t,s,r)?I$(t.container(),t.offset(),s.container(),s.offset()):e).getOr(e)},s0=e=>e.collapsed?e:L$(e),$$=e=>Z(e.firstChild)&&e.firstChild===e.lastChild,M$=e=>e.name==="br"||e.value===Wt,z$=(e,t)=>e.getBlockElements()[t.name]&&$$(t)&&M$(t.firstChild),U$=(e,t)=>{const n=e.getNonEmptyElements();return Z(t)&&(t.isEmpty(n)||z$(e,t))},j$=(e,t)=>{let n=t.firstChild,r=t.lastChild;return n&&n.name==="meta"&&(n=n.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),U$(e,r)&&(r=r==null?void 0:r.prev),!n||n!==r?!1:n.name==="ul"||n.name==="ol"},H$=e=>{var t,n;const r=e.firstChild,s=e.lastChild;return r&&r.nodeName==="META"&&((t=r.parentNode)===null||t===void 0||t.removeChild(r)),s&&s.id==="mce_marker"&&((n=s.parentNode)===null||n===void 0||n.removeChild(s)),e},V$=(e,t,n)=>{const r=t.serialize(n),s=e.createFragment(r);return H$(s)},W$=e=>{var t;return Ie((t=e==null?void 0:e.childNodes)!==null&&t!==void 0?t:[],n=>n.nodeName==="LI")},K$=e=>e.data===Wt||St(e),q$=e=>Z(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&K$(e.firstChild),G$=e=>!e.firstChild||q$(e),Y$=e=>e.length>0&&G$(e[e.length-1])?e.slice(0,-1):e,l0=(e,t)=>{const n=e.getParent(t,e.isBlock);return n&&n.nodeName==="LI"?n:null},Q$=(e,t)=>!!l0(e,t),X$=(e,t)=>{const n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]},Z$=(e,t)=>{const n=V.before(e),s=vo(t).next(n);return s?s.toRange():null},b2=(e,t)=>{const n=V.after(e),s=vo(t).prev(n);return s?s.toRange():null},J$=(e,t,n,r)=>{const s=X$(e,r),i=e.parentNode;return i&&(i.insertBefore(s[0],e),le.each(t,u=>{i.insertBefore(u,e)}),i.insertBefore(s[1],e),i.removeChild(e)),b2(t[t.length-1],n)},eM=(e,t,n)=>{const r=e.parentNode;return r&&le.each(t,s=>{r.insertBefore(s,e)}),Z$(e,n)},tM=(e,t,n,r)=>(r.insertAfter(t.reverse(),e),b2(t[0],n)),nM=(e,t,n,r)=>{const s=V$(t,e,r),i=l0(t,n.startContainer),u=Y$(W$(s.firstChild)),f=1,d=2,g=t.getRoot(),C=v=>{const y=V.fromRangeStart(n),w=vo(t.getRoot()),k=v===f?w.prev(y):w.next(y),S=k==null?void 0:k.getNode();return S?l0(t,S)!==i:!0};return i?C(f)?eM(i,u,g):C(d)?tM(i,u,g,t):J$(i,u,g,n):null},rM=["pre"],oM=(e,t,n,r)=>{var s;const i=t.firstChild,u=t.lastChild,f=u.attr("data-mce-type")==="bookmark"?u.prev:u,d=i===f,g=ot(rM,i.name);if(d&&g){const C=i.attr("contenteditable")!=="false",v=((s=e.getParent(n,e.isBlock))===null||s===void 0?void 0:s.nodeName.toLowerCase())===i.name,y=E.from(Bl(r,n)).forall(Ur);return C&&v&&y}else return!1},i0=cf,sM=(e,t,n)=>{if(Z(n)){const r=e.getParent(t.endContainer,i0);return n===r&&ih(D.fromDom(n),t)}else return!1},lM=(e,t,n)=>{var r;if(n.getAttribute("data-mce-bogus")==="all")(r=n.parentNode)===null||r===void 0||r.insertBefore(e.dom.createFragment(t),n);else{const s=n.firstChild,i=n.lastChild;!s||s===i&&s.nodeName==="BR"?e.dom.setHTML(n,t):e.selection.setContent(t,{no_events:!0})}},iM=(e,t)=>{E.from(e.getParent(t,"td,th")).map(D.fromDom).each(YO)},aM=(e,t)=>{const n=e.schema.getTextInlineElements(),r=e.dom;if(t){const s=e.getBody(),i=t0(e);le.each(r.select("*[data-mce-fragment]"),u=>{if(Z(n[u.nodeName.toLowerCase()])&&r9(r,u)){for(let d=u.parentElement;Z(d)&&d!==s&&!s9(r,u,d);d=d.parentElement)if(i.compare(d,u)){r.remove(u,!0);break}}})}},uM=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},cM=e=>{le.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},fM=e=>!!e.getAttribute("data-mce-fragment"),dM=(e,t)=>Z(t)&&!e.schema.getVoidElements()[t.nodeName],mM=(e,t)=>{var n,r,s;let i;const u=e.dom,f=e.selection;if(!t)return;f.scrollIntoView(t);const d=Bl(e.getBody(),t);if(d&&u.getContentEditable(d)==="false"){u.remove(t),f.select(d);return}let g=u.createRng();const C=t.previousSibling;if(ne(C)){g.setStart(C,(r=(n=C.nodeValue)===null||n===void 0?void 0:n.length)!==null&&r!==void 0?r:0);const w=t.nextSibling;ne(w)&&(C.appendData(w.data),(s=w.parentNode)===null||s===void 0||s.removeChild(w))}else g.setStartBefore(t),g.setEndBefore(t);const v=w=>{let k=V.fromRangeStart(w);return k=vo(e.getBody()).next(k),k==null?void 0:k.toRange()},y=u.getParent(t,u.isBlock);u.remove(t),y&&u.isEmpty(y)&&(hi(D.fromDom(y)),g.setStart(y,0),g.setEnd(y,0),!i0(y)&&!fM(y)&&(i=v(g))?(g=i,u.remove(y)):u.add(y,u.create("br",{"data-mce-bogus":"1"}))),f.setRng(g)},pM=e=>{const t=e.dom,n=s0(e.selection.getRng());e.selection.setRng(n);const r=t.getParent(n.startContainer,i0);sM(t,n,r)?Zh(e,n,D.fromDom(r)):n.startContainer===n.endContainer&&n.endOffset-n.startOffset===1&&ne(n.startContainer.childNodes[n.startOffset])?n.deleteContents():e.getDoc().execCommand("Delete",!1)},gM=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return E.some(t);return E.none()},hM=e=>{ee(kn(e.getBody().querySelectorAll("details")),t=>{const n=Ie(kn(t.children),r=>r.nodeName==="SUMMARY");n.length>1&&ee(n.slice(1),r=>{const s=D.fromDom(r);di(s,"mce-accordion-summary"),qb(s,"p")})})},vM=(e,t,n)=>{var r,s;const i=e.selection,u=e.dom,f=e.parser,d=n.merge,g=Es({validate:!0},e.schema),C='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,C);let v=i.getRng();const y=v.startContainer,w=e.getBody();y===w&&i.isCollapsed()&&u.isBlock(w.firstChild)&&dM(e,w.firstChild)&&u.isEmpty(w.firstChild)&&(v=u.createRng(),v.setStart(w.firstChild,0),v.setEnd(w.firstChild,0),i.setRng(v)),i.isCollapsed()||pM(e);const k=i.getNode(),S={context:k.nodeName.toLowerCase(),data:n.data,insert:!0},x=f.parse(t,S);if(n.paste===!0&&j$(e.schema,x)&&Q$(u,k))return v=nM(g,u,i.getRng(),x),v&&i.setRng(v),t;n.paste===!0&&oM(u,x,k,e.getBody())&&((r=x.firstChild)===null||r===void 0||r.unwrap()),uM(x);let F=x.lastChild;if(F&&F.attr("id")==="mce_marker"){const P=F;for(F=F.prev;F;F=F.walk(!0))if(F.type===3||!u.isBlock(F.name)){F.parent&&e.schema.isValidChild(F.parent.name,"span")&&F.parent.insert(P,F,F.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(k),!S.invalid)t=g.serialize(x),lM(e,t,k);else{e.selection.setContent(C);let P=i.getNode(),T;const L=e.getBody();for(Ga(P)?P=T=L:T=P;T&&T!==L;)P=T,T=T.parentNode;t=P===L?L.innerHTML:u.getOuterHTML(P);const q=f.parse(t),ye=gM(q),Y=ye.bind(R$).getOr(q);ye.each(ue=>ue.replace(x));const U=x.children(),W=(s=x.parent)!==null&&s!==void 0?s:q;x.unwrap();const ie=Ie(U,ue=>E2(e.schema,ue,W));o0(ie,e.schema,Y),C2(f.getNodeFilters(),f.getAttributeFilters(),q),t=g.serialize(q),P===L?u.setHTML(L,t):u.setOuterHTML(P,t)}return aM(e,d),mM(e,u.get("mce_marker")),cM(e.getBody()),iM(u,i.getStart()),hM(e),k3(e.schema,e.getBody(),i.getStart()),t},rd=e=>e instanceof Fn,CM=e=>{Dl(e)&&yn(e.getBody()).each(t=>{const n=t.getNode(),r=zo(n)?yn(n).getOr(t):t;e.selection.setRng(r.toRange())})},a0=(e,t,n)=>{e.dom.setHTML(e.getBody(),t),n!==!0&&CM(e)},yM=(e,t,n,r)=>{if(n.length===0||/^\s+$/.test(n)){const s='<br data-mce-bogus="1">';t.nodeName==="TABLE"?n="<tr><td>"+s+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+s+"</li>");const i=Nn(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),i.toLowerCase())?(n=s,n=e.dom.createHTML(i,cu(e),n)):n||(n=s),a0(e,n,r.no_selection),{content:n,html:n}}else{r.format!=="raw"&&(n=Es({validate:!1},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0})));const s=mf(D.fromDom(t))?n:le.trim(n);return a0(e,s,r.no_selection),{content:s,html:s}}},EM=(e,t,n,r)=>{C2(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);const s=Es({validate:!1},e.schema).serialize(n),i=mf(D.fromDom(t))?s:le.trim(s);return a0(e,i,r.no_selection),{content:n,html:i}},bM=(e,t,n)=>E.from(e.getBody()).map(r=>rd(t)?EM(e,r,t,n):yM(e,r,t,n)).getOr({content:t,html:rd(n.content)?"":n.content}),AM=(e,t,n)=>$o(e,t,n).isSome(),SM=(e,t)=>sO(e,t).isSome(),A2=e=>je(e)?e:rt,wM=(e,t,n)=>{let r=e.dom;const s=A2(n);for(;r.parentNode;){r=r.parentNode;const i=D.fromDom(r),u=t(i);if(u.isSome())return u;if(s(i))break}return E.none()},u0=(e,t,n)=>{const r=t(e),s=A2(n);return r.orThunk(()=>s(e)?E.none():wM(e,t,s))},c0=mh,S2=(e,t,n)=>{const r=e.formatter.get(n);if(r)for(let s=0;s<r.length;s++){const i=r[s];if(fr(i)&&i.inherit===!1&&e.dom.is(t,i.selector))return!0}return!1},f0=(e,t,n,r,s)=>{const i=e.dom.getRoot();if(t===i)return!1;const u=e.dom.getParent(t,f=>S2(e,f,n)?!0:f.parentNode===i||!!yo(e,f,n,r,!0));return!!yo(e,u,n,r,s)},od=(e,t,n)=>jt(n)&&c0(t,n.inline)||Co(n)&&c0(t,n.block)?!0:fr(n)?me(t)&&e.is(t,n.selector):!1,w2=(e,t,n,r,s,i)=>{const u=n[r],f=r==="attributes";if(je(n.onmatch))return n.onmatch(t,n,r);if(u){if(Yy(u)){for(let d=0;d<u.length;d++)if(f?e.getAttrib(t,u[d]):Uf(e,t,u[d]))return!0}else for(const d in u)if(ze(u,d)){const g=f?e.getAttrib(t,d):Uf(e,t,d),C=ys(u[d],i),v=de(g)||$a(g);if(v&&de(C))continue;if(s&&v&&!n.exact||(!s||n.exact)&&!c0(g,ph(C,d)))return!1}}return!0},yo=(e,t,n,r,s)=>{const i=e.formatter.get(n),u=e.dom;if(i&&me(t))for(let f=0;f<i.length;f++){const d=i[f];if(od(e.dom,t,d)&&w2(u,t,d,"attributes",s,r)&&w2(u,t,d,"styles",s,r)){const g=d.classes;if(g){for(let C=0;C<g.length;C++)if(!e.dom.hasClass(t,ys(g[C],r)))return}return d}}},d0=(e,t,n,r,s)=>{if(r)return f0(e,r,t,n,s);if(r=e.selection.getNode(),f0(e,r,t,n,s))return!0;const i=e.selection.getStart();return!!(i!==r&&f0(e,i,t,n,s))},xM=(e,t,n)=>{const r=[],s={},i=e.selection.getStart();return e.dom.getParent(i,u=>{for(let f=0;f<t.length;f++){const d=t[f];!s[d]&&yo(e,u,d,n)&&(s[d]=!0,r.push(d))}},e.dom.getRoot()),r},kM=(e,t)=>{const n=s=>et(s,D.fromDom(e.getBody())),r=(s,i)=>yo(e,s.dom,i)?E.some(i):E.none();return E.from(e.selection.getStart(!0)).bind(s=>u0(D.fromDom(s),i=>li(t,u=>r(i,u)),n)).getOrNull()},DM=(e,t)=>{const n=e.formatter.get(t),r=e.dom;if(n&&e.selection.isEditable()){const s=e.selection.getStart(),i=jf(r,s);for(let u=n.length-1;u>=0;u--){const f=n[u];if(!fr(f))return!0;for(let d=i.length-1;d>=0;d--)if(r.is(i[d],f.selector))return!0}}return!1},_M=(e,t,n)=>Kn(n,(r,s)=>{const i=DI(e,s);return e.formatter.matchNode(t,s,{},i)?r.concat([s]):r},[]),Oi=sn,NM=(e,t)=>e.importNode(t,!0),BM=e=>{const t=[];let n=e;for(;n;){if(ne(n)&&n.data!==Oi||n.childNodes.length>1)return[];me(n)&&t.push(n),n=n.firstChild}return t},x2=e=>BM(e).length>0,k2=e=>{if(e){const t=new Ut(e,e);for(let n=t.current();n;n=t.next())if(ne(n))return n}return null},m0=e=>{const t=D.fromTag("span");return ls(t,{id:th,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Ft(t,D.fromText(Oi)),t},FM=e=>{const t=k2(e);return t&&t.data.charAt(0)===Oi&&t.deleteData(0,1),t},p0=(e,t,n=!0)=>{const r=e.dom,s=e.selection;if(x2(t))_l(e,!1,D.fromDom(t),n);else{const i=s.getRng(),u=r.getParent(t,r.isBlock),f=i.startContainer,d=i.startOffset,g=i.endContainer,C=i.endOffset,v=FM(t);r.remove(t,!0),f===v&&d>0&&i.setStart(v,d-1),g===v&&C>0&&i.setEnd(v,C-1),u&&r.isEmpty(u)&&fs(D.fromDom(u)),s.setRng(i)}},g0=(e,t,n=!0)=>{const r=e.dom,s=e.selection;if(t)p0(e,t,n);else if(t=Al(e.getBody(),s.getStart()),!t)for(;t=r.get(th);)p0(e,t,n)},PM=(e,t,n)=>{var r,s;const i=e.dom,u=i.getParent(n,ce(fh,e.schema));u&&i.isEmpty(u)?(r=n.parentNode)===null||r===void 0||r.replaceChild(t,n):(GO(D.fromDom(n)),i.isEmpty(n)?(s=n.parentNode)===null||s===void 0||s.replaceChild(t,n):i.insertAfter(t,n))},D2=(e,t)=>(e.appendChild(t),t),_2=(e,t)=>{var n;const r=Pa(e,(i,u)=>D2(i,u.cloneNode(!1)),t),s=(n=r.ownerDocument)!==null&&n!==void 0?n:document;return D2(r,s.createTextNode(Oi))},TM=(e,t,n,r,s,i)=>{const u=e.formatter,f=e.dom,d=Ie(qn(u.get()),v=>v!==r&&!dn(v,"removeformat")),g=_M(e,n,d);if(Ie(g,v=>!_I(e,v,r)).length>0){const v=n.cloneNode(!1);return f.add(t,v),u.remove(r,s,v,i),f.remove(v),E.some(v)}else return E.none()},RM=(e,t,n)=>{let r;const s=e.selection,i=e.formatter.get(t);if(!i)return;const u=s.getRng();let f=u.startOffset;const g=u.startContainer.nodeValue;r=Al(e.getBody(),s.getStart());const C=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(g&&f>0&&f<g.length&&C.test(g.charAt(f))&&C.test(g.charAt(f-1))){const v=s.getBookmark();u.collapse(!0);let y=wl(e.dom,u,i);y=Yf(y),e.formatter.apply(t,n,y),s.moveToBookmark(v)}else{let v=r?k2(r):null;(!r||(v==null?void 0:v.data)!==Oi)&&(r=NM(e.getDoc(),m0(!0).dom),v=r.firstChild,u.insertNode(r),f=1),e.formatter.apply(t,n,r),s.setCursorLocation(v,f)}},OM=(e,t,n,r)=>{const s=e.dom,i=e.selection;let u=!1;const f=e.formatter.get(t);if(!f)return;const d=i.getRng(),g=d.startContainer,C=d.startOffset;let v=g;ne(g)&&(C!==g.data.length&&(u=!0),v=v.parentNode);const y=[];let w;for(;v;){if(yo(e,v,t,n,r)){w=v;break}v.nextSibling&&(u=!0),y.push(v),v=v.parentNode}if(w)if(u){const k=i.getBookmark();d.collapse(!0);let S=wl(s,d,f,!0);S=Yf(S),e.formatter.remove(t,n,S,r),i.moveToBookmark(k)}else{const k=Al(e.getBody(),w),S=m0(!1).dom;PM(e,S,k??w);const x=TM(e,S,w,t,n,r),F=_2(y.concat(x.toArray()),S);k&&p0(e,k,!1),i.setCursorLocation(F,1),s.isEmpty(w)&&s.remove(w)}},IM=(e,t,n)=>{const r=e.selection,s=e.getBody();g0(e,null,n),(t===8||t===46)&&r.isCollapsed()&&r.getStart().innerHTML===Oi&&g0(e,Al(s,r.getStart())),(t===37||t===39)&&g0(e,Al(s,r.getStart()))},LM=e=>ne(e)&&qp(e.data,Wt),$M=e=>{e.on("mouseup keydown",t=>{IM(e,t.keyCode,LM(e.selection.getRng().endContainer))})},N2=e=>{const t=m0(!1),n=_2(e,t.dom);return{caretContainer:t,caretPosition:V(n,0)}},B2=(e,t)=>{const{caretContainer:n,caretPosition:r}=N2(t);return Gn(D.fromDom(e),n),ht(D.fromDom(e)),r},MM=(e,t)=>{const{caretContainer:n,caretPosition:r}=N2(t);return e.insertNode(n.dom),r},F2=(e,t)=>{const n=e.schema.getTextInlineElements();return ze(n,dt(t))&&!Nr(t.dom)&&!ul(t.dom)},P2=e=>Nr(e.dom)&&x2(e.dom),Fu={},T2=zr(["pre"]),zM=(e,t)=>{Fu[e]||(Fu[e]=[]),Fu[e].push(t)},UM=(e,t)=>{ze(Fu,e)&&ee(Fu[e],n=>{n(t)})};zM("pre",e=>{const t=e.selection.getRng(),n=s=>i=>{const u=i.previousSibling;return T2(u)&&ot(s,u)},r=(s,i)=>{const u=D.fromDom(i),f=Lo(u).dom;ht(u),il(D.fromDom(s),[D.fromTag("br",f),D.fromTag("br",f),...on(u)])};if(!t.collapsed){const s=e.selection.getSelectedBlocks(),i=Ie(Ie(s,T2),n(s));ee(i,u=>{r(u.previousSibling,u)})}});const R2=["fontWeight","fontStyle","color","fontSize","fontFamily"],jM=e=>G(e.styles)&&Bt(qn(e.styles),t=>ot(R2,t)),HM=e=>zt(e,t=>jt(t)&&t.inline==="span"&&jM(t)),O2=(e,t)=>{const n=e.get(t);return Se(n)?HM(n):E.none()},I2=(e,t)=>Bn(t,V.fromRangeStart(e)).isNone(),L2=(e,t)=>Cn(t,V.fromRangeEnd(e)).exists(n=>!St(n.getNode())||Cn(t,n).isSome())===!1,$2=e=>t=>BO(t)&&e.isEditable(t),VM=e=>{const t=e.getSelectedBlocks(),n=e.getRng();if(e.isCollapsed())return[];if(t.length===1)return I2(n,t[0])&&L2(n,t[0])?t:[];{const r=$n(t).filter(u=>I2(n,u)).toArray(),s=el(t).filter(u=>L2(n,u)).toArray(),i=t.slice(1,-1);return r.concat(i).concat(s)}},WM=e=>Ie(VM(e),$2(e.dom)),M2=e=>Ie(e.getSelectedBlocks(),$2(e.dom)),h0=le.each,v0=e=>me(e)&&!cr(e)&&!Nr(e)&&!ul(e),z2=(e,t)=>{for(let n=e;n;n=n[t]){if(ne(n)&&io(n.data))return e;if(me(n)&&!cr(n))return n}return e},U2=(e,t,n)=>{const r=t0(e),s=me(t)&&Sl(t),i=me(n)&&Sl(n);if(s&&i){const u=z2(t,"previousSibling"),f=z2(n,"nextSibling");if(r.compare(u,f)){for(let d=u.nextSibling;d&&d!==f;){const g=d;d=d.nextSibling,u.appendChild(g)}return e.dom.remove(f),le.each(le.grep(f.childNodes),d=>{u.appendChild(d)}),u}}return n},j2=(e,t,n,r)=>{var s;if(r&&t.merge_siblings!==!1){const i=(s=U2(e,yS(r),r))!==null&&s!==void 0?s:r;U2(e,i,yS(i,!0))}},KM=(e,t,n)=>{if(t.clear_child_styles){const r=t.links?"*:not(a)":"*";h0(e.select(r,n),s=>{v0(s)&&Sl(s)&&h0(t.styles,(i,u)=>{e.setStyle(s,u,"")})})}},C0=(e,t,n)=>{h0(e.childNodes,r=>{v0(r)&&(t(r)&&n(r),r.hasChildNodes()&&C0(r,t,n))})},qM=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},H2=(e,t)=>n=>!!(n&&Uf(e,n,t)),V2=(e,t,n)=>r=>{e.setStyle(r,t,n),r.getAttribute("style")===""&&r.removeAttribute("style"),qM(e,r)},Fl=po.generate([{keep:[]},{rename:["name"]},{removed:[]}]),GM=/^(src|href|style)$/,y0=le.each,sd=mh,YM=e=>/^(TR|TH|TD)$/.test(e.nodeName),W2=(e,t,n)=>e.isChildOf(t,n)&&t!==n&&!e.isBlock(n),K2=(e,t,n)=>{let r=t[n?"startContainer":"endContainer"],s=t[n?"startOffset":"endOffset"];if(me(r)){const i=r.childNodes.length-1;!n&&s&&s--,r=r.childNodes[s>i?i:s]}return ne(r)&&n&&s>=r.data.length&&(r=new Ut(r,e.getBody()).next()||r),ne(r)&&!n&&s===0&&(r=new Ut(r,e.getBody()).prev()||r),r},q2=(e,t)=>{const n=t?"firstChild":"lastChild",r=e[n];return YM(e)&&r?e.nodeName==="TR"&&r[n]||r:e},E0=(e,t,n,r)=>{var s;const i=e.create(n,r);return(s=t.parentNode)===null||s===void 0||s.insertBefore(i,t),i.appendChild(t),i},G2=(e,t,n,r,s)=>{const i=D.fromDom(t),u=D.fromDom(e.create(r,s)),f=n?zE(i):ME(i);return il(u,f),n?(Gn(i,u),YE(u,i)):(as(i,u),Ft(u,i)),u.dom},QM=(e,t)=>t.links&&e.nodeName==="A",Y2=(e,t,n)=>{const r=t.parentNode;let s;const i=e.dom,u=Nn(e);Co(n)&&r===i.getRoot()&&(!n.list_block||!sd(t,n.list_block))&&ee(kn(t.childNodes),f=>{Fi(e,u,f.nodeName.toLowerCase())?s?s.appendChild(f):(s=E0(i,f,u),i.setAttribs(s,cu(e))):s=null}),!(FI(n)&&!sd(n.inline,t))&&i.remove(t,!0)},Q2=(e,t,n)=>Ot(e)?{name:t,value:null}:{name:e,value:ys(t,n)},X2=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},Z2=(e,t,n,r,s)=>{let i=!1;y0(n.styles,(u,f)=>{const{name:d,value:g}=Q2(f,u,r),C=ph(g,d);(n.remove_similar||De(g)||!me(s)||sd(Uf(e,s,d),C))&&e.setStyle(t,d,""),i=!0}),i&&X2(e,t)},XM=(e,t,n)=>{t==="removeformat"?ee(M2(e.selection),r=>{ee(R2,s=>e.dom.setStyle(r,s,"")),X2(e.dom,r)}):O2(e.formatter,t).each(r=>{ee(M2(e.selection),s=>Z2(e.dom,s,r,n,null))})},J2=(e,t,n,r,s)=>{const i=e.dom,u=t0(e),f=e.schema;if(jt(t)&&yf(f,t.inline)&&dl(f,r)&&r.parentElement===e.getBody())return Y2(e,r,t),Fl.removed();if(!t.ceFalseOverride&&r&&i.getContentEditableParent(r)==="false"||r&&!od(i,r,t)&&!QM(r,t))return Fl.keep();const d=r,g=t.preserve_attributes;if(jt(t)&&t.remove==="all"&&Se(g)){const C=Ie(i.getAttribs(d),v=>ot(g,v.name.toLowerCase()));if(i.removeAllAttribs(d),ee(C,v=>i.setAttrib(d,v.name,v.value)),C.length>0)return Fl.rename("span")}if(t.remove!=="all"){Z2(i,d,t,n,s),y0(t.attributes,(v,y)=>{const{name:w,value:k}=Q2(y,v,n);if(t.remove_similar||De(k)||!me(s)||sd(i.getAttrib(s,w),k)){if(w==="class"){const S=i.getAttrib(d,w);if(S){let x="";if(ee(S.split(/\s+/),F=>{/mce\-\w+/.test(F)&&(x+=(x?" ":"")+F)}),x){i.setAttrib(d,w,x);return}}}if(GM.test(w)&&d.removeAttribute("data-mce-"+w),w==="style"&&zr(["li"])(d)&&i.getStyle(d,"list-style-type")==="none"){d.removeAttribute(w),i.setStyle(d,"list-style-type","none");return}w==="class"&&d.removeAttribute("className"),d.removeAttribute(w)}}),y0(t.classes,v=>{v=ys(v,n),(!me(s)||i.hasClass(s,v))&&i.removeClass(d,v)});const C=i.getAttribs(d);for(let v=0;v<C.length;v++){const y=C[v].nodeName;if(!u.isAttributeInternal(y))return Fl.keep()}}return t.remove!=="none"?(Y2(e,d,t),Fl.removed()):Fl.keep()},ZM=(e,t,n,r,s)=>{let i;return t.parentNode&&ee(jf(e.dom,t.parentNode).reverse(),u=>{if(!i&&me(u)&&u.id!=="_start"&&u.id!=="_end"){const f=yo(e,u,n,r,s);f&&f.split!==!1&&(i=u)}}),i},JM=(e,t,n,r)=>J2(e,t,n,r,r).fold(K(r),s=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,s)),K(null)),ez=(e,t,n,r,s,i,u,f)=>{var d,g;let C,v;const y=e.dom;if(n){const w=n.parentNode;for(let k=r.parentNode;k&&k!==w;k=k.parentNode){let S=y.clone(k,!1);for(let x=0;x<t.length&&(S=JM(e,t[x],f,S),S!==null);x++);S&&(C&&S.appendChild(C),v||(v=S),C=S)}i&&(!u.mixed||!y.isBlock(n))&&(r=(d=y.split(n,r))!==null&&d!==void 0?d:r),C&&v&&((g=s.parentNode)===null||g===void 0||g.insertBefore(C,s),v.appendChild(s),jt(u)&&j2(e,u,f,C))}return r},tz=(e,t,n,r,s)=>{const i=e.formatter.get(t),u=i[0],f=e.dom,d=e.selection,g=S=>{const x=ZM(e,S,t,n,s);return ez(e,i,x,S,S,!0,u,n)},C=S=>cr(S)&&me(S)&&(S.id==="_start"||S.id==="_end"),v=S=>Bt(i,x=>Pu(e,x,n,S,S)),y=S=>{const x=kn(S.childNodes),P=v(S)||Bt(i,q=>od(f,S,q)),T=S.parentNode;if(!P&&Z(T)&&hh(u)&&v(T),u.deep&&x.length)for(let q=0;q<x.length;q++)y(x[q]);ee(["underline","line-through","overline"],q=>{me(S)&&e.dom.getStyle(S,"text-decoration")===q&&S.parentNode&&bS(f,S.parentNode)===q&&Pu(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:q}},void 0,S)})},w=S=>{const x=f.get(S?"_start":"_end");if(x){let F=x[S?"firstChild":"lastChild"];return C(F)&&(F=F[S?"firstChild":"lastChild"]),ne(F)&&F.data.length===0&&(F=S?x.previousSibling||x.nextSibling:x.nextSibling||x.previousSibling),f.remove(x,!0),F}else return null},k=S=>{let x,F,P=wl(f,S,i,S.collapsed);if(u.split){if(P=Yf(P),x=K2(e,P,!0),F=K2(e,P),x!==F){if(x=q2(x,!0),F=q2(F,!1),W2(f,x,F)){const L=E.from(x.firstChild).getOr(x);g(G2(f,L,!0,"span",{id:"_start","data-mce-type":"bookmark"})),w(!0);return}if(W2(f,F,x)){const L=E.from(F.lastChild).getOr(F);g(G2(f,L,!1,"span",{id:"_end","data-mce-type":"bookmark"})),w(!1);return}x=E0(f,x,"span",{id:"_start","data-mce-type":"bookmark"}),F=E0(f,F,"span",{id:"_end","data-mce-type":"bookmark"});const T=f.createRng();T.setStartAfter(x),T.setEndBefore(F),bu(f,T,L=>{ee(L,q=>{!cr(q)&&!cr(q.parentNode)&&g(q)})}),g(x),g(F),x=w(!0),F=w()}else x=F=g(x);P.startContainer=x.parentNode?x.parentNode:x,P.startOffset=f.nodeIndex(x),P.endContainer=F.parentNode?F.parentNode:F,P.endOffset=f.nodeIndex(F)+1}bu(f,P,T=>{ee(T,y)})};if(r){if(Eu(r)){const S=f.createRng();S.setStartBefore(r),S.setEndAfter(r),k(S)}else k(r);LS(e,t,r,n);return}!d.isCollapsed()||!jt(u)||Bi(e).length?(CS(e,()=>uh(e,k),S=>jt(u)&&d0(e,t,n,S)),e.nodeChanged()):OM(e,t,n,s),XM(e,t,n),LS(e,t,r,n)},ex=(e,t,n,r,s)=>{(r||e.selection.isEditable())&&tz(e,t,n,r,s)},Pu=(e,t,n,r,s)=>J2(e,t,n,r,s).fold(rt,i=>(e.dom.rename(r,i),!0),yt),tx=le.each,nz=(e,t,n,r)=>{const s=i=>{if(me(i)&&me(i.parentNode)&&Sl(i)){const u=bS(e,i.parentNode);e.getStyle(i,"color")&&u?e.setStyle(i,"text-decoration",u):e.getStyle(i,"text-decoration")===u&&e.setStyle(i,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(le.walk(r,s,"childNodes"),s(r))},rz=(e,t,n,r)=>{if(t.styles&&t.styles.backgroundColor){const s=H2(e,"fontSize");C0(r,i=>s(i)&&Sl(i),V2(e,"backgroundColor",ys(t.styles.backgroundColor,n)))}},oz=(e,t,n,r)=>{if(jt(t)&&(t.inline==="sub"||t.inline==="sup")){const s=H2(e,"fontSize");C0(r,u=>s(u)&&Sl(u),V2(e,"fontSize",""));const i=Ie(e.select(t.inline==="sup"?"sub":"sup",r),Sl);e.remove(i,!0)}},sz=(e,t,n,r)=>{tx(t,s=>{jt(s)&&tx(e.dom.select(s.inline,r),i=>{v0(i)&&Pu(e,s,n,i,s.exact?i:null)}),KM(e.dom,s,r)})},lz=(e,t,n,r,s)=>{const i=s.parentNode;yo(e,i,n,r)&&Pu(e,t,r,s)||t.merge_with_parents&&i&&e.dom.getParent(i,u=>yo(e,u,n,r)?(Pu(e,t,r,s),!0):!1)},ld=le.each,iz=(e,t,n,r)=>{if(T7(e)&&jt(t)&&n.parentNode){const s=Pb(e.schema),i=SM(D.fromDom(n),u=>Nr(u.dom));return ii(s,r)&&Pt(D.fromDom(n.parentNode),!1)&&!i}else return!1},nx=(e,t,n,r)=>{if(ld(n.styles,(s,i)=>{e.setStyle(t,i,ys(s,r))}),n.styles){const s=e.getAttrib(t,"style");s&&e.setAttrib(t,"data-mce-style",s)}},az=(e,t,n,r)=>{const s=e.formatter.get(t),i=s[0],u=!r&&e.selection.isCollapsed(),f=e.dom,d=e.selection,g=(k,S=i)=>{je(S.onformat)&&S.onformat(k,S,n,r),nx(f,k,S,n),ld(S.attributes,(x,F)=>{f.setAttrib(k,F,ys(x,n))}),ld(S.classes,x=>{const F=ys(x,n);f.hasClass(k,F)||f.addClass(k,F)})},C=(k,S)=>{let x=!1;return ld(k,F=>fr(F)?f.getContentEditable(S)==="false"&&!F.ceFalseOverride||Z(F.collapsed)&&F.collapsed!==u?!0:f.is(S,F.selector)&&!Nr(S)?(g(S,F),x=!0,!1):!0:!1),x},v=k=>{if(N(k)){const S=f.create(k);return g(S),S}else return null},y=(k,S,x)=>{const F=[];let P=!0;const T=i.inline||i.block,L=v(T),q=U=>NI(i)&&yo(e,U,t,n),ye=(U,W,ie)=>{const ue=BI(i)&&fh(e.schema,U)&&Fi(e,W,T);return ie&&ue},Y=(U,W,ie,ue)=>{const ge=U.nodeName.toLowerCase(),Fe=Fi(e,T,ge)&&Fi(e,W,T),Ne=!x&&ne(U)&&gf(U.data),Ke=Nr(U),Ye=!jt(i)||!k.isBlock(U);return(ie||ue)&&Fe&&!Ne&&!Ke&&Ye};bu(k,S,U=>{let W;const ie=ue=>{let ge=!1,Fe=P,Ne=!1;const Ke=ue.parentNode,Ye=Ke.nodeName.toLowerCase(),vt=k.getContentEditable(ue);Z(vt)&&(Fe=P,P=vt==="true",ge=!0,Ne=ES(e,ue));const Zt=P&&!ge;if(St(ue)&&!iz(e,i,ue,Ye)){W=null,Co(i)&&k.remove(ue);return}if(q(ue)){W=null;return}if(ye(ue,Ye,Zt)){const Tt=k.rename(ue,T);g(Tt),F.push(Tt),W=null;return}if(fr(i)){let Tt=C(s,ue);if(!Tt&&Z(Ke)&&hh(i)&&(Tt=C(s,Ke)),!jt(i)||Tt){W=null;return}}Z(L)&&Y(ue,Ye,Zt,Ne)?(W||(W=k.clone(L,!1),Ke.insertBefore(W,ue),F.push(W)),Ne&&ge&&(P=Fe),W.appendChild(ue)):(W=null,ee(kn(ue.childNodes),ie),ge&&(P=Fe),W=null)};ee(U,ie)}),i.links===!0&&ee(F,U=>{const W=ie=>{ie.nodeName==="A"&&g(ie,i),ee(kn(ie.childNodes),W)};W(U)}),ee(F,U=>{const W=ge=>{let Fe=0;return ee(ge.childNodes,Ne=>{!xI(Ne)&&!cr(Ne)&&Fe++}),Fe},ie=ge=>zt(ge.childNodes,ch).filter(Ne=>k.getContentEditable(Ne)!=="false"&&od(k,Ne,i)).map(Ne=>{const Ke=k.clone(Ne,!1);return g(Ke),k.replace(Ke,ge,!0),k.remove(Ne,!0),Ke}).getOr(ge),ue=W(U);if((F.length>1||!k.isBlock(U))&&ue===0){k.remove(U,!0);return}(jt(i)||Co(i)&&i.wrapper)&&(!i.exact&&ue===1&&(U=ie(U)),sz(e,s,n,U),lz(e,i,t,n,U),rz(k,i,n,U),nz(k,i,n,U),oz(k,i,n,U),j2(e,i,n,U))})},w=Eu(r)?r:d.getNode();if(f.getContentEditable(w)==="false"&&!ES(e,w)){r=w,C(s,r),IS(e,t,r,n);return}if(i){if(r)if(Eu(r)){if(!C(s,r)){const k=f.createRng();k.setStartBefore(r),k.setEndAfter(r),y(f,wl(f,k,s),!0)}}else y(f,r,!0);else!u||!jt(i)||Bi(e).length?(d.setRng(s0(d.getRng())),CS(e,()=>{uh(e,(k,S)=>{const x=S?k:wl(f,k,s);y(f,x,!1)})},yt),e.nodeChanged()):RM(e,t,n),O2(e.formatter,t).each(k=>{ee(WM(e.selection),S=>nx(f,S,k,n))});UM(t,e)}IS(e,t,r,n)},rx=(e,t,n,r)=>{(r||e.selection.isEditable())&&az(e,t,n,r)},ox=e=>ze(e,"vars"),uz=(e,t)=>{e.set({}),t.on("NodeChange",n=>{ax(t,n.element,e.get())}),t.on("FormatApply FormatRemove",n=>{const r=E.from(n.node).map(s=>Eu(s)?s:s.startContainer).bind(s=>me(s)?E.some(s):E.from(s.parentElement)).getOrThunk(()=>sx(t));ax(t,r,e.get())})},sx=e=>e.selection.getStart(),lx=(e,t,n,r,s)=>Wy(t,f=>{const d=e.formatter.matchNode(f,n,s??{},r);return!Pe(d)},f=>S2(e,f,n)?!0:r?!1:Z(e.formatter.matchNode(f,n,s,!0))),ix=(e,t)=>{const n=t??sx(e);return Ie(jf(e.dom,n),r=>me(r)&&!ul(r))},ax=(e,t,n)=>{const r=ix(e,t);ft(n,(s,i)=>{const u=f=>{const d=lx(e,r,i,f.similar,ox(f)?f.vars:void 0),g=d.isSome();if(f.state.get()!==g){f.state.set(g);const C=d.getOr(t);ox(f)?f.callback(g,{node:C,format:i,parents:r}):ee(f.callbacks,v=>v(g,{node:C,format:i,parents:r}))}};ee([s.withSimilar,s.withoutSimilar],u),ee(s.withVars,u)})},cz=(e,t,n,r,s,i)=>{const u=t.get();ee(n.split(","),f=>{const d=pt(u,f).getOrThunk(()=>{const C={withSimilar:{state:Kt(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Kt(!1),similar:!1,callbacks:[]},withVars:[]};return u[f]=C,C}),g=()=>{const C=ix(e);return lx(e,C,f,s,i).isSome()};if(Pe(i)){const C=s?d.withSimilar:d.withoutSimilar;C.callbacks.push(r),C.callbacks.length===1&&C.state.set(g())}else d.withVars.push({state:Kt(g()),similar:s,vars:i,callback:r})}),t.set(u)},fz=(e,t,n)=>{const r=e.get();ee(t.split(","),s=>pt(r,s).each(i=>{r[s]={withSimilar:{...i.withSimilar,callbacks:Ie(i.withSimilar.callbacks,u=>u!==n)},withoutSimilar:{...i.withoutSimilar,callbacks:Ie(i.withoutSimilar.callbacks,u=>u!==n)},withVars:Ie(i.withVars,u=>u.callback!==n)}})),e.set(r)},dz=(e,t,n,r,s,i)=>(cz(e,t,n,r,s,i),{unbind:()=>fz(t,n,r)}),mz=(e,t,n,r)=>{const s=e.formatter.get(t);s&&(d0(e,t,n,r)&&(!("toggle"in s[0])||s[0].toggle)?ex(e,t,n,r):rx(e,t,n,r))},ux=le.explode,cx=()=>{const e={};return{addFilter:(s,i)=>{ee(ux(s),u=>{ze(e,u)||(e[u]={name:u,callbacks:[]}),e[u].callbacks.push(i)})},getFilters:()=>Hp(e),removeFilter:(s,i)=>{ee(ux(s),u=>{if(ze(e,u))if(Z(i)){const f=e[u],d=Ie(f.callbacks,g=>g!==i);d.length>0?f.callbacks=d:delete e[u]}else delete e[u]})}}},pz=(e,t)=>{ee(t,n=>{e.attr(n,null)})},gz=(e,t,n)=>{e.addNodeFilter("font",r=>{ee(r,s=>{const i=t.parse(s.attr("style")),u=s.attr("color"),f=s.attr("face"),d=s.attr("size");u&&(i.color=u),f&&(i["font-family"]=f),d&&ef(d).each(g=>{i["font-size"]=n[g-1]}),s.name="span",s.attr("style",t.serialize(i)),pz(s,["color","face","size"])})})},hz=(e,t,n)=>{e.addNodeFilter("strike",r=>{const s=t.type!=="html4";ee(r,i=>{if(s)i.name="s";else{const u=n.parse(i.attr("style"));u["text-decoration"]="line-through",i.name="span",i.attr("style",n.serialize(u))}})})},vz=(e,t,n)=>{var r;const s=_g();t.convert_fonts_to_spans&&gz(e,s,le.explode((r=t.font_size_legacy_values)!==null&&r!==void 0?r:"")),hz(e,n,s)},Cz=(e,t,n)=>{t.inline_styles&&vz(e,t,n)},fx=(e,t)=>{e.addNodeFilter("br",(n,r,s)=>{const i=le.extend({},t.getBlockElements()),u=t.getNonEmptyElements(),f=t.getWhitespaceElements();i.body=1;const d=g=>g.name in i&&_3(t,g);for(let g=0,C=n.length;g<C;g++){let v=n[g],y=v.parent;if(y&&i[y.name]&&v===y.lastChild){let w=v.prev;for(;w;){const k=w.name;if(k!=="span"||w.attr("data-mce-type")!=="bookmark"){k==="br"&&(v=null);break}w=w.prev}if(v&&(v.remove(),Bu(t,u,f,y))){const k=t.getElementRule(y.name);k&&(k.removeEmpty?y.remove():k.paddEmpty&&n0(s,d,y))}}else{let w=v;for(;y&&y.firstChild===w&&y.lastChild===w&&(w=y,!i[y.name]);)y=y.parent;if(w===y){const k=new Fn("#text",3);k.value=Wt,v.replace(k)}}}})},yz=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),Ez=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},b0=e=>{const[t,...n]=e.split(","),r=n.join(","),s=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(s){const i=s[2]===";base64",u=i?Ez(r):decodeURIComponent(r);return E.some({type:s[1],data:u,base64Encoded:i})}else return E.none()},dx=(e,t,n=!0)=>{let r=t;if(n)try{r=atob(t)}catch{return E.none()}const s=new Uint8Array(r.length);for(let i=0;i<s.length;i++)s[i]=r.charCodeAt(i);return E.some(new Blob([s],{type:e}))},bz=e=>new Promise((t,n)=>{b0(e).bind(({type:r,data:s,base64Encoded:i})=>dx(r,s,i)).fold(()=>n("Invalid data URI"),t)}),Az=e=>nn(e,"blob:")?yz(e):nn(e,"data:")?bz(e):Promise.reject("Unknown URI format"),mx=e=>new Promise((t,n)=>{const r=new FileReader;r.onloadend=()=>{t(r.result)},r.onerror=()=>{var s;n((s=r.error)===null||s===void 0?void 0:s.message)},r.readAsDataURL(e)});let Sz=0;const wz=e=>(e||"blobid")+Sz++,px=(e,t,n)=>b0(e).bind(({data:r,type:s,base64Encoded:i})=>{if(t&&!i)return E.none();{const u=i?r:btoa(r);return n(u,s)}}),gx=(e,t,n)=>{const r=e.create(wz(),t,n);return e.add(r),r},hx=(e,t,n=!1)=>px(t,n,(r,s)=>E.from(e.getByData(r,s)).orThunk(()=>dx(s,r).map(i=>gx(e,i,r)))),xz=(e,t)=>{const n=()=>Promise.reject("Invalid data URI");if(nn(t,"blob:")){const r=e.getByUri(t);return Z(r)?Promise.resolve(r):Az(t).then(s=>mx(s).then(i=>px(i,!1,u=>E.some(gx(e,s,u))).getOrThunk(n)))}else return nn(t,"data:")?hx(e,t).fold(n,r=>Promise.resolve(r)):Promise.reject("Unknown image data format")},kz=e=>Z(e.attr("data-mce-bogus")),Dz=e=>e.attr("src")===Qe.transparentSrc||Z(e.attr("data-mce-placeholder")),_z=(e,t)=>{const{blob_cache:n}=t;if(n){const r=s=>{const i=s.attr("src");Dz(s)||kz(s)||de(i)||hx(n,i,!0).each(u=>{s.attr("src",u.blobUri())})};e.addAttributeFilter("src",s=>ee(s,r))}},Nz=(e,t)=>{const n=e.schema;t.remove_trailing_brs&&fx(e,n),e.addAttributeFilter("href",s=>{let i=s.length;const u=d=>d.split(" ").filter(C=>C.length>0).concat(["noopener"]).sort().join(" "),f=d=>{const g=d?le.trim(d):"";return/\b(noopener)\b/g.test(g)?g:u(g)};if(!t.allow_unsafe_link_target)for(;i--;){const d=s[i];d.name==="a"&&d.attr("target")==="_blank"&&d.attr("rel",f(d.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",s=>{let i=s.length,u,f,d,g;for(;i--;)if(g=s[i],g.name==="a"&&g.firstChild&&!g.attr("href"))for(d=g.parent,u=g.lastChild;u&&d;)f=u.prev,d.insert(u,g),u=f}),t.fix_list_elements&&e.addNodeFilter("ul,ol",s=>{let i=s.length,u,f;for(;i--;)if(u=s[i],f=u.parent,f&&(f.name==="ul"||f.name==="ol"))if(u.prev&&u.prev.name==="li")u.prev.append(u);else{const d=new Fn("li",1);d.attr("style","list-style-type: none"),u.wrap(d)}});const r=n.getValidClasses();t.validate&&r&&e.addAttributeFilter("class",s=>{var i;let u=s.length;for(;u--;){const f=s[u],d=(i=f.attr("class"))!==null&&i!==void 0?i:"",g=le.explode(d," ");let C="";for(let v=0;v<g.length;v++){const y=g[v];let w=!1,k=r["*"];k&&k[y]&&(w=!0),k=r[f.name],!w&&k&&k[y]&&(w=!0),w&&(C&&(C+=" "),C+=y)}C.length||(C=null),f.attr("class",C)}}),_z(e,t)};function Pl(e){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pl(e)}function A0(e,t){return A0=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},A0(e,t)}function Bz(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function id(e,t,n){return Bz()?id=Reflect.construct:id=function(s,i,u){var f=[null];f.push.apply(f,i);var d=Function.bind.apply(s,f),g=new d;return u&&A0(g,u.prototype),g},id.apply(null,arguments)}function Vr(e){return Fz(e)||Pz(e)||Tz(e)||Rz()}function Fz(e){if(Array.isArray(e))return S0(e)}function Pz(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Tz(e,t){if(e){if(typeof e=="string")return S0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S0(e,t)}}function S0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Oz=Object.hasOwnProperty,vx=Object.setPrototypeOf,Iz=Object.isFrozen,Lz=Object.getPrototypeOf,$z=Object.getOwnPropertyDescriptor,zn=Object.freeze,Eo=Object.seal,Mz=Object.create,Cx=typeof Reflect<"u"&&Reflect,ad=Cx.apply,w0=Cx.construct;ad||(ad=function(t,n,r){return t.apply(n,r)}),zn||(zn=function(t){return t}),Eo||(Eo=function(t){return t}),w0||(w0=function(t,n){return id(t,Vr(n))});var zz=Wr(Array.prototype.forEach),Uz=Wr(Array.prototype.pop),Tu=Wr(Array.prototype.push),ud=Wr(String.prototype.toLowerCase),jz=Wr(String.prototype.match),xs=Wr(String.prototype.replace),Hz=Wr(String.prototype.indexOf),Vz=Wr(String.prototype.trim),Un=Wr(RegExp.prototype.test),x0=Wz(TypeError);function Wr(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return ad(e,t,r)}}function Wz(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w0(e,n)}}function tt(e,t){vx&&vx(e,null);for(var n=t.length;n--;){var r=t[n];if(typeof r=="string"){var s=ud(r);s!==r&&(Iz(t)||(t[n]=s),r=s)}e[r]=!0}return e}function Tl(e){var t=Mz(null),n;for(n in e)ad(Oz,e,[n])&&(t[n]=e[n]);return t}function cd(e,t){for(;e!==null;){var n=$z(e,t);if(n){if(n.get)return Wr(n.get);if(typeof n.value=="function")return Wr(n.value)}e=Lz(e)}function r(s){return console.warn("fallback value for",s),null}return r}var yx=zn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),k0=zn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),D0=zn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Kz=zn(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),_0=zn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),qz=zn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ex=zn(["#text"]),bx=zn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),N0=zn(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ax=zn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),fd=zn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Gz=Eo(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Yz=Eo(/<%[\w\W]*|[\w\W]*%>/gm),Qz=Eo(/^data-[\-\w.\u00B7-\uFFFF]/),Xz=Eo(/^aria-[\-\w]+$/),Zz=Eo(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Jz=Eo(/^(?:\w+script|data):/i),eU=Eo(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),tU=Eo(/^html$/i),nU=function(){return typeof window>"u"?null:window},rU=function(t,n){if(Pl(t)!=="object"||typeof t.createPolicy!="function")return null;var r=null,s="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(s)&&(r=n.currentScript.getAttribute(s));var i="dompurify"+(r?"#"+r:"");try{return t.createPolicy(i,{createHTML:function(f){return f}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}};function Sx(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nU(),t=function(H){return Sx(H)};if(t.version="2.3.8",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;var n=e.document,r=e.document,s=e.DocumentFragment,i=e.HTMLTemplateElement,u=e.Node,f=e.Element,d=e.NodeFilter,g=e.NamedNodeMap,C=g===void 0?e.NamedNodeMap||e.MozNamedAttrMap:g,v=e.HTMLFormElement,y=e.DOMParser,w=e.trustedTypes,k=f.prototype,S=cd(k,"cloneNode"),x=cd(k,"nextSibling"),F=cd(k,"childNodes"),P=cd(k,"parentNode");if(typeof i=="function"){var T=r.createElement("template");T.content&&T.content.ownerDocument&&(r=T.content.ownerDocument)}var L=rU(w,n),q=L?L.createHTML(""):"",ye=r,Y=ye.implementation,U=ye.createNodeIterator,W=ye.createDocumentFragment,ie=ye.getElementsByTagName,ue=n.importNode,ge={};try{ge=Tl(r).documentMode?r.documentMode:{}}catch{}var Fe={};t.isSupported=typeof P=="function"&&Y&&typeof Y.createHTMLDocument<"u"&&ge!==9;var Ne=Gz,Ke=Yz,Ye=Qz,vt=Xz,Zt=Jz,Tt=eU,re=Zz,Ee=null,qe=tt({},[].concat(Vr(yx),Vr(k0),Vr(D0),Vr(_0),Vr(Ex))),Ve=null,be=tt({},[].concat(Vr(bx),Vr(N0),Vr(Ax),Vr(fd))),Ae=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),te=null,Be=null,He=!0,Ze=!0,it=!1,Te=!1,Ge=!1,At=!1,nt=!1,gt=!1,Et=!1,ut=!1,wt=!0,hr=!0,Jt=!1,Yr={},Xn=null,zl=tt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ul=null,Qr=tt({},["audio","video","img","source","image","track"]),Br=null,Dt=tt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),vr="http://www.w3.org/1998/Math/MathML",Xr="http://www.w3.org/2000/svg",Cr="http://www.w3.org/1999/xhtml",yr=Cr,wo=!1,an,qo=["application/xhtml+xml","text/html"],xo="text/html",Fr,_s=null,um=r.createElement("form"),rv=function(H){return H instanceof RegExp||H instanceof Function},cm=function(H){_s&&_s===H||((!H||Pl(H)!=="object")&&(H={}),H=Tl(H),Ee="ALLOWED_TAGS"in H?tt({},H.ALLOWED_TAGS):qe,Ve="ALLOWED_ATTR"in H?tt({},H.ALLOWED_ATTR):be,Br="ADD_URI_SAFE_ATTR"in H?tt(Tl(Dt),H.ADD_URI_SAFE_ATTR):Dt,Ul="ADD_DATA_URI_TAGS"in H?tt(Tl(Qr),H.ADD_DATA_URI_TAGS):Qr,Xn="FORBID_CONTENTS"in H?tt({},H.FORBID_CONTENTS):zl,te="FORBID_TAGS"in H?tt({},H.FORBID_TAGS):{},Be="FORBID_ATTR"in H?tt({},H.FORBID_ATTR):{},Yr="USE_PROFILES"in H?H.USE_PROFILES:!1,He=H.ALLOW_ARIA_ATTR!==!1,Ze=H.ALLOW_DATA_ATTR!==!1,it=H.ALLOW_UNKNOWN_PROTOCOLS||!1,Te=H.SAFE_FOR_TEMPLATES||!1,Ge=H.WHOLE_DOCUMENT||!1,gt=H.RETURN_DOM||!1,Et=H.RETURN_DOM_FRAGMENT||!1,ut=H.RETURN_TRUSTED_TYPE||!1,nt=H.FORCE_BODY||!1,wt=H.SANITIZE_DOM!==!1,hr=H.KEEP_CONTENT!==!1,Jt=H.IN_PLACE||!1,re=H.ALLOWED_URI_REGEXP||re,yr=H.NAMESPACE||Cr,H.CUSTOM_ELEMENT_HANDLING&&rv(H.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ae.tagNameCheck=H.CUSTOM_ELEMENT_HANDLING.tagNameCheck),H.CUSTOM_ELEMENT_HANDLING&&rv(H.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ae.attributeNameCheck=H.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),H.CUSTOM_ELEMENT_HANDLING&&typeof H.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ae.allowCustomizedBuiltInElements=H.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),an=qo.indexOf(H.PARSER_MEDIA_TYPE)===-1?an=xo:an=H.PARSER_MEDIA_TYPE,Fr=an==="application/xhtml+xml"?function(Ce){return Ce}:ud,Te&&(Ze=!1),Et&&(gt=!0),Yr&&(Ee=tt({},Vr(Ex)),Ve=[],Yr.html===!0&&(tt(Ee,yx),tt(Ve,bx)),Yr.svg===!0&&(tt(Ee,k0),tt(Ve,N0),tt(Ve,fd)),Yr.svgFilters===!0&&(tt(Ee,D0),tt(Ve,N0),tt(Ve,fd)),Yr.mathMl===!0&&(tt(Ee,_0),tt(Ve,Ax),tt(Ve,fd))),H.ADD_TAGS&&(Ee===qe&&(Ee=Tl(Ee)),tt(Ee,H.ADD_TAGS)),H.ADD_ATTR&&(Ve===be&&(Ve=Tl(Ve)),tt(Ve,H.ADD_ATTR)),H.ADD_URI_SAFE_ATTR&&tt(Br,H.ADD_URI_SAFE_ATTR),H.FORBID_CONTENTS&&(Xn===zl&&(Xn=Tl(Xn)),tt(Xn,H.FORBID_CONTENTS)),hr&&(Ee["#text"]=!0),Ge&&tt(Ee,["html","head","body"]),Ee.table&&(tt(Ee,["tbody"]),delete te.tbody),zn&&zn(H),_s=H)},ov=tt({},["mi","mo","mn","ms","mtext"]),sv=tt({},["foreignobject","desc","title","annotation-xml"]),RB=tt({},["title","style","font","a","script"]),Zr=tt({},k0);tt(Zr,D0),tt(Zr,Kz);var Yi=tt({},_0);tt(Yi,qz);var $=function(H){var Ce=P(H);(!Ce||!Ce.tagName)&&(Ce={namespaceURI:Cr,tagName:"template"});var Re=ud(H.tagName),bt=ud(Ce.tagName);return H.namespaceURI===Xr?Ce.namespaceURI===Cr?Re==="svg":Ce.namespaceURI===vr?Re==="svg"&&(bt==="annotation-xml"||ov[bt]):!!Zr[Re]:H.namespaceURI===vr?Ce.namespaceURI===Cr?Re==="math":Ce.namespaceURI===Xr?Re==="math"&&sv[bt]:!!Yi[Re]:H.namespaceURI===Cr?Ce.namespaceURI===Xr&&!sv[bt]||Ce.namespaceURI===vr&&!ov[bt]?!1:!Yi[Re]&&(RB[Re]||!Zr[Re]):!1},M=function(H){Tu(t.removed,{element:H});try{H.parentNode.removeChild(H)}catch{try{H.outerHTML=q}catch{H.remove()}}},se=function(H,Ce){try{Tu(t.removed,{attribute:Ce.getAttributeNode(H),from:Ce})}catch{Tu(t.removed,{attribute:null,from:Ce})}if(Ce.removeAttribute(H),H==="is"&&!Ve[H])if(gt||Et)try{M(Ce)}catch{}else try{Ce.setAttribute(H,"")}catch{}},J=function(H){var Ce,Re;if(nt)H="<remove></remove>"+H;else{var bt=jz(H,/^[\r\n\t ]+/);Re=bt&&bt[0]}an==="application/xhtml+xml"&&(H='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+H+"</body></html>");var Zn=L?L.createHTML(H):H;if(yr===Cr)try{Ce=new y().parseFromString(Zn,an)}catch{}if(!Ce||!Ce.documentElement){Ce=Y.createDocument(yr,"template",null);try{Ce.documentElement.innerHTML=wo?"":Zn}catch{}}var Tn=Ce.body||Ce.documentElement;return H&&Re&&Tn.insertBefore(r.createTextNode(Re),Tn.childNodes[0]||null),yr===Cr?ie.call(Ce,Ge?"html":"body")[0]:Ge?Ce.documentElement:Tn},we=function(H){return U.call(H.ownerDocument||H,H,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT,null,!1)},We=function(H){return H instanceof v&&(typeof H.nodeName!="string"||typeof H.textContent!="string"||typeof H.removeChild!="function"||!(H.attributes instanceof C)||typeof H.removeAttribute!="function"||typeof H.setAttribute!="function"||typeof H.namespaceURI!="string"||typeof H.insertBefore!="function")},at=function(H){return Pl(u)==="object"?H instanceof u:H&&Pl(H)==="object"&&typeof H.nodeType=="number"&&typeof H.nodeName=="string"},Ht=function(H,Ce,Re){Fe[H]&&zz(Fe[H],function(bt){bt.call(t,Ce,Re,_s)})},Gt=function(H){var Ce;if(Ht("beforeSanitizeElements",H,null),We(H)||Un(/[\u0080-\uFFFF]/,H.nodeName))return M(H),!0;var Re=Fr(H.nodeName);if(Ht("uponSanitizeElement",H,{tagName:Re,allowedTags:Ee}),H.hasChildNodes()&&!at(H.firstElementChild)&&(!at(H.content)||!at(H.content.firstElementChild))&&Un(/<[/\w]/g,H.innerHTML)&&Un(/<[/\w]/g,H.textContent)||Re==="select"&&Un(/<template/i,H.innerHTML))return M(H),!0;if(!Ee[Re]||te[Re]){if(!te[Re]&&Ju(Re)&&(Ae.tagNameCheck instanceof RegExp&&Un(Ae.tagNameCheck,Re)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(Re)))return!1;if(hr&&!Xn[Re]){var bt=P(H)||H.parentNode,Zn=F(H)||H.childNodes;if(Zn&&bt)for(var Tn=Zn.length,bn=Tn-1;bn>=0;--bn)bt.insertBefore(S(Zn[bn],!0),x(H))}return M(H),!0}return H instanceof f&&!$(H)||(Re==="noscript"||Re==="noembed")&&Un(/<\/no(script|embed)/i,H.innerHTML)?(M(H),!0):(Te&&H.nodeType===3&&(Ce=H.textContent,Ce=xs(Ce,Ne," "),Ce=xs(Ce,Ke," "),H.textContent!==Ce&&(Tu(t.removed,{element:H.cloneNode()}),H.textContent=Ce)),Ht("afterSanitizeElements",H,null),!1)},Zu=function(H,Ce,Re){if(wt&&(Ce==="id"||Ce==="name")&&(Re in r||Re in um))return!1;if(!(Ze&&!Be[Ce]&&Un(Ye,Ce))){if(!(He&&Un(vt,Ce))){if(!Ve[Ce]||Be[Ce]){if(!(Ju(H)&&(Ae.tagNameCheck instanceof RegExp&&Un(Ae.tagNameCheck,H)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(H))&&(Ae.attributeNameCheck instanceof RegExp&&Un(Ae.attributeNameCheck,Ce)||Ae.attributeNameCheck instanceof Function&&Ae.attributeNameCheck(Ce))||Ce==="is"&&Ae.allowCustomizedBuiltInElements&&(Ae.tagNameCheck instanceof RegExp&&Un(Ae.tagNameCheck,Re)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(Re))))return!1}else if(!Br[Ce]){if(!Un(re,xs(Re,Tt,""))){if(!((Ce==="src"||Ce==="xlink:href"||Ce==="href")&&H!=="script"&&Hz(Re,"data:")===0&&Ul[H])){if(!(it&&!Un(Zt,xs(Re,Tt,"")))){if(Re)return!1}}}}}}return!0},Ju=function(H){return H.indexOf("-")>0},OB=function(H){var Ce,Re,bt,Zn;Ht("beforeSanitizeAttributes",H,null);var Tn=H.attributes;if(Tn){var bn={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ve};for(Zn=Tn.length;Zn--;){Ce=Tn[Zn];var fm=Ce,An=fm.name,IB=fm.namespaceURI;Re=An==="value"?Ce.value:Vz(Ce.value),bt=Fr(An);var Xte=Re;if(bn.attrName=bt,bn.attrValue=Re,bn.keepAttr=!0,bn.forceKeepAttr=void 0,Ht("uponSanitizeAttribute",H,bn),Re=bn.attrValue,!bn.forceKeepAttr){if(!bn.keepAttr){se(An,H);continue}if(Un(/\/>/i,Re)){se(An,H);continue}Te&&(Re=xs(Re,Ne," "),Re=xs(Re,Ke," "));var Zte=Fr(H.nodeName);if(!Zu(Zte,bt,Re)){se(An,H);continue}if(Re!==Xte)try{IB?H.setAttributeNS(IB,An,Re):H.setAttribute(An,Re)}catch{se(An,H)}}}Ht("afterSanitizeAttributes",H,null)}},Qte=function Ue(H){var Ce,Re=we(H);for(Ht("beforeSanitizeShadowDOM",H,null);Ce=Re.nextNode();)Ht("uponSanitizeShadowNode",Ce,null),!Gt(Ce)&&(Ce.content instanceof s&&Ue(Ce.content),OB(Ce));Ht("afterSanitizeShadowDOM",H,null)};return t.sanitize=function(Ue,H){var Ce,Re,bt,Zn,Tn;if(wo=!Ue,wo&&(Ue="<!-->"),typeof Ue!="string"&&!at(Ue)){if(typeof Ue.toString!="function")throw x0("toString is not a function");if(Ue=Ue.toString(),typeof Ue!="string")throw x0("dirty is not a string, aborting")}if(!t.isSupported){if(Pl(e.toStaticHTML)==="object"||typeof e.toStaticHTML=="function"){if(typeof Ue=="string")return e.toStaticHTML(Ue);if(at(Ue))return e.toStaticHTML(Ue.outerHTML)}return Ue}if(At||cm(H),t.removed=[],typeof Ue=="string"&&(Jt=!1),Jt){if(Ue.nodeName){var bn=Fr(Ue.nodeName);if(!Ee[bn]||te[bn])throw x0("root node is forbidden and cannot be sanitized in-place")}}else if(Ue instanceof u)Ce=J("<!---->"),Re=Ce.ownerDocument.importNode(Ue,!0),Re.nodeType===1&&Re.nodeName==="BODY"||Re.nodeName==="HTML"?Ce=Re:Ce.appendChild(Re);else{if(!gt&&!Te&&!Ge&&Ue.indexOf("<")===-1)return L&&ut?L.createHTML(Ue):Ue;if(Ce=J(Ue),!Ce)return gt?null:ut?q:""}Ce&&nt&&M(Ce.firstChild);for(var fm=we(Jt?Ue:Ce);bt=fm.nextNode();)bt.nodeType===3&&bt===Zn||Gt(bt)||(bt.content instanceof s&&Qte(bt.content),OB(bt),Zn=bt);if(Zn=null,Jt)return Ue;if(gt){if(Et)for(Tn=W.call(Ce.ownerDocument);Ce.firstChild;)Tn.appendChild(Ce.firstChild);else Tn=Ce;return Ve.shadowroot&&(Tn=ue.call(n,Tn,!0)),Tn}var An=Ge?Ce.outerHTML:Ce.innerHTML;return Ge&&Ee["!doctype"]&&Ce.ownerDocument&&Ce.ownerDocument.doctype&&Ce.ownerDocument.doctype.name&&Un(tU,Ce.ownerDocument.doctype.name)&&(An="<!DOCTYPE "+Ce.ownerDocument.doctype.name+`>
`+An),Te&&(An=xs(An,Ne," "),An=xs(An,Ke," ")),L&&ut?L.createHTML(An):An},t.setConfig=function(Ue){cm(Ue),At=!0},t.clearConfig=function(){_s=null,At=!1},t.isValidAttribute=function(Ue,H,Ce){_s||cm({});var Re=Fr(Ue),bt=Fr(H);return Zu(Re,bt,Ce)},t.addHook=function(Ue,H){typeof H=="function"&&(Fe[Ue]=Fe[Ue]||[],Tu(Fe[Ue],H))},t.removeHook=function(Ue){if(Fe[Ue])return Uz(Fe[Ue])},t.removeHooks=function(Ue){Fe[Ue]&&(Fe[Ue]=[])},t.removeAllHooks=function(){Fe={}},t}var oU=Sx();const wx=le.each,sU=le.trim,lU=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],iU={ftp:21,http:80,https:443,mailto:25},aU=["img","video"],uU=(e,t)=>Z(e)?!e:Z(t)?!ot(aU,t):!0,cU=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},xx=(e,t,n)=>{const r=cU(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?uU(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class Kr{static parseDataUri(t){let n;const r=decodeURIComponent(t).split(","),s=/data:([^;]+)/.exec(r[0]);return s&&(n=s[1]),{type:n,data:r[1]}}static isDomSafe(t,n,r={}){if(r.allow_script_urls)return!0;{const s=ms.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!xx(r,s,n)}}static getDocumentBaseUrl(t){var n;let r;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?r=(n=t.href)!==null&&n!==void 0?n:"":r=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}constructor(t,n={}){this.path="",this.directory="",t=sU(t),this.settings=n;const r=n.base_uri,s=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){s.source=t;return}const i=t.indexOf("//")===0;if(t.indexOf("/")===0&&!i&&(t=(r&&r.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const f=r?r.path:new Kr(document.location.href).directory;if((r==null?void 0:r.protocol)==="")t="//mce_host"+s.toAbsPath(f,t);else{const d=/([^#?]*)([#?]?.*)/.exec(t);d&&(t=(r&&r.protocol||"http")+"://mce_host"+s.toAbsPath(f,d[1])+d[2])}}t=t.replace(/@@/g,"(mce_at)");const u=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);u&&wx(lU,(f,d)=>{let g=u[d];g&&(g=g.replace(/\(mce_at\)/g,"@@")),s[f]=g}),r&&(s.protocol||(s.protocol=r.protocol),s.userInfo||(s.userInfo=r.userInfo),!s.port&&s.host==="mce_host"&&(s.port=r.port),(!s.host||s.host==="mce_host")&&(s.host=r.host),s.source=""),i&&(s.protocol="")}setPath(t){const n=/^(.*?)\/?(\w+)?$/.exec(t);n&&(this.path=n[0],this.directory=n[1],this.file=n[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const n=new Kr(t,{base_uri:this});if(n.host!=="mce_host"&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&n.protocol!=="")return n.getURI();const r=this.getURI(),s=n.getURI();if(r===s||r.charAt(r.length-1)==="/"&&r.substr(0,r.length-1)===s)return r;let i=this.toRelPath(this.path,n.path);return n.query&&(i+="?"+n.query),n.anchor&&(i+="#"+n.anchor),i}toAbsolute(t,n){const r=new Kr(t,{base_uri:this});return r.getURI(n&&this.isSameOrigin(r))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const n=this.protocol?iU[this.protocol]:null;if(n&&(this.port||n)==(t.port||n))return!0}return!1}toRelPath(t,n){let r=0,s="",i,u;const f=t.substring(0,t.lastIndexOf("/")).split("/"),d=n.split("/");if(f.length>=d.length){for(i=0,u=f.length;i<u;i++)if(i>=d.length||f[i]!==d[i]){r=i+1;break}}if(f.length<d.length){for(i=0,u=d.length;i<u;i++)if(i>=f.length||f[i]!==d[i]){r=i+1;break}}if(r===1)return n;for(i=0,u=f.length-(r-1);i<u;i++)s+="../";for(i=r-1,u=d.length;i<u;i++)i!==r-1?s+="/"+d[i]:s+=d[i];return s}toAbsPath(t,n){let r=0;const s=/\/$/.test(n)?"/":"",i=t.split("/"),u=n.split("/"),f=[];wx(i,v=>{v&&f.push(v)});const d=[];for(let v=u.length-1;v>=0;v--)if(!(u[v].length===0||u[v]===".")){if(u[v]===".."){r++;continue}if(r>0){r--;continue}d.push(u[v])}const g=f.length-r;let C;return g<=0?C=Ra(d).join("/"):C=f.slice(0,g).join("/")+"/"+Ra(d).join("/"),C.indexOf("/")!==0&&(C="/"+C),s&&C.lastIndexOf("/")!==C.length-1&&(C+=s),C}getURI(t=!1){let n;return(!this.source||t)&&(n="",t||(this.protocol?n+=this.protocol+"://":n+="//",this.userInfo&&(n+=this.userInfo+"@"),this.host&&(n+=this.host),this.port&&(n+=":"+this.port)),this.path&&(n+=this.path),this.query&&(n+="?"+this.query),this.anchor&&(n+="#"+this.anchor),this.source=n),this.source}}const fU=le.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),B0="data-mce-type";let kx=0;const Dx=(e,t,n,r)=>{var s,i,u,f;const d=t.validate,g=n.getSpecialElements();e.nodeType===wE&&!t.allow_conditional_comments&&/^\[if/i.test((s=e.nodeValue)!==null&&s!==void 0?s:"")&&(e.nodeValue=" "+e.nodeValue);const C=(i=r==null?void 0:r.tagName)!==null&&i!==void 0?i:e.nodeName.toLowerCase();if(e.nodeType!==Ma||C==="body")return;const v=D.fromDom(e),y=nf(v,B0),w=lr(v,"data-mce-bogus");if(!y&&N(w)){w==="all"?ht(v):Mo(v);return}const k=n.getElementRule(C);if(d&&!k){ze(g,C)?ht(v):Mo(v);return}else Z(r)&&(r.allowedTags[C]=!0);if(d&&k&&!y){if(ee((u=k.attributesForced)!==null&&u!==void 0?u:[],S=>{Qt(v,S.name,S.value==="{$uid}"?`mce_${kx++}`:S.value)}),ee((f=k.attributesDefault)!==null&&f!==void 0?f:[],S=>{nf(v,S.name)||Qt(v,S.name,S.value==="{$uid}"?`mce_${kx++}`:S.value)}),k.attributesRequired&&!Bt(k.attributesRequired,S=>nf(v,S))){Mo(v);return}if(k.removeEmptyAttrs&&z4(v)){Mo(v);return}k.outputName&&k.outputName!==C&&qb(v,k.outputName)}},_x=(e,t,n,r,s)=>!(r in fU&&xx(e,s,n))&&(!e.validate||t.isValid(n,r)||nn(r,"data-")||nn(r,"aria-")),Nx=(e,t)=>e.hasAttribute(B0)&&(t==="id"||t==="class"||t==="style"),Bx=(e,t)=>e in t.getBoolAttrs(),dU=(e,t,n)=>{const{attributes:r}=e;for(let s=r.length-1;s>=0;s--){const i=r[s],u=i.name,f=i.value;!_x(t,n,e.tagName.toLowerCase(),u,f)&&!Nx(e,u)?e.removeAttribute(u):Bx(u,n)&&e.setAttribute(u,u)}},mU=(e,t)=>{const n=oU();return n.addHook("uponSanitizeElement",(r,s)=>{Dx(r,e,t,s)}),n.addHook("uponSanitizeAttribute",(r,s)=>{const i=r.tagName.toLowerCase(),{attrName:u,attrValue:f}=s;s.keepAttr=_x(e,t,i,u,f),s.keepAttr?(s.allowedAttributes[u]=!0,Bx(u,t)&&(s.attrValue=u),e.allow_svg_data_urls&&nn(f,"data:image/svg+xml")&&(s.forceKeepAttr=!0)):Nx(r,u)&&(s.forceKeepAttr=!0)}),n},pU=(e,t)=>{const r={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return r.PARSER_MEDIA_TYPE=t,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},gU=(e,t)=>{if(e.sanitize){const n=mU(e,t);return(r,s)=>{n.sanitize(r,pU(e,s)),n.removed=[]}}else return(n,r)=>{const s=document.createNodeIterator(n,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let i;for(;i=s.nextNode();)Dx(i,e,t),me(i)&&dU(i,e,t)}},Fx=le.makeMap,Px=le.extend,Tx=(e,t,n)=>{const r=e.name,s=r in n&&r!=="title"&&r!=="textarea",i=t.childNodes;for(let u=0,f=i.length;u<f;u++){const d=i[u],g=new Fn(d.nodeName.toLowerCase(),d.nodeType);if(me(d)){const C=d.attributes;for(let v=0,y=C.length;v<y;v++){const w=C[v];g.attr(w.name,w.value)}}else ne(d)?(g.value=d.data,s&&(g.raw=!0)):(us(d)||DO(d)||_O(d))&&(g.value=d.data);Tx(g,d,n),e.append(g)}},hU=(e,t,n)=>{const r=[];for(let s=e,i=s;s;i=s,s=s.walk()){const u=s;ee(t,f=>f(u)),de(u.parent)&&u!==e?s=i:r.push(u)}for(let s=r.length-1;s>=0;s--){const i=r[s];ee(n,u=>u(i))}},vU=(e,t,n,r)=>{const s=n.validate,i=t.getNonEmptyElements(),u=t.getWhitespaceElements(),f=Px(Fx("script,style,head,html,body,title,meta,param"),t.getBlockElements()),d=Pb(t),g=/[ \t\r\n]+/g,C=/^[ \t\r\n]+/,v=/[ \t\r\n]+$/,y=P=>{let T=P.parent;for(;Z(T);){if(T.name in u)return!0;T=T.parent}return!1},w=P=>{let T=P;for(;Z(T);){if(T.name in d)return Bu(t,i,u,T);T=T.parent}return!1},k=P=>P.name in f||Eb(t,P),S=(P,T)=>{const L=T?P.prev:P.next;return Z(L)||de(P.parent)?!1:k(P.parent)&&(P.parent!==e||r.isRootContent===!0)};return[P=>{var T;if(P.type===3&&!y(P)){let L=(T=P.value)!==null&&T!==void 0?T:"";L=L.replace(g," "),(T$(P.prev,k)||S(P,!0))&&(L=L.replace(C,"")),L.length===0?P.remove():P.value=L}},P=>{var T;if(P.type===1){const L=t.getElementRule(P.name);if(s&&L){const q=Bu(t,i,u,P);L.paddInEmptyBlock&&q&&w(P)?n0(r,k,P):L.removeEmpty&&q?k(P)?P.remove():P.unwrap():L.paddEmpty&&(q||F$(P))&&n0(r,k,P)}}else if(P.type===3&&!y(P)){let L=(T=P.value)!==null&&T!==void 0?T:"";(P.next&&k(P.next)||S(P,!1))&&(L=L.replace(v,"")),L.length===0?P.remove():P.value=L}}]},CU=(e,t)=>{var n;const r=(n=t.forced_root_block)!==null&&n!==void 0?n:e.forced_root_block;return r===!1?"":r===!0?"p":r},Ii=(e={},t=ps())=>{const n=cx(),r=cx(),s={validate:!0,root_name:"body",sanitize:!0,...e},i=new DOMParser,u=gU(s,t),f=(T,L,q="html")=>{const ye=q==="xhtml"?"application/xhtml+xml":"text/html",Y=ze(t.getSpecialElements(),L.toLowerCase()),U=Y?`<${L}>${T}</${L}>`:T,W=q==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${U}</body></html>`:`<body>${U}</body>`,ie=i.parseFromString(W,ye).body;return u(ie,ye),Y?ie.firstChild:ie},d=n.addFilter,g=n.getFilters,C=n.removeFilter,v=r.addFilter,y=r.getFilters,w=r.removeFilter,k=(T,L)=>{E2(t,T)&&L.push(T)},S=(T,L)=>{const q=N(L.attr(B0)),ye=L.type===1&&!ze(T,L.name)&&!Eb(t,L);return L.type===3||ye&&!q},x=(T,L)=>{const q=Px(Fx("script,style,head,html,body,title,meta,param"),t.getBlockElements()),ye=/^[ \t\r\n]+/,Y=/[ \t\r\n]+$/;let U=T.firstChild,W=null;const ie=ue=>{var ge,Fe;ue&&(U=ue.firstChild,U&&U.type===3&&(U.value=(ge=U.value)===null||ge===void 0?void 0:ge.replace(ye,"")),U=ue.lastChild,U&&U.type===3&&(U.value=(Fe=U.value)===null||Fe===void 0?void 0:Fe.replace(Y,"")))};if(t.isValidChild(T.name,L.toLowerCase())){for(;U;){const ue=U.next;S(q,U)?(W||(W=new Fn(L,1),W.attr(s.forced_root_block_attrs),T.insert(W,U)),W.append(U)):(ie(W),W=null),U=ue}ie(W)}},P={schema:t,addAttributeFilter:v,getAttributeFilters:y,removeAttributeFilter:w,addNodeFilter:d,getNodeFilters:g,removeNodeFilter:C,parse:(T,L={})=>{var q;const ye=s.validate,Y=(q=L.context)!==null&&q!==void 0?q:s.root_name,U=f(T,Y,L.format);Eg(t,U);const W=new Fn(Y,11);Tx(W,U,t.getSpecialElements()),U.innerHTML="";const[ie,ue]=vU(W,t,s,L),ge=[],Fe=ye?vt=>k(vt,ge):$e,Ne={nodes:{},attributes:{}},Ke=vt=>h2(g(),y(),vt,Ne);if(hU(W,[ie,Ke],[ue,Fe]),ge.reverse(),ye&&ge.length>0)if(L.context){const{pass:vt,fail:Zt}=Fa(ge,Tt=>Tt.parent===W);o0(Zt,t,W,Ke),L.invalid=vt.length>0}else o0(ge,t,W,Ke);const Ye=CU(s,L);return Ye&&(W.name==="body"||L.isRootContent)&&x(W,Ye),L.invalid||v2(Ne,L),W}};return Nz(P,s),Cz(P,s,t),P},yU=e=>rd(e)?Es({validate:!1}).serialize(e):e,Rx=(e,t,n)=>{const r=yU(e),s=t(r);if(s.isDefaultPrevented())return s;if(rd(e))if(s.content!==r){const i=Ii({validate:!1,forced_root_block:!1,sanitize:n}).parse(s.content,{context:e.name});return{...s,content:i}}else return{...s,content:e};else return s},Ox=(e,t)=>{if(t.no_events)return _n.value(t);{const n=tL(e,t);return n.isDefaultPrevented()?_n.error(MS(e,{content:"",...n}).content):_n.value(n)}},Ix=(e,t,n)=>n.no_events?t:Rx(t,s=>MS(e,{...n,content:s}),Gg(e)).content,F0=(e,t)=>{if(t.no_events)return _n.value(t);{const n=Rx(t.content,r=>eL(e,{...t,content:r}),Gg(e));return n.isDefaultPrevented()?($S(e,n),_n.error(void 0)):_n.value(n)}},P0=(e,t,n)=>{n.no_events||$S(e,{...n,content:t})},T0=(e,t,n)=>({element:e,width:t,rows:n}),Lx=(e,t)=>({element:e,cells:t}),EU=(e,t)=>({x:e,y:t}),$x=(e,t)=>Oo(e,t).bind(ef).getOr(1),bU=(e,t,n,r,s)=>{const i=$x(s,"rowspan"),u=$x(s,"colspan"),f=e.rows;for(let d=n;d<n+i;d++){f[d]||(f[d]=Lx(Kb(r),[]));for(let g=t;g<t+u;g++){const C=f[d].cells;C[g]=d===n&&g===t?s:hl(s)}}},AU=(e,t,n)=>{const r=e.rows;return!!(r[n]?r[n].cells:[])[t]},SU=(e,t,n)=>{for(;AU(e,t,n);)t++;return t},Mx=e=>Kn(e,(t,n)=>n.cells.length>t?n.cells.length:t,0),zx=(e,t)=>{const n=e.rows;for(let r=0;r<n.length;r++){const s=n[r].cells;for(let i=0;i<s.length;i++)if(et(s[i],t))return E.some(EU(i,r))}return E.none()},Ux=(e,t,n,r,s)=>{const i=[],u=e.rows;for(let f=n;f<=s;f++){const d=u[f].cells,g=t<r?d.slice(t,r+1):d.slice(r,t+1);i.push(Lx(u[f].element,g))}return i},wU=(e,t,n)=>{const r=t.x,s=t.y,i=n.x,u=n.y,f=s<u?Ux(e,r,s,i,u):Ux(e,r,u,i,s);return T0(e.element,Mx(f),f)},xU=(e,t)=>{const n=hl(e.element),r=D.fromTag("tbody");return il(r,t),Ft(n,r),n},kU=e=>Je(e.rows,t=>{const n=Je(t.cells,s=>{const i=Kb(s);return rn(i,"colspan"),rn(i,"rowspan"),i}),r=hl(t.element);return il(r,n),r}),DU=e=>{const t=T0(hl(e),0,[]);return ee(mn(e,"tr"),(n,r)=>{ee(mn(n,"td,th"),(s,i)=>{bU(t,SU(t,i,r),r,n,s)})}),T0(t.element,Mx(t.rows),t.rows)},_U=e=>xU(e,kU(e)),NU=(e,t,n)=>zx(e,t).bind(r=>zx(e,n).map(s=>wU(e,r,s))),BU=e=>zt(e,t=>dt(t)==="ul"||dt(t)==="ol"),FU=(e,t)=>zt(e,n=>dt(n)==="li"&&ih(n,t)).fold(K([]),n=>BU(e).map(r=>{const s=D.fromTag(dt(r)),i=Oa(qE(r),(u,f)=>nn(f,"list-style"));return rf(s,i),[D.fromTag("li"),s]}).getOr([])),PU=(e,t)=>{const n=Kn(t,(r,s)=>(Ft(s,r),s),e);return t.length>0?Eh([n]):n},TU=e=>Ya(e)?kr(e).filter(pg).fold(K([]),t=>[e,t]):pg(e)?[e]:[],RU=(e,t)=>{const n=D.fromDom(t.commonAncestorContainer),r=Vo(n,e),s=Ie(r,KO),i=FU(r,t),u=s.concat(i.length?i:TU(n));return Je(u,hl)},jx=()=>Eh([]),OU=(e,t)=>PU(D.fromDom(t.cloneContents()),RU(e,t)),IU=(e,t)=>Va(t,"table",ce(et,e)),LU=(e,t)=>IU(e,t[0]).bind(n=>{const r=t[0],s=t[t.length-1],i=DU(n);return NU(i,r,s).map(u=>Eh([_U(u)]))}).getOrThunk(jx),$U=(e,t)=>t.length>0&&t[0].collapsed?jx():OU(e,t[0]),MU=(e,t)=>{const n=gS(t,e);return n.length>0?LU(e,n):$U(e,t)},dd=(e,t)=>t>=0&&t<e.length&&Ni(e.charAt(t)),Hx=e=>Uo(e.innerText),zU=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),UU=e=>E.from(e.selection.getRng()).map(t=>{var n;const r=E.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),s=e.getBody(),i=zU(r),u=D.fromDom(t.cloneContents());Sw(u),ww(u);const f=e.dom.add(s,i,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},u.dom),d=Hx(f),g=Uo((n=f.textContent)!==null&&n!==void 0?n:"");if(e.dom.remove(f),dd(g,0)||dd(g,g.length-1)){const C=r.getOr(s),v=Hx(C),y=v.indexOf(d);if(y===-1)return d;{const w=dd(v,y-1),k=dd(v,y+d.length);return(w?" ":"")+d+(k?" ":"")}}else return d}).getOr(""),jU=(e,t)=>{const n=e.selection.getRng(),r=e.dom.create("body"),s=e.selection.getSel(),i=Th(e,sh(s)),u=t.contextual?MU(D.fromDom(e.getBody()),i).dom:n.cloneContents();return u&&r.appendChild(u),e.selection.serializer.serialize(r,t)},HU=(e,t)=>{if(t.format==="text")return UU(e);{const n=jU(e,t);return t.format==="tree"?n:e.selection.isCollapsed()?"":n}},VU=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),WU=(e,t,n={})=>{const r=VU(n,t);return Ox(e,r).fold(Me,s=>{const i=HU(e,s);return Ix(e,i,s)})},R0=0,Vx=1,Wx=2,KU=(e,t)=>{const n=e.length+t.length+2,r=new Array(n),s=new Array(n),i=(C,v,y)=>({start:C,end:v,diag:y}),u=(C,v,y,w,k)=>{const S=d(C,v,y,w);if(S===null||S.start===v&&S.diag===v-w||S.end===C&&S.diag===C-y){let x=C,F=y;for(;x<v||F<w;)x<v&&F<w&&e[x]===t[F]?(k.push([R0,e[x]]),++x,++F):v-C>w-y?(k.push([Wx,e[x]]),++x):(k.push([Vx,t[F]]),++F)}else{u(C,S.start,y,S.start-S.diag,k);for(let x=S.start;x<S.end;++x)k.push([R0,e[x]]);u(S.end,v,S.end-S.diag,w,k)}},f=(C,v,y,w)=>{let k=C;for(;k-v<w&&k<y&&e[k]===t[k-v];)++k;return i(C,k,v)},d=(C,v,y,w)=>{const k=v-C,S=w-y;if(k===0||S===0)return null;const x=k-S,F=S+k,P=(F%2===0?F:F+1)/2;r[1+P]=C,s[1+P]=v+1;let T,L,q,ye,Y;for(T=0;T<=P;++T){for(L=-T;L<=T;L+=2){for(q=L+P,L===-T||L!==T&&r[q-1]<r[q+1]?r[q]=r[q+1]:r[q]=r[q-1]+1,ye=r[q],Y=ye-C+y-L;ye<v&&Y<w&&e[ye]===t[Y];)r[q]=++ye,++Y;if(x%2!==0&&x-T<=L&&L<=x+T&&s[q-x]<=r[q])return f(s[q-x],L+C-y,v,w)}for(L=x-T;L<=x+T;L+=2){for(q=L+P-x,L===x-T||L!==x+T&&s[q+1]<=s[q-1]?s[q]=s[q+1]-1:s[q]=s[q-1],ye=s[q]-1,Y=ye-C+y-L;ye>=C&&Y>=y&&e[ye]===t[Y];)s[q]=ye--,Y--;if(x%2===0&&-T<=L&&L<=T&&s[q]<=r[q+x])return f(s[q],L+C-y,v,w)}}return null},g=[];return u(0,e.length,0,t.length,g),g},Kx=e=>me(e)?e.outerHTML:ne(e)?ms.encodeRaw(e.data,!1):us(e)?"<!--"+e.data+"-->":"",qU=e=>{let t;const n=document.createElement("div"),r=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)r.appendChild(t);return r},GU=(e,t,n)=>{const r=qU(t);if(e.hasChildNodes()&&n<e.childNodes.length){const s=e.childNodes[n];e.insertBefore(r,s)}else e.appendChild(r)},YU=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const n=e.childNodes[t];e.removeChild(n)}},QU=(e,t)=>{let n=0;ee(e,r=>{r[0]===R0?n++:r[0]===Vx?(GU(t,r[1],n),n++):r[0]===Wx&&YU(t,n)})},XU=e=>Ie(Je(kn(e.childNodes),Kx),t=>t.length>0),ZU=(e,t)=>{const n=Je(kn(t.childNodes),Kx);return QU(KU(n,e),t),t},JU=nl(()=>document.implementation.createHTMLDocument("undo")),ej=e=>e.indexOf("</iframe>")!==-1,tj=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),nj=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),md=e=>{const t=XU(e.getBody()),n=lo(t,s=>{const i=Aw(e.serializer,s);return i.length>0?[i]:[]}),r=n.join("");return ej(r)?tj(n):nj(r)},O0=(e,t,n)=>{const r=n?t.beforeBookmark:t.bookmark;t.type==="fragmented"?ZU(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:Z(r)&&aS(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},I0=e=>e.type==="fragmented"?e.fragments.join(""):e.content,qx=e=>{const t=D.fromTag("body",JU());return sf(t,I0(e)),ee(mn(t,"*[data-mce-bogus]"),Mo),XE(t)},rj=(e,t)=>I0(e)===I0(t),oj=(e,t)=>qx(e)===qx(t),L0=(e,t)=>!e||!t?!1:rj(e,t)?!0:oj(e,t),$0=e=>e.get()===0,pd=(e,t,n)=>{$0(n)&&(e.typing=t)},Gx=(e,t)=>{e.typing&&(pd(e,!1,t),e.add())},sj=e=>{e.typing&&(e.typing=!1,e.add())},lj=(e,t,n)=>{$0(t)&&n.set(jg(e.selection))},ij=(e,t,n,r,s,i,u)=>{const f=md(e),d=le.extend(i||{},f);if(!$0(r)||e.removed)return null;const g=t.data[n.get()];if(e.dispatch("BeforeAddUndo",{level:d,lastLevel:g,originalEvent:u}).isDefaultPrevented()||g&&L0(g,d))return null;t.data[n.get()]&&s.get().each(y=>{t.data[n.get()].beforeBookmark=y});const C=z7(e);if(C&&t.data.length>C){for(let y=0;y<t.data.length-1;y++)t.data[y]=t.data[y+1];t.data.length--,n.set(t.data.length)}d.bookmark=jg(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(d),n.set(t.data.length-1);const v={level:d,lastLevel:g,originalEvent:u};return n.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",v),e.dispatch("change",v)):e.dispatch("AddUndo",v),d},aj=(e,t,n)=>{t.data=[],n.set(0),t.typing=!1,e.dispatch("ClearUndos")},uj=(e,t,n,r,s)=>{if(t.transact(r)){const i=t.data[n.get()].bookmark,u=t.data[n.get()-1];O0(e,u,!0),t.transact(s)&&(t.data[n.get()-1].beforeBookmark=i)}},cj=(e,t,n)=>{let r;return t.get()<n.length-1&&(t.set(t.get()+1),r=n[t.get()],O0(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r},fj=(e,t,n,r)=>{let s;return t.typing&&(t.add(),t.typing=!1,pd(t,!1,n)),r.get()>0&&(r.set(r.get()-1),s=t.data[r.get()],O0(e,s,!0),e.setDirty(!0),e.dispatch("Undo",{level:s})),s},dj=e=>{e.clear(),e.add()},mj=(e,t,n)=>n.get()>0||t.typing&&t.data[0]&&!L0(md(e),t.data[0]),pj=(e,t)=>t.get()<e.data.length-1&&!e.typing,gj=(e,t,n)=>(Gx(e,t),e.beforeChange(),e.ignore(n),e.add()),hj=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},vj=(e,t)=>{const n=e.dom,r=Z(t)?t:e.getBody();ee(n.select("table,a",r),s=>{switch(s.nodeName){case"TABLE":const i=K7(e),u=n.getAttrib(s,"border");(!u||u==="0")&&e.hasVisual?n.addClass(s,i):n.removeClass(s,i);break;case"A":if(!n.getAttrib(s,"href")){const f=n.getAttrib(s,"name")||s.id,d=LA(e);f&&e.hasVisual?n.addClass(s,d):n.removeClass(s,d)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},Yx=e=>({init:{bindEvents:$e},undoManager:{beforeChange:(t,n)=>lj(e,t,n),add:(t,n,r,s,i,u)=>ij(e,t,n,r,s,i,u),undo:(t,n,r)=>fj(e,t,n,r),redo:(t,n)=>cj(e,t,n),clear:(t,n)=>aj(e,t,n),reset:t=>dj(t),hasUndo:(t,n)=>mj(e,t,n),hasRedo:(t,n)=>pj(t,n),transact:(t,n,r)=>gj(t,n,r),ignore:(t,n)=>hj(t,n),extra:(t,n,r,s)=>uj(e,t,n,r,s)},formatter:{match:(t,n,r,s)=>d0(e,t,n,r,s),matchAll:(t,n)=>xM(e,t,n),matchNode:(t,n,r,s)=>yo(e,t,n,r,s),canApply:t=>DM(e,t),closest:t=>kM(e,t),apply:(t,n,r)=>rx(e,t,n,r),remove:(t,n,r,s)=>ex(e,t,n,r,s),toggle:(t,n,r)=>mz(e,t,n,r),formatChanged:(t,n,r,s,i)=>dz(e,t,n,r,s,i)},editor:{getContent:t=>t9(e,t),setContent:(t,n)=>bM(e,t,n),insertContent:(t,n)=>vM(e,t,n),addVisual:t=>vj(e,t)},selection:{getContent:(t,n)=>WU(e,t,n)},autocompleter:{addDecoration:t=>H5(e,t),removeDecoration:()=>W5(e,D.fromDom(e.getBody()))},raw:{getModel:()=>E.none()}}),Cj=e=>{const t=g=>G(g)?g:{},{init:n,undoManager:r,formatter:s,editor:i,selection:u,autocompleter:f,raw:d}=e;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(g,C,v)=>r.transact(v),ignore:(g,C)=>r.ignore(C),extra:(g,C,v,y)=>r.extra(v,y)},formatter:{match:(g,C,v,y)=>s.match(g,t(C),y),matchAll:s.matchAll,matchNode:s.matchNode,canApply:g=>s.canApply(g),closest:g=>s.closest(g),apply:(g,C,v)=>s.apply(g,t(C)),remove:(g,C,v,y)=>s.remove(g,t(C)),toggle:(g,C,v)=>s.toggle(g,t(C)),formatChanged:(g,C,v,y,w)=>s.formatChanged(C,v,y,w)},editor:{getContent:g=>i.getContent(g),setContent:(g,C)=>({content:i.setContent(g,C),html:""}),insertContent:(g,C)=>(i.insertContent(g),""),addVisual:i.addVisual},selection:{getContent:(g,C)=>u.getContent(C)},autocompleter:{addDecoration:f.addDecoration,removeDecoration:f.removeDecoration},raw:{getModel:()=>E.some(d.getRawModel())}}},yj=()=>{const e=K(null),t=K("");return{init:{bindEvents:$e},undoManager:{beforeChange:$e,add:e,undo:e,redo:e,clear:$e,reset:$e,hasUndo:rt,hasRedo:rt,transact:e,ignore:$e,extra:$e},formatter:{match:rt,matchAll:K([]),matchNode:K(void 0),canApply:rt,closest:t,apply:$e,remove:$e,toggle:$e,formatChanged:K({unbind:$e})},editor:{getContent:t,setContent:K({content:"",html:""}),insertContent:K(""),addVisual:$e},selection:{getContent:t},autocompleter:{addDecoration:$e,removeDecoration:$e},raw:{getModel:K(E.none())}}},bo=e=>ze(e.plugins,"rtc"),Ej=e=>pt(e.plugins,"rtc").bind(t=>E.from(t.setup)),bj=e=>{const t=e;return Ej(e).fold(()=>(t.rtcInstance=Yx(e),E.none()),n=>(t.rtcInstance=yj(),E.some(()=>n().then(r=>(t.rtcInstance=Cj(r),r.rtc.isRemote)))))},M0=e=>e.rtcInstance?e.rtcInstance:Yx(e),kt=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},Aj=(e,t,n)=>{kt(e).undoManager.beforeChange(t,n)},Sj=(e,t,n,r,s,i,u)=>kt(e).undoManager.add(t,n,r,s,i,u),wj=(e,t,n,r)=>kt(e).undoManager.undo(t,n,r),xj=(e,t,n)=>kt(e).undoManager.redo(t,n),kj=(e,t,n)=>{kt(e).undoManager.clear(t,n)},Dj=(e,t)=>{kt(e).undoManager.reset(t)},_j=(e,t,n)=>kt(e).undoManager.hasUndo(t,n),Nj=(e,t,n)=>kt(e).undoManager.hasRedo(t,n),Bj=(e,t,n,r)=>kt(e).undoManager.transact(t,n,r),Fj=(e,t,n)=>{kt(e).undoManager.ignore(t,n)},Pj=(e,t,n,r,s)=>{kt(e).undoManager.extra(t,n,r,s)},Tj=(e,t,n,r,s)=>kt(e).formatter.match(t,n,r,s),Rj=(e,t,n)=>kt(e).formatter.matchAll(t,n),Oj=(e,t,n,r,s)=>kt(e).formatter.matchNode(t,n,r,s),Ij=(e,t)=>kt(e).formatter.canApply(t),Lj=(e,t)=>kt(e).formatter.closest(t),$j=(e,t,n,r)=>{kt(e).formatter.apply(t,n,r)},Mj=(e,t,n,r,s)=>{kt(e).formatter.remove(t,n,r,s)},zj=(e,t,n,r)=>{kt(e).formatter.toggle(t,n,r)},Uj=(e,t,n,r,s,i)=>kt(e).formatter.formatChanged(t,n,r,s,i),jj=(e,t)=>M0(e).editor.getContent(t),Hj=(e,t,n)=>M0(e).editor.setContent(t,n),Vj=(e,t,n)=>M0(e).editor.insertContent(t,n),Wj=(e,t,n)=>kt(e).selection.getContent(t,n),Kj=(e,t)=>kt(e).editor.addVisual(t),Qx=e=>kt(e).init.bindEvents(),qj=(e,t)=>kt(e).autocompleter.addDecoration(t),Gj=e=>kt(e).autocompleter.removeDecoration(),Yj=(e,t={})=>{const n=t.format?t.format:"html";return Wj(e,n,t)},Xx=e=>e.dom.length===0?(ht(e),E.none()):E.some(e),Qj=(e,t)=>e.filter(n=>Au.isBookmarkNode(n.dom)).bind(t?Ha:ol),Xj=(e,t,n,r)=>{const s=e.dom,i=t.dom,u=r?s.length:i.length;r?(Vh(s,i,!1,!r),n.setStart(i,u)):(Vh(i,s,!1,!r),n.setEnd(i,u))},Zj=(e,t)=>{kr(e).each(n=>{const r=e.dom;t&&Du(n,V(r,0))?Jf(r,0):!t&&_u(n,V(r,r.length))&&Hh(r,r.length)})},Zx=(e,t,n,r)=>{e.bind(s=>((r?Hh:Jf)(s.dom,r?s.dom.length:0),t.filter(sr).map(u=>Xj(s,u,n,r)))).orThunk(()=>Qj(t,r).or(t).filter(sr).map(i=>Zj(i,r)))},Jj=(e,t)=>{const n=E.from(t.firstChild).map(D.fromDom),r=E.from(t.lastChild).map(D.fromDom);e.deleteContents(),e.insertNode(t);const s=n.bind(ol).filter(sr).bind(Xx),i=r.bind(Ha).filter(sr).bind(Xx);Zx(s,n,e,!0),Zx(i,r,e,!1),e.collapse(!1)},eH=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),tH=(e,t)=>{if(t.format!=="raw"){const n=e.selection.getRng(),r=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),s=r?{context:r.nodeName.toLowerCase()}:{},i=e.parser.parse(t.content,{forced_root_block:!1,...s,...t});return Es({validate:!1},e.schema).serialize(i)}else return t.content},nH=(e,t,n={})=>{const r=eH(n,t);F0(e,r).each(s=>{const i=tH(e,s),u=e.selection.getRng();Jj(u,u.createContextualFragment(i)),e.selection.setRng(u),wu(e,u),P0(e,i,s)})},Jx=(e,t,n)=>{if(ze(e,t)){const r=Ie(e[t],s=>s!==n);r.length===0?delete e[t]:e[t]=r}};var rH=(e,t)=>{let n,r;const s=(f,d)=>zt(d,g=>e.is(g,f)),i=f=>e.getParents(f,void 0,e.getRoot()),u=()=>{n={},r={},t.on("NodeChange",f=>{const d=f.element,g=i(d),C={};ft(n,(v,y)=>{s(y,g).each(w=>{r[y]||(ee(v,k=>{k(!0,{node:w,selector:y,parents:g})}),r[y]=v),C[y]=v})}),ft(r,(v,y)=>{C[y]||(delete r[y],ee(v,w=>{w(!1,{node:d,selector:y,parents:g})}))})})};return{selectorChangedWithUnbind:(f,d)=>(n||u(),n[f]||(n[f]=[]),n[f].push(d),s(f,i(t.selection.getStart())).each(()=>{r[f]=n[f]}),{unbind:()=>{Jx(n,f,d),Jx(r,f,d)}})}};const ek=e=>!!(e&&e.ownerDocument)&&Io(D.fromDom(e.ownerDocument),D.fromDom(e)),oH=e=>e?ek(e.startContainer)&&ek(e.endContainer):!1,tk=(e,t,n,r)=>{let s,i;const{selectorChangedWithUnbind:u}=rH(e,r),f=(re,Ee)=>{const qe=e.createRng();Z(re)&&Z(Ee)?(qe.setStart(re,Ee),qe.setEnd(re,Ee),L(qe),F(!1)):(ah(e,qe,r.getBody(),!0),L(qe))},d=re=>Yj(r,re),g=(re,Ee)=>nH(r,re,Ee),C=re=>pw(r.getBody(),T(),re),v=re=>gw(r.getBody(),T(),re),y=(re,Ee)=>Zt.getBookmark(re,Ee),w=re=>Zt.moveToBookmark(re),k=(re,Ee)=>(O5(e,re,Ee).each(L),re),S=()=>{const re=T(),Ee=P();return!re||re.item?!1:re.compareEndPoints?re.compareEndPoints("StartToEnd",re)===0:!Ee||re.collapsed},x=()=>{const re=T(),Ee=r.getBody().querySelectorAll('[data-mce-selected="1"]');return Ee.length>0?ss(Ee,qe=>e.isEditable(qe.parentElement)):re.startContainer===re.endContainer?e.isEditable(re.startContainer):e.isEditable(re.startContainer)&&e.isEditable(re.endContainer)},F=re=>{const Ee=T();Ee.collapse(!!re),L(Ee)},P=()=>t.getSelection?t.getSelection():t.document.selection,T=()=>{let re;const Ee=(Ve,be,Ae)=>{try{return be.compareBoundaryPoints(Ve,Ae)}catch{return-1}},qe=t.document;if(Z(r.bookmark)&&!Dl(r)){const Ve=Dh(r);if(Ve.isSome())return Ve.map(be=>Th(r,[be])[0]).getOr(qe.createRange())}try{const Ve=P();Ve&&!af(Ve.anchorNode)&&(Ve.rangeCount>0?re=Ve.getRangeAt(0):re=qe.createRange(),re=Th(r,[re])[0])}catch{}if(re||(re=qe.createRange()),Ga(re.startContainer)&&re.collapsed){const Ve=e.getRoot();re.setStart(Ve,0),re.setEnd(Ve,0)}return s&&i&&(Ee(re.START_TO_START,re,s)===0&&Ee(re.END_TO_END,re,s)===0?re=i:(s=null,i=null)),re},L=(re,Ee)=>{if(!oH(re))return;const qe=P();if(re=r.dispatch("SetSelectionRange",{range:re,forward:Ee}).range,qe){i=re;try{qe.removeAllRanges(),qe.addRange(re)}catch{}Ee===!1&&qe.extend&&(qe.collapse(re.endContainer,re.endOffset),qe.extend(re.startContainer,re.startOffset)),s=qe.rangeCount>0?qe.getRangeAt(0):null}if(!re.collapsed&&re.startContainer===re.endContainer&&(qe!=null&&qe.setBaseAndExtent)&&re.endOffset-re.startOffset<2&&re.startContainer.hasChildNodes()){const be=re.startContainer.childNodes[re.startOffset];be&&be.nodeName==="IMG"&&(qe.setBaseAndExtent(re.startContainer,re.startOffset,re.endContainer,re.endOffset),(qe.anchorNode!==re.startContainer||qe.focusNode!==re.endContainer)&&qe.setBaseAndExtent(be,0,be,1))}r.dispatch("AfterSetSelectionRange",{range:re,forward:Ee})},q=re=>(g(e.getOuterHTML(re)),re),ye=()=>T5(r.getBody(),T()),Y=(re,Ee)=>R5(e,T(),re,Ee),U=()=>{const re=P(),Ee=re==null?void 0:re.anchorNode,qe=re==null?void 0:re.focusNode;if(!re||!Ee||!qe||af(Ee)||af(qe))return!0;const Ve=e.createRng(),be=e.createRng();try{Ve.setStart(Ee,re.anchorOffset),Ve.collapse(!0),be.setStart(qe,re.focusOffset),be.collapse(!0)}catch{return!0}return Ve.compareBoundaryPoints(Ve.START_TO_START,be)<=0},vt={dom:e,win:t,serializer:n,editor:r,expand:(re={type:"word"})=>L(kl(e).expand(T(),re)),collapse:F,setCursorLocation:f,getContent:d,setContent:g,getBookmark:y,moveToBookmark:w,select:k,isCollapsed:S,isEditable:x,isForward:U,setNode:q,getNode:ye,getSel:P,setRng:L,getRng:T,getStart:C,getEnd:v,getSelectedBlocks:Y,normalize:()=>{const re=T(),Ee=P();if(!CI(Ee)&&zf(r)){const qe=qf(e,re);return qe.each(Ve=>{L(Ve,U())}),qe.getOr(re)}return re},selectorChanged:(re,Ee)=>(u(re,Ee),vt),selectorChangedWithUnbind:u,getScrollContainer:()=>{let re,Ee=e.getRoot();for(;Ee&&Ee.nodeName!=="BODY";){if(Ee.scrollHeight>Ee.clientHeight){re=Ee;break}Ee=Ee.parentNode}return re},scrollIntoView:(re,Ee)=>{Z(re)?n5(r,re,Ee):wu(r,T(),Ee)},placeCaretAt:(re,Ee)=>L(qS(re,Ee,r.getDoc())),getBoundingClientRect:()=>{const re=T();return re.collapsed?V.fromRangeStart(re).getClientRects()[0]:re.getBoundingClientRect()},destroy:()=>{t=s=i=null,Tt.destroy()}},Zt=Au(vt),Tt=jS(vt,r);return vt.bookmarkManager=Zt,vt.controlSelection=Tt,vt},sH=(e,t,n)=>{e.addAttributeFilter("data-mce-tabindex",(r,s)=>{let i=r.length;for(;i--;){const u=r[i];u.attr("tabindex",u.attr("data-mce-tabindex")),u.attr(s,null)}}),e.addAttributeFilter("src,href,style",(r,s)=>{const i="data-mce-"+s,u=t.url_converter,f=t.url_converter_scope;let d=r.length;for(;d--;){const g=r[d];let C=g.attr(i);C!==void 0?(g.attr(s,C.length>0?C:null),g.attr(i,null)):(C=g.attr(s),s==="style"?C=n.serializeStyle(n.parseStyle(C),g.name):u&&(C=u.call(f,C,s,g.name)),g.attr(s,C.length>0?C:null))}}),e.addAttributeFilter("class",r=>{let s=r.length;for(;s--;){const i=r[s];let u=i.attr("class");u&&(u=u.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),i.attr("class",u.length>0?u:null))}}),e.addAttributeFilter("data-mce-type",(r,s,i)=>{let u=r.length;for(;u--;){const f=r[u];f.attr("data-mce-type")==="bookmark"&&!i.cleanup&&(E.from(f.firstChild).exists(g=>{var C;return!gf((C=g.value)!==null&&C!==void 0?C:"")})?f.unwrap():f.remove())}}),e.addNodeFilter("noscript",r=>{var s;let i=r.length;for(;i--;){const u=r[i].firstChild;u&&(u.value=ms.decode((s=u.value)!==null&&s!==void 0?s:""))}}),e.addNodeFilter("script,style",(r,s)=>{var i;const u=d=>d.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let f=r.length;for(;f--;){const d=r[f],g=d.firstChild,C=(i=g==null?void 0:g.value)!==null&&i!==void 0?i:"";if(s==="script"){const v=d.attr("type");v&&d.attr("type",v==="mce-no/type"?null:v.replace(/^mce\-/,"")),t.element_format==="xhtml"&&g&&C.length>0&&(g.value=`// <![CDATA[
`+u(C)+`
// ]]>`)}else t.element_format==="xhtml"&&g&&C.length>0&&(g.value=`<!--
`+u(C)+`
-->`)}}),e.addNodeFilter("#comment",r=>{let s=r.length;for(;s--;){const i=r[s],u=i.value;t.preserve_cdata&&(u==null?void 0:u.indexOf("[CDATA["))===0?(i.name="#cdata",i.type=4,i.value=n.decode(u.replace(/^\[CDATA\[|\]\]$/g,""))):(u==null?void 0:u.indexOf("mce:protected "))===0&&(i.name="#text",i.type=3,i.raw=!0,i.value=unescape(u).substr(14))}}),e.addNodeFilter("xml:namespace,input",(r,s)=>{let i=r.length;for(;i--;){const u=r[i];u.type===7?u.remove():u.type===1&&s==="input"&&!u.attr("type")&&u.attr("type","text")}}),e.addAttributeFilter("data-mce-type",r=>{ee(r,s=>{s.attr("data-mce-type")==="format-caret"&&(s.isEmpty(e.schema.getNonEmptyElements())?s.remove():s.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(r,s)=>{let i=r.length;for(;i--;)r[i].attr(s,null)}),t.remove_trailing_brs&&fx(e,e.schema)},lH=e=>{const t=r=>(r==null?void 0:r.name)==="br",n=e.lastChild;if(t(n)){const r=n.prev;t(r)&&(n.remove(),r.remove())}},iH=(e,t,n)=>{let r;const s=e.dom;let i=t.cloneNode(!0);const u=document.implementation;if(u.createHTMLDocument){const f=u.createHTMLDocument("");le.each(i.nodeName==="BODY"?i.childNodes:[i],d=>{f.body.appendChild(f.importNode(d,!0))}),i.nodeName!=="BODY"?i=f.body.firstChild:i=f.body,r=s.doc,s.doc=f}return HI(e,{...n,node:i}),r&&(s.doc=r),i},aH=(e,t)=>Z(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,uH=(e,t,n)=>aH(e,n)?iH(e,t,n):t,cH=(e,t,n)=>{le.inArray(t,n)===-1&&(e.addAttributeFilter(n,(r,s)=>{let i=r.length;for(;i--;)r[i].attr(s,null)}),t.push(n))},fH=(e,t,n)=>!t.no_events&&e?VI(e,{...t,content:n}).content:n,dH=(e,t,n)=>{const r=Uo(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||mf(D.fromDom(t))?r:le.trim(r)},mH=(e,t,n)=>{const r=n.selection?{forced_root_block:!1,...n}:n,s=e.parse(t,r);return lH(s),s},pH=(e,t,n)=>Es(e,t).serialize(n),gH=(e,t,n,r,s)=>{const i=pH(t,n,r);return fH(e,s,i)},hH=(e,t)=>{const n=["data-mce-selected"],r={entity_encoding:"named",remove_trailing_brs:!0,...e},s=t&&t.dom?t.dom:lt.DOM,i=t&&t.schema?t.schema:ps(r),u=Ii(r,i);sH(u,r,s);const f=(d,g={})=>{const C={format:"html",...g},v=uH(t,d,C),y=dH(s,v,C),w=mH(u,y,C);return C.format==="tree"?w:gH(t,r,i,w,C)};return{schema:i,addNodeFilter:u.addNodeFilter,addAttributeFilter:u.addAttributeFilter,serialize:f,addRules:i.addValidElements,setRules:i.setValidElements,addTempAttr:ce(cH,u,n),getTempAttrs:K(n),getNodeFilters:u.getNodeFilters,getAttributeFilters:u.getAttributeFilters,removeNodeFilter:u.removeNodeFilter,removeAttributeFilter:u.removeAttributeFilter}},nk=(e,t)=>{const n=hH(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},vH="html",CH=(e,t)=>({...e,format:t,get:!0,getInner:!0}),yH=(e,t={})=>{const n=t.format?t.format:vH,r=CH(t,n);return Ox(e,r).fold(Me,s=>{const i=jj(e,s);return Ix(e,i,s)})},EH="html",bH=(e,t)=>({format:EH,...e,set:!0,content:t}),z0=(e,t,n={})=>{const r=bH(n,t);return F0(e,r).map(s=>{const i=Hj(e,s.content,s);return P0(e,i.html,s),i.content}).getOr(t)},AH="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),SH="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),wH="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),rk=[{name:"template",replacedWith:"Advanced Template"},{name:"rtc"}],ok=(e,t)=>{const n=Ie(t,r=>ze(e,r));return Js(n)},xH=e=>{const t=ok(e,AH),n=e.forced_root_block;return(n===!1||n==="")&&t.push("forced_root_block (false only)"),Js(t)},kH=e=>ok(e,SH),sk=(e,t)=>{const n=le.makeMap(e.plugins," "),s=Ie(t,i=>ze(n,i));return Js(s)},DH=e=>sk(e,wH),_H=e=>sk(e,rk.map(t=>t.name)),NH=(e,t)=>{const n=xH(e),r=DH(t),s=r.length>0,i=n.length>0,u=t.theme==="mobile";if(s||i||u){const f=`
- `,d=u?`

Themes:${f}mobile`:"",g=s?`

Plugins:${f}${r.join(f)}`:"",C=i?`

Options:${f}${n.join(f)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+d+g+C)}},BH=e=>zt(rk,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),FH=(e,t)=>{const n=kH(e),r=_H(t),s=r.length>0,i=n.length>0;if(s||i){const u=`
- `,f=s?`

Plugins:${u}${r.map(BH).join(u)}`:"",d=i?`

Options:${u}${n.join(u)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+f+d)}},PH=(e,t)=>{NH(e,t),FH(e,t)},gd=lt.DOM,TH=e=>{gd.setStyle(e.id,"display",e.orgDisplay)},hd=e=>E.from(e).each(t=>t.destroy()),RH=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const n=e.selection;if(n){const r=n.dom;t.selection=n.win=n.dom=r.doc=null}},OH=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),gd.unbind(t,"submit reset",e.formEventDelegate))},IH=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:n}=e,r=e.getBody(),s=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Z(s==null?void 0:s.nextSibling)&&gd.remove(s.nextSibling),WI(e),e.editorManager.remove(e),!e.inline&&r&&TH(e),KI(e),gd.remove(e.getContainer()),hd(t),hd(n),e.destroy()}},LH=(e,t)=>{const{selection:n,dom:r}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),hd(n),hd(r)),OH(e),RH(e),e.destroyed=!0}},vd=(()=>{const e={};return{add:(s,i)=>{e[s]=i},get:s=>e[s]?e[s]:{icons:{}},has:s=>ze(e,s)}})(),Li=vn.ModelManager,lk=(e,t)=>t.dom[e],ik=(e,t)=>parseInt(fo(t,e),10),$H=ce(lk,"clientWidth"),MH=ce(lk,"clientHeight"),zH=ce(ik,"margin-top"),UH=ce(ik,"margin-left"),jH=e=>e.dom.getBoundingClientRect(),HH=(e,t,n)=>{const r=$H(e),s=MH(e);return t>=0&&n>=0&&t<=r&&n<=s},VH=(e,t,n,r)=>{const s=jH(t),i=e?s.left+t.dom.clientLeft+UH(t):0,u=e?s.top+t.dom.clientTop+zH(t):0,f=n-i,d=r-u;return{x:f,y:d}},WH=(e,t,n)=>{const r=D.fromDom(e.getBody()),s=e.inline?r:Q4(r),i=VH(e.inline,s,t,n);return HH(s,i.x,i.y)},KH=e=>E.from(e).map(D.fromDom),qH=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return KH(t).map(pi).getOr(!1)};var GH=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const ak=e=>{const t=[],n=()=>{const y=e.theme;return y&&y.getNotificationManagerImpl?y.getNotificationManagerImpl():GH()},r=()=>E.from(t[0]),s=(y,w)=>y.type===w.type&&y.text===w.text&&!y.progressBar&&!y.timeout&&!w.progressBar&&!w.timeout,i=()=>{ee(t,y=>{y.reposition()})},u=y=>{t.push(y)},f=y=>{Ta(t,w=>w===y).each(w=>{t.splice(w,1)})},d=(y,w=!0)=>e.removed||!qH(e)?{}:(w&&e.dispatch("BeforeOpenNotification",{notification:y}),zt(t,k=>s(n().getArgs(k),y)).getOrThunk(()=>{e.editorManager.setActive(e);const k=n().open(y,()=>{f(k),i(),r().fold(()=>e.focus(),S=>lw(D.fromDom(S.getEl())))});return u(k),i(),e.dispatch("OpenNotification",{notification:{...k}}),k})),g=()=>{r().each(y=>{n().close(y),f(y),i()})},C=K(t);return(y=>{y.on("SkinLoaded",()=>{const w=_7(y);w&&d({text:w,type:"warning",timeout:0},!1),i()}),y.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(i)}),y.on("remove",()=>{ee(t.slice(),w=>{n().close(w)})})})(e),{open:d,close:g,getNotifications:C}},$i=vn.PluginManager,Rl=vn.ThemeManager;var YH=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const uk=e=>{let t=[];const n=()=>{const S=e.theme;return S&&S.getWindowManagerImpl?S.getWindowManagerImpl():YH()},r=(S,x)=>(...F)=>x?x.apply(S,F):void 0,s=S=>{e.dispatch("OpenWindow",{dialog:S})},i=S=>{e.dispatch("CloseWindow",{dialog:S})},u=S=>{t.push(S),s(S)},f=S=>{i(S),t=Ie(t,x=>x!==S),t.length===0&&e.focus()},d=()=>E.from(t[t.length-1]),g=S=>{e.editorManager.setActive(e),kh(e),e.ui.show();const x=S();return u(x),x},C=(S,x)=>g(()=>n().open(S,x,f)),v=S=>g(()=>n().openUrl(S,f)),y=(S,x,F)=>{const P=n();P.alert(S,r(F||P,x))},w=(S,x,F)=>{const P=n();P.confirm(S,r(F||P,x))},k=()=>{d().each(S=>{n().close(S),f(S)})};return e.on("remove",()=>{ee(t,S=>{n().close(S)})}),{open:C,openUrl:v,alert:y,confirm:w,close:k}},ck=(e,t)=>{e.notificationManager.open({type:"error",text:t})},Cd=(e,t)=>{e._skinLoaded?ck(e,t):e.on("SkinLoaded",()=>{ck(e,t)})},QH=(e,t)=>{Cd(e,jr.translate(["Failed to upload image: {0}",t]))},Ru=(e,t,n)=>{OS(e,t,{message:n}),console.error(n)},Ou=(e,t,n)=>n?`Failed to load ${e}: ${n} from url ${t}`:`Failed to load ${e} url: ${t}`,XH=(e,t,n)=>{Ru(e,"PluginLoadError",Ou("plugin",t,n))},ZH=(e,t,n)=>{Ru(e,"IconsLoadError",Ou("icons",t,n))},JH=(e,t,n)=>{Ru(e,"LanguageLoadError",Ou("language",t,n))},eV=(e,t,n)=>{Ru(e,"ThemeLoadError",Ou("theme",t,n))},tV=(e,t,n)=>{Ru(e,"ModelLoadError",Ou("model",t,n))},nV=(e,t,n)=>{const r=jr.translate(["Failed to initialize plugin: {0}",t]);OS(e,"PluginLoadError",{message:r}),yd(r,n),Cd(e,r)},yd=(e,...t)=>{const n=window.console;n&&(n.error?n.error(e,...t):n.log(e,...t))},rV=e=>/^[a-z0-9\-]+$/i.test(e),oV=e=>fk(e,A7(e)),sV=e=>fk(e,PA(e)),fk=(e,t)=>{const n=e.editorManager.baseURL+"/skins/content",s=`content${e.editorManager.suffix}.css`;return Je(t,i=>rV(i)&&!e.inline?`${n}/${i}/${s}`:e.documentBaseURI.toAbsolute(i))},lV=e=>{e.contentCSS=e.contentCSS.concat(oV(e),sV(e))},iV=e=>e?kn(e.getElementsByTagName("img")):[],aV=(e,t)=>{const n={};return{findAll:(s,i=yt)=>{const u=Ie(iV(s),d=>{const g=d.src;return d.hasAttribute("data-mce-bogus")||d.hasAttribute("data-mce-placeholder")||!g||g===Qe.transparentSrc?!1:nn(g,"blob:")?!e.isUploaded(g)&&i(d):nn(g,"data:")?i(d):!1}),f=Je(u,d=>{const g=d.src;if(ze(n,g))return n[g].then(C=>N(C)?C:{image:d,blobInfo:C.blobInfo});{const C=xz(t,g).then(v=>(delete n[g],{image:d,blobInfo:v})).catch(v=>(delete n[g],v));return n[g]=C,C}});return Promise.all(f)}}},dk=()=>{let n={};const r=(y,w)=>({status:y,resultUri:w}),s=y=>y in n;return{hasBlobUri:s,getResultUri:y=>{const w=n[y];return w?w.resultUri:null},isPending:y=>s(y)?n[y].status===1:!1,isUploaded:y=>s(y)?n[y].status===2:!1,markPending:y=>{n[y]=r(1,null)},markUploaded:(y,w)=>{n[y]=r(2,w)},removeFailed:y=>{delete n[y]},destroy:()=>{n={}}}};let uV=0;const cV=()=>{const e=()=>Math.round(Math.random()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},fV=e=>e+uV+++cV(),dV=()=>{let e=[];const t=v=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[v.toLowerCase()]||"dat",n=(v,y,w,k,S)=>{if(N(v))return r({id:v,name:k,filename:S,blob:y,base64:w});if(G(v))return r(v);throw new Error("Unknown input type")},r=v=>{if(!v.blob||!v.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const y=v.id||fV("blobid"),w=v.name||y,k=v.blob;return{id:K(y),name:K(w),filename:K(v.filename||w+"."+t(k.type)),blob:K(k),base64:K(v.base64),blobUri:K(v.blobUri||URL.createObjectURL(k)),uri:K(v.uri)}},s=v=>{u(v.id())||e.push(v)},i=v=>zt(e,v).getOrUndefined(),u=v=>i(y=>y.id()===v);return{create:n,add:s,get:u,getByUri:v=>i(y=>y.blobUri()===v),getByData:(v,y)=>i(w=>w.base64()===v&&w.blob().type===y),findFirst:i,removeByUri:v=>{e=Ie(e,y=>y.blobUri()===v?(URL.revokeObjectURL(y.blobUri()),!1):!0)},destroy:()=>{ee(e,v=>{URL.revokeObjectURL(v.blobUri())}),e=[]}}},mV=(e,t)=>{const n={},r=(S,x)=>S?S.replace(/\/$/,"")+"/"+x.replace(/^\//,""):x,s=(S,x)=>new Promise((F,P)=>{const T=new XMLHttpRequest;T.open("POST",t.url),T.withCredentials=t.credentials,T.upload.onprogress=q=>{x(q.loaded/q.total*100)},T.onerror=()=>{P("Image upload failed due to a XHR Transport error. Code: "+T.status)},T.onload=()=>{if(T.status<200||T.status>=300){P("HTTP Error: "+T.status);return}const q=JSON.parse(T.responseText);if(!q||!N(q.location)){P("Invalid JSON: "+T.responseText);return}F(r(t.basePath,q.location))};const L=new FormData;L.append("file",S.blob(),S.filename()),T.send(L)}),i=je(t.handler)?t.handler:s,u=()=>new Promise(S=>{S([])}),f=(S,x)=>({url:x,blobInfo:S,status:!0}),d=(S,x)=>({url:"",blobInfo:S,status:!1,error:x}),g=(S,x)=>{le.each(n[S],F=>{F(x)}),delete n[S]},C=(S,x,F)=>(e.markPending(S.blobUri()),new Promise(P=>{let T,L;try{const q=()=>{T&&(T.close(),L=$e)},ye=U=>{q(),e.markUploaded(S.blobUri(),U),g(S.blobUri(),f(S,U)),P(f(S,U))},Y=U=>{q(),e.removeFailed(S.blobUri()),g(S.blobUri(),d(S,U)),P(d(S,U))};L=U=>{U<0||U>100||E.from(T).orThunk(()=>E.from(F).map($r)).each(W=>{T=W,W.progressBar.value(U)})},x(S,L).then(ye,U=>{Y(N(U)?{message:U}:U)})}catch(q){P(d(S,q))}})),v=S=>S===s,y=S=>{const x=S.blobUri();return new Promise(F=>{n[x]=n[x]||[],n[x].push(F)})},w=(S,x)=>(S=le.grep(S,F=>!e.isUploaded(F.blobUri())),Promise.all(le.map(S,F=>e.isPending(F.blobUri())?y(F):C(F,i,x))));return{upload:(S,x)=>!t.url&&v(i)?u():w(S,x)}},mk=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),pk=(e,t)=>mV(t,{url:g7(e),basePath:h7(e),credentials:v7(e),handler:C7(e)}),pV=e=>{const t=dk(),n=pk(e,t);return{upload:(r,s=!0)=>n.upload(r,s?mk(e):void 0)}},gV=(e,t)=>e.dom.isEmpty(t.dom)&&Z(e.schema.getTextBlockElements()[dt(t)]),hV=e=>t=>{gV(e,t)&&Ft(t,D.fromHtml('<br data-mce-bogus="1" />'))},vV=e=>{const t=dV();let n,r;const s=dk(),i=[],u=T=>L=>e.selection?T(L):[],f=T=>T+(T.indexOf("?")===-1?"?":"&")+new Date().getTime(),d=(T,L,q)=>{let ye=0;do ye=T.indexOf(L,ye),ye!==-1&&(T=T.substring(0,ye)+q+T.substr(ye+L.length),ye+=q.length-L.length+1);while(ye!==-1);return T},g=(T,L,q)=>{const ye=`src="${q}"${q===Qe.transparentSrc?' data-mce-placeholder="1"':""}`;return T=d(T,`src="${L}"`,ye),T=d(T,'data-mce-src="'+L+'"','data-mce-src="'+q+'"'),T},C=(T,L)=>{ee(e.undoManager.data,q=>{q.type==="fragmented"?q.fragments=Je(q.fragments,ye=>g(ye,T,L)):q.content=g(q.content,T,L)})},v=(T,L)=>{const q=e.convertURL(L,"src");C(T.src,L),ls(D.fromDom(T),{src:_A(e)?f(L):L,"data-mce-src":q})},y=()=>(n||(n=pk(e,s)),x().then(u(T=>{const L=Je(T,q=>q.blobInfo);return n.upload(L,mk(e)).then(u(q=>{const ye=[];let Y=!1;const U=Je(q,(W,ie)=>{const{blobInfo:ue,image:ge}=T[ie];let Fe=!1;return W.status&&m7(e)?(W.url&&!dn(ge.src,W.url)&&(Y=!0),t.removeByUri(ge.src),bo(e)||v(ge,W.url)):W.error&&(W.error.remove&&(C(ge.src,Qe.transparentSrc),ye.push(ge),Fe=!0),QH(e,W.error.message)),{element:ge,status:W.status,uploadUri:W.url,blobInfo:ue,removed:Fe}});return ye.length>0&&!bo(e)?e.undoManager.transact(()=>{ee(ig(ye),W=>{const ie=kr(W);ht(W),ie.each(hV(e)),t.removeByUri(W.dom.src)})}):Y&&e.undoManager.dispatchChange(),U}))}))),w=()=>DA(e)?y():Promise.resolve([]),k=T=>ss(i,L=>L(T)),S=T=>{i.push(T)},x=()=>(r||(r=aV(s,t)),r.findAll(e.getBody(),k).then(u(T=>{const L=Ie(T,q=>N(q)?(Cd(e,q),!1):q.uriType!=="blob");return bo(e)||ee(L,q=>{C(q.image.src,q.blobInfo.blobUri()),q.image.src=q.blobInfo.blobUri(),q.image.removeAttribute("data-mce-src")}),L}))),F=()=>{t.destroy(),s.destroy(),r=n=null},P=T=>T.replace(/src="(blob:[^"]+)"/g,(L,q)=>{const ye=s.getResultUri(q);if(ye)return'src="'+ye+'"';let Y=t.getByUri(q);return Y||(Y=Kn(e.editorManager.get(),(U,W)=>U||W.editorUpload&&W.editorUpload.blobCache.getByUri(q),void 0)),Y?'src="data:'+Y.blob().type+";base64,"+Y.base64()+'"':L});return e.on("SetContent",()=>{DA(e)?w():x()}),e.on("RawSaveContent",T=>{T.content=P(T.content)}),e.on("GetContent",T=>{T.source_view||T.format==="raw"||T.format==="tree"||(T.content=P(T.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",T=>{ee(T,L=>{const q=L.attr("src");if(!q||t.getByUri(q))return;const ye=s.getResultUri(q);ye&&L.attr("src",ye)})})}),{blobCache:t,addFilter:S,uploadImages:y,uploadImagesAuto:w,scanForImages:x,destroy:F}},CV=e=>{const t=e.dom,n=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:s=>{t.setStyle(s,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:s=>{t.setStyle(s,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const s={inline:"span",styles:{textDecoration:"line-through"},exact:!0},i={inline:"strike",remove:"all",preserve_attributes:["class","style"]},u={inline:"s",remove:"all",preserve_attributes:["class","style"]};return n!=="html4"?[u,s,i]:[s,u,i]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(s,i,u)=>me(s)&&s.hasAttribute("href"),onformat:(s,i,u)=>{le.each(u,(f,d)=>{t.setAttrib(s,d,f)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":s=>{var i;return(i=s==null?void 0:s.customValue)!==null&&i!==void 0?i:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return le.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),s=>{r[s]={block:s,remove:"all"}}),r},gk={remove_similar:!0,inherit:!1},Mi={selector:"td,th",...gk},yV={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...Mi},tablecellverticalalign:{styles:{"vertical-align":"%value"},...Mi},tablecellbordercolor:{styles:{borderColor:"%value"},...Mi},tablecellclass:{classes:["%value"],...Mi},tableclass:{selector:"table",classes:["%value"],...gk},tablecellborderstyle:{styles:{borderStyle:"%value"},...Mi},tablecellborderwidth:{styles:{borderWidth:"%value"},...Mi}},EV=K(yV),bV=e=>{const t={},n=u=>Z(u)?t[u]:t,r=u=>ze(t,u),s=(u,f)=>{u&&(N(u)?(Se(f)||(f=[f]),ee(f,d=>{Pe(d.deep)&&(d.deep=!fr(d)),Pe(d.split)&&(d.split=!fr(d)||jt(d)),Pe(d.remove)&&fr(d)&&!jt(d)&&(d.remove="none"),fr(d)&&jt(d)&&(d.mixed=!0,d.block_expand=!0),N(d.classes)&&(d.classes=d.classes.split(/\s+/))}),t[u]=f):ft(u,(d,g)=>{s(g,d)}))},i=u=>(u&&t[u]&&delete t[u],t);return s(CV(e)),s(EV()),s(F7(e)),{get:n,has:r,register:s,unregister:i}},Ed=le.each,pr=lt.DOM,U0=e=>Z(e)&&G(e),hk=(e,t)=>{const n=t&&t.schema||ps({}),r=(d,g)=>{g.classes.length>0&&pr.addClass(d,g.classes.join(" ")),pr.setAttribs(d,g.attrs)},s=d=>{const g=N(d)?{name:d,classes:[],attrs:{}}:d,C=pr.create(g.name);return r(C,g),C},i=(d,g)=>{const C=n.getElementRule(d.nodeName.toLowerCase()),v=C==null?void 0:C.parentsRequired;return v&&v.length?g&&ot(v,g)?g:v[0]:!1},u=(d,g,C)=>{let v;const y=g[0],w=U0(y)?y.name:void 0,k=i(d,w);if(k)w===k?(v=y,g=g.slice(1)):v=k;else if(y)v=y,g=g.slice(1);else if(!C)return d;const S=v?s(v):pr.create("div");S.appendChild(d),C&&le.each(C,F=>{const P=s(F);S.insertBefore(P,d)});const x=U0(v)?v.siblings:void 0;return u(S,g,x)},f=pr.create("div");if(e.length>0){const d=e[0],g=s(d),C=U0(d)?d.siblings:void 0;f.appendChild(u(g,e.slice(1),C))}return f},AV=e=>{e=le.trim(e);let t="div";const n={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,s,i,u,f)=>{switch(s){case"#":n.attrs.id=i;break;case".":n.classes.push(i);break;case":":le.inArray("checked disabled enabled read-only required".split(" "),i)!==-1&&(n.attrs[i]=i);break}if(u==="["){const d=f.match(/([\w\-]+)(?:\=\"([^\"]+))?/);d&&(n.attrs[d[1]]=d[2])}return""})),n.name=t||"div",n},SV=e=>N(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),le.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const n=le.map(t.split(/(?:~\+|~|\+)/),AV),r=n.pop();return n.length&&(r.siblings=n),r}).reverse()):[],wV=(e,t)=>{let n="",r=P7(e);if(r==="")return"";const s=y=>N(y)?y.replace(/%(\w+)/g,""):"",i=(y,w)=>pr.getStyle(w??e.getBody(),y,!0);if(N(t)){const y=e.formatter.get(t);if(!y)return"";t=y[0]}if("preview"in t){const y=t.preview;if(y===!1)return"";r=y||r}let u=t.block||t.inline||"span",f;const d=SV(t.selector);d.length>0?(d[0].name||(d[0].name=u),u=t.selector,f=hk(d,e)):f=hk([u],e);const g=pr.select(u,f)[0]||f.firstChild;Ed(t.styles,(y,w)=>{const k=s(y);k&&pr.setStyle(g,w,k)}),Ed(t.attributes,(y,w)=>{const k=s(y);k&&pr.setAttrib(g,w,k)}),Ed(t.classes,y=>{const w=s(y);pr.hasClass(g,w)||pr.addClass(g,w)}),e.dispatch("PreviewFormats"),pr.setStyles(f,{position:"absolute",left:-65535}),e.getBody().appendChild(f);const C=i("fontSize"),v=/px$/.test(C)?parseInt(C,10):0;return Ed(r.split(" "),y=>{let w=i(y,g);if(!(y==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(w)&&(w=i(y),Mf(w).toLowerCase()==="#ffffff"))&&!(y==="color"&&Mf(w).toLowerCase()==="#000000")){if(y==="font-size"&&/em|%$/.test(w)){if(v===0)return;w=parseFloat(w)/(/%$/.test(w)?100:1)*v+"px"}y==="border"&&w&&(n+="padding:0 2px;"),n+=y+":"+w+";"}}),e.dispatch("AfterPreviewFormats"),pr.remove(f),n},xV=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},vk=e=>{const t=bV(e),n=Kt({});return xV(e),$M(e),bo(e)||uz(n,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(r,s,i)=>{$j(e,r,s,i)},remove:(r,s,i,u)=>{Mj(e,r,s,i,u)},toggle:(r,s,i)=>{zj(e,r,s,i)},match:(r,s,i,u)=>Tj(e,r,s,i,u),closest:r=>Lj(e,r),matchAll:(r,s)=>Rj(e,r,s),matchNode:(r,s,i,u)=>Oj(e,r,s,i,u),canApply:r=>Ij(e,r),formatChanged:(r,s,i,u)=>Uj(e,n,r,s,i,u),getCssText:ce(wV,e)}},Ck=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},kV=(e,t,n)=>{const r=Kt(!1),s=d=>{pd(t,!1,n),t.add({},d)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",d=>{const g=d.command;Ck(g)||(Gx(t,n),t.beforeChange())}),e.on("ExecCommand",d=>{const g=d.command;Ck(g)||s(d)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",s),e.on("dragend",s),e.on("keyup",d=>{const g=d.keyCode;if(d.isDefaultPrevented())return;const C=Qe.os.isMacOS()&&d.key==="Meta";(g>=33&&g<=36||g>=37&&g<=40||g===45||d.ctrlKey||C)&&(s(),e.nodeChanged()),(g===46||g===8)&&e.nodeChanged(),r.get()&&t.typing&&!L0(md(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged())}),e.on("keydown",d=>{const g=d.keyCode;if(d.isDefaultPrevented())return;if(g>=33&&g<=36||g>=37&&g<=40||g===45){t.typing&&s(d);return}const C=d.ctrlKey&&!d.altKey||d.metaKey;if((g<16||g>20)&&g!==224&&g!==91&&!t.typing&&!C){t.beforeChange(),pd(t,!0,n),t.add({},d),r.set(!0);return}(Qe.os.isMacOS()?d.metaKey:d.ctrlKey&&!d.altKey)&&t.beforeChange()}),e.on("mousedown",d=>{t.typing&&s(d)});const i=d=>d.inputType==="insertReplacementText",u=d=>d.inputType==="insertText"&&d.data===null,f=d=>d.inputType==="insertFromPaste"||d.inputType==="insertFromDrop";e.on("input",d=>{d.inputType&&(i(d)||u(d)||f(d))&&s(d)}),e.on("AddUndo Undo Redo ClearUndos",d=>{d.isDefaultPrevented()||e.nodeChanged()})},DV=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},yk=e=>{const t=gs(),n=Kt(0),r=Kt(0),s={data:[],typing:!1,beforeChange:()=>{Aj(e,n,t)},add:(i,u)=>Sj(e,s,r,n,t,i,u),dispatchChange:()=>{e.setDirty(!0);const i=md(e);i.bookmark=jg(e.selection),e.dispatch("change",{level:i,lastLevel:Qc(s.data,r.get()).getOrUndefined()})},undo:()=>wj(e,s,n,r),redo:()=>xj(e,r,s.data),clear:()=>{kj(e,s,r)},reset:()=>{Dj(e,s)},hasUndo:()=>_j(e,s,r),hasRedo:()=>Nj(e,s,r),transact:i=>Bj(e,s,n,i),ignore:i=>{Fj(e,n,i)},extra:(i,u)=>{Pj(e,s,r,i,u)}};return bo(e)||kV(e,s,n),DV(e),s},_V=[9,27,he.HOME,he.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,he.DOWN,he.UP,he.LEFT,he.RIGHT].concat(Qe.browser.isFirefox()?[224]:[]),Ek="data-mce-placeholder",bk=e=>e.type==="keydown"||e.type==="keyup",Ak=e=>{const t=e.keyCode;return t===he.BACKSPACE||t===he.DELETE},NV=e=>{if(bk(e)){const t=e.keyCode;return!Ak(e)&&(he.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||ot(_V,t))}else return!1},BV=e=>bk(e)&&!(Ak(e)||e.type==="keyup"&&e.keyCode===229),FV=(e,t,n)=>{if(Pt(D.fromDom(t),!1)){const r=t.firstElementChild;return r?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:n===r.nodeName.toLowerCase():!0}else return!1},PV=e=>{var t;const n=e.dom,r=Nn(e),s=(t=D7(e))!==null&&t!==void 0?t:"",i=(u,f)=>{if(NV(u))return;const d=e.getBody(),g=BV(u)?!1:FV(n,d,r);(n.getAttrib(d,Ek)!==""!==g||f)&&(n.setAttrib(d,Ek,g?s:null),n.setAttrib(d,"aria-placeholder",g?s:null),JI(e,g),e.on(g?"keydown":"keyup",i),e.off(g?"keyup":"keydown",i))};io(s)&&e.on("init",u=>{i(u,!0),e.on("change SetContent ExecCommand",i),e.on("paste",f=>dr.setEditorTimeout(e,()=>i(f)))})},TV=(e,t)=>({block:e,position:t}),RV=(e,t)=>({from:e,to:t}),j0=(e,t)=>{const n=D.fromDom(e),r=D.fromDom(t.container());return ed(n,r).map(s=>TV(s,t))},OV=e=>!et(e.from.block,e.to.block),Sk=(e,t)=>sl(t,s=>Qa(s)||Ur(s.dom),s=>et(s,e)).filter(Mn).getOr(e),IV=(e,t)=>{const n=D.fromDom(e);return et(Sk(n,t.from.block),Sk(n,t.to.block))},LV=e=>mt(e.from.block.dom)===!1&&mt(e.to.block.dom)===!1,$V=e=>{const t=n=>ub(n)||bg(n.dom);return t(e.from.block)&&t(e.to.block)},MV=(e,t,n)=>St(n.position.getNode())&&!Pt(n.block)?_i(!1,n.block.dom).bind(r=>r.isEqual(n.position)?ur(t,e,r).bind(s=>j0(e,s)):E.some(n)).getOr(n):n,zV=(e,t,n)=>{const r=j0(e,V.fromRangeStart(n)),s=r.bind(i=>ur(t,e,i.position).bind(u=>j0(e,u).map(f=>MV(e,t,f))));return Dn(r,s,RV).filter(i=>OV(i)&&IV(e,i)&&LV(i)&&$V(i))},UV=(e,t,n)=>n.collapsed?zV(e,t,n):E.none(),jV=e=>{const t=on(e);return Ta(t,ir).fold(K(t),n=>t.slice(0,n))},wk=e=>{const t=jV(e);return ee(t,ht),t},xk=(e,t)=>{const n=Vo(t,e);return zt(n.reverse(),r=>Pt(r)).each(ht)},HV=e=>Ie(ME(e),t=>!Pt(t)).length===0,VV=(e,t,n,r)=>{if(Pt(n))return fs(n),yn(n.dom);HV(r)&&Pt(t)&&Gn(r,D.fromTag("br"));const s=Bn(n.dom,V.before(r.dom));return ee(wk(t),i=>{Gn(r,i)}),xk(e,t),s},WV=(e,t,n)=>{if(Pt(n)){if(Pt(t)){const i=Pa((u=>{const f=(d,g)=>ng(d).fold(()=>g,C=>df(C)?f(C,g.concat(hl(C))):g);return f(u,[])})(n),(u,f)=>(QE(u,f),f),pf());hi(t),Ft(t,i)}return ht(n),yn(t.dom)}const r=_r(n.dom);return ee(wk(t),s=>{Ft(n,s)}),xk(e,t),r},KV=(e,t)=>{const n=Vo(t,e);return E.from(n[n.length-1])},qV=(e,t)=>Io(t,e)?KV(t,e):E.none(),kk=(e,t)=>{_i(e,t.dom).bind(n=>E.from(n.getNode())).map(D.fromDom).filter(cl).each(ht)},Dk=(e,t,n)=>(kk(!0,t),kk(!1,n),qV(t,n).fold(ce(WV,e,t,n),ce(VV,e,t,n))),_k=(e,t,n,r)=>t?Dk(e,r,n):Dk(e,n,r),H0=(e,t)=>{const n=D.fromDom(e.getBody());return UV(n.dom,t,e.selection.getRng()).map(s=>()=>{_k(n,t,s.from.block,s.to.block).each(i=>{e.selection.setRng(i.toRange())})})},GV=(e,t)=>{const n=t.getRng();return Dn(ed(e,D.fromDom(n.startContainer)),ed(e,D.fromDom(n.endContainer)),(r,s)=>et(r,s)?E.none():E.some(()=>{n.deleteContents(),_k(e,!0,r,s).each(i=>{t.setRng(i.toRange())})})).getOr(E.none())},Nk=(e,t)=>{const n=D.fromDom(t),r=ce(et,e);return $o(n,Qa,r).isSome()},YV=(e,t)=>Nk(e,t.startContainer)||Nk(e,t.endContainer),QV=(e,t)=>{const n=Bn(e.dom,V.fromRangeStart(t)).isNone(),r=Cn(e.dom,V.fromRangeEnd(t)).isNone();return!YV(e,t)&&n&&r},XV=e=>E.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),ZV=e=>{const t=D.fromDom(e.getBody()),n=e.selection.getRng();return QV(t,n)?XV(e):GV(t,e.selection)},V0=(e,t)=>e.selection.isCollapsed()?E.none():ZV(e),Wo=(e,t,n,r,s)=>E.from(t._selectionOverrides.showCaret(e,n,r,s)),JV=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},Iu=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?E.none():E.some(JV(t)),eW=(e,t,n)=>{const r=Xg(1,e.getBody(),t),s=V.fromRangeStart(r),i=s.getNode();if(du(i))return Wo(1,e,i,!s.isAtEnd(),!1);const u=s.getNode(!0);if(du(u))return Wo(1,e,u,!1,!1);const f=Bl(e.dom.getRoot(),s.getNode());return du(f)?Wo(1,e,f,!1,n):E.none()},W0=(e,t,n)=>t.collapsed?eW(e,t,n).getOr(t):t,tW=e=>As(e)||xu(e),nW=e=>Ss(e)||ku(e),rW=(e,t)=>{ne(t)&&t.data.length===0&&e.remove(t)},Bk=(e,t,n,r,s,i)=>{Wo(r,e,i.getNode(!s),s,!0).each(u=>{if(t.collapsed){const f=t.cloneRange();s?f.setEnd(u.startContainer,u.startOffset):f.setStart(u.endContainer,u.endOffset),f.deleteContents()}else t.deleteContents();e.selection.setRng(u)}),rW(e.dom,n)},oW=(e,t)=>{const n=e.selection.getRng();if(!ne(n.commonAncestorContainer))return E.none();const r=t?qt.Forwards:qt.Backwards,s=vo(e.getBody()),i=ce(Zg,t?s.next:s.prev),u=t?tW:nW,f=vu(r,e.getBody(),n),d=i(f),g=d&&mr(t,d);if(!g||!Of(f,g))return E.none();if(u(g))return E.some(()=>Bk(e,n,f.getNode(),r,t,g));const C=i(g);return C&&u(C)&&Of(g,C)?E.some(()=>Bk(e,n,f.getNode(),r,t,C)):E.none()},K0=(e,t)=>oW(e,t),q0=(e,t)=>{const n=e.getBody();return t?yn(n).filter(As):_r(n).filter(Ss)},G0=e=>{const t=e.selection.getRng();return!t.collapsed&&(q0(e,!0).exists(n=>n.isEqual(V.fromRangeStart(t)))||q0(e,!1).exists(n=>n.isEqual(V.fromRangeEnd(t))))},sW=e=>Z(e)&&(Qa(D.fromDom(e))||Ya(D.fromDom(e))),Yn=po.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),lW=(e,t)=>{const n=t.getNode(!e),r=e?"after":"before";return me(n)&&n.getAttribute("data-mce-caret")===r},iW=(e,t,n,r)=>{const s=i=>df(D.fromDom(i))&&!go(n,r,e);return ZA(!t,n).fold(()=>ZA(t,r).fold(rt,s),s)},Fk=(e,t,n,r)=>{const s=r.getNode(!t);return ed(D.fromDom(e),D.fromDom(n.getNode())).map(i=>Pt(i)?Yn.remove(i.dom):Yn.moveToElement(s)).orThunk(()=>E.some(Yn.moveToElement(s)))},Pk=(e,t,n)=>ur(t,e,n).bind(r=>sW(r.getNode())||iW(e,t,n,r)?E.none():t&&mt(r.getNode())||!t&&mt(r.getNode(!0))?Fk(e,t,n,r):t&&Ss(n)||!t&&As(n)?E.some(Yn.moveToPosition(r)):E.none()),aW=(e,t)=>de(t)?E.none():e&&mt(t.nextSibling)?E.some(Yn.moveToElement(t.nextSibling)):!e&&mt(t.previousSibling)?E.some(Yn.moveToElement(t.previousSibling)):E.none(),uW=(e,t,n)=>n.fold(r=>E.some(Yn.remove(r)),r=>E.some(Yn.moveToElement(r)),r=>go(t,r,e)?E.none():E.some(Yn.moveToPosition(r))),cW=(e,t,n)=>lW(t,n)?aW(t,n.getNode(!t)).orThunk(()=>Pk(e,t,n)):Pk(e,t,n).bind(r=>uW(e,n,r)),fW=(e,t,n)=>{const r=Xg(t?1:-1,e,n),s=V.fromRangeStart(r),i=D.fromDom(e);return!t&&Ss(s)?E.some(Yn.remove(s.getNode(!0))):t&&As(s)?E.some(Yn.remove(s.getNode())):!t&&As(s)&&zh(i,s)?p9(i,s).map(u=>Yn.remove(u.getNode())):t&&Ss(s)&&Mh(i,s)?g9(i,s).map(u=>Yn.remove(u.getNode())):cW(e,t,s)},dW=(e,t)=>n=>(e._selectionOverrides.hideFakeCaret(),_l(e,t,D.fromDom(n)),!0),mW=(e,t)=>n=>{const r=t?V.before(n):V.after(n);return e.selection.setRng(r.toRange()),!0},pW=e=>t=>(e.selection.setRng(t.toRange()),!0),Tk=(e,t)=>E.from(Bl(e.getBody(),t)),gW=(e,t)=>{const n=e.selection.getNode();return Tk(e,n).filter(mt).fold(()=>fW(e.getBody(),t,e.selection.getRng()).map(r=>()=>r.fold(dW(e,t),mW(e,t),pW(e))),()=>E.some($e))},hW=e=>{ee(mn(e,".mce-offscreen-selection"),ht)},vW=(e,t)=>{const n=e.selection.getNode();return mt(n)&&!cf(n)?Tk(e,n.parentNode).filter(mt).fold(()=>E.some(()=>{hW(D.fromDom(e.getBody())),_l(e,t,D.fromDom(e.selection.getNode())),Kh(e)}),()=>E.some($e)):G0(e)?E.some(()=>{s2(e,e.selection.getRng(),D.fromDom(e.getBody()))}):E.none()},Rk=e=>{const t=e.dom,n=e.selection,r=Bl(e.getBody(),n.getNode());if(Ur(r)&&t.isBlock(r)&&t.isEmpty(r)){const s=t.create("br",{"data-mce-bogus":"1"});t.setHTML(r,""),r.appendChild(s),n.setRng(V.before(s).toRange())}return!0},Y0=(e,t)=>e.selection.isCollapsed()?gW(e,t):vW(e,t),CW=(e,t)=>{const n=V.fromRangeStart(e.selection.getRng());return ur(t,e.getBody(),n).filter(r=>t?i9(r):a9(r)).bind(r=>Qg(t?0:-1,r)).map(r=>()=>e.selection.select(r))},Q0=(e,t)=>e.selection.isCollapsed()?CW(e,t):E.none(),zi=ne,Ok=e=>zi(e)&&e.data[0]===sn,Ik=e=>zi(e)&&e.data[e.data.length-1]===sn,Lk=e=>{var t;return((t=e.ownerDocument)!==null&&t!==void 0?t:document).createTextNode(sn)},yW=e=>{var t;if(zi(e.previousSibling))return Ik(e.previousSibling)||e.previousSibling.appendData(sn),e.previousSibling;if(zi(e))return Ok(e)||e.insertData(0,sn),e;{const n=Lk(e);return(t=e.parentNode)===null||t===void 0||t.insertBefore(n,e),n}},EW=e=>{var t,n;if(zi(e.nextSibling))return Ok(e.nextSibling)||e.nextSibling.insertData(0,sn),e.nextSibling;if(zi(e))return Ik(e)||e.appendData(sn),e;{const r=Lk(e);return e.nextSibling?(t=e.parentNode)===null||t===void 0||t.insertBefore(r,e.nextSibling):(n=e.parentNode)===null||n===void 0||n.appendChild(r),r}},bd=(e,t)=>e?yW(t):EW(t),bW=ce(bd,!0),AW=ce(bd,!1),$k=(e,t)=>ne(e.container())?bd(t,e.container()):bd(t,e.getNode()),Mk=(e,t)=>{const n=t.get();return n&&e.container()===n&&ds(n)},X0=(e,t)=>t.fold(n=>{El(e.get());const r=bW(n);return e.set(r),E.some(V(r,r.length-1))},n=>yn(n).map(r=>{if(Mk(r,e)){const s=e.get();return V(s,1)}else{El(e.get());const s=$k(r,!0);return e.set(s),V(s,1)}}),n=>_r(n).map(r=>{if(Mk(r,e)){const s=e.get();return V(s,s.length-1)}else{El(e.get());const s=$k(r,!1);return e.set(s),V(s,s.length-1)}}),n=>{El(e.get());const r=AW(n);return e.set(r),E.some(V(r,1))}),zk=(e,t)=>{for(let n=0;n<e.length;n++){const r=e[n].apply(null,t);if(r.isSome())return r}return E.none()},En=po.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Uk=(e,t)=>{const n=Cs(t,e);return n||e},SW=(e,t,n)=>{const r=e2(n),s=Uk(t,r.container());return ws(e,s,r).fold(()=>Cn(s,r).bind(ce(ws,e,s)).map(i=>En.before(i)),E.none)},wW=(e,t)=>Al(e,t)===null,jk=(e,t,n)=>ws(e,t,n).filter(ce(wW,t)),xW=(e,t,n)=>{const r=t2(n);return jk(e,t,r).bind(s=>Bn(s,r).isNone()?E.some(En.start(s)):E.none())},kW=(e,t,n)=>{const r=e2(n);return jk(e,t,r).bind(s=>Cn(s,r).isNone()?E.some(En.end(s)):E.none())},DW=(e,t,n)=>{const r=t2(n),s=Uk(t,r.container());return ws(e,s,r).fold(()=>Bn(s,r).bind(ce(ws,e,s)).map(i=>En.after(i)),E.none)},Hk=e=>!Jw(Z0(e)),Ao=(e,t,n)=>zk([SW,xW,kW,DW],[e,t,n]).filter(Hk),Z0=e=>e.fold(Me,Me,Me,Me),Vk=e=>e.fold(K("before"),K("start"),K("end"),K("after")),Ad=e=>e.fold(En.before,En.before,En.after,En.after),J0=e=>e.fold(En.start,En.start,En.end,En.end),_W=(e,t)=>Vk(e)===Vk(t)&&Z0(e)===Z0(t),NW=(e,t,n,r,s,i)=>Dn(ws(t,n,r),ws(t,n,s),(u,f)=>u!==f&&q9(n,u,f)?En.after(e?u:f):i).getOr(i),BW=(e,t)=>e.fold(yt,n=>!_W(n,t)),FW=(e,t,n,r,s)=>{const i=mr(e,s);return ur(e,n,i).map(ce(mr,e)).fold(()=>r.map(Ad),d=>Ao(t,n,d).map(ce(NW,e,t,n,i,d)).filter(ce(BW,r))).filter(Hk)},PW=(e,t)=>e?t.fold(or(E.some,En.start),E.none,or(E.some,En.after),E.none):t.fold(E.none,or(E.some,En.before),E.none,or(E.some,En.end)),TW=(e,t,n,r)=>{const s=mr(e,r),i=Ao(t,n,s);return Ao(t,n,s).bind(ce(PW,e)).orThunk(()=>FW(e,t,n,i,r))},RW=e=>je(e.selection.getSel().modify),Wk=(e,t,n)=>{const r=e?1:-1;return t.setRng(V(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},OW=(e,t)=>{const n=t.selection.getRng(),r=e?V.fromRangeEnd(n):V.fromRangeStart(n);return RW(t)?e&&gg(r)?Wk(!0,t.selection,r):!e&&hg(r)?Wk(!1,t.selection,r):!1:!1};var So;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(So||(So={}));const Sd=(e,t)=>e===qt.Backwards?Ra(t):t,IW=(e,t,n)=>e===qt.Forwards?t.next(n):t.prev(n),LW=(e,t,n,r)=>St(r.getNode(t===qt.Forwards))?So.Br:go(n,r)===!1?So.Block:So.Wrap,Kk=(e,t,n,r)=>{const s=vo(n);let i=r;const u=[];for(;i;){const f=IW(t,s,i);if(!f)break;if(St(f.getNode(!1)))return t===qt.Forwards?{positions:Sd(t,u).concat([f]),breakType:So.Br,breakAt:E.some(f)}:{positions:Sd(t,u),breakType:So.Br,breakAt:E.some(f)};if(!f.isVisible()){i=f;continue}if(e(i,f)){const d=LW(n,t,i,f);return{positions:Sd(t,u),breakType:d,breakAt:E.some(f)}}u.push(f),i=f}return{positions:Sd(t,u),breakType:So.Eol,breakAt:E.none()}},qk=(e,t,n,r)=>t(n,r).breakAt.map(s=>{const i=t(n,s).positions;return e===qt.Backwards?i.concat(s):[s].concat(i)}).getOr([]),e1=(e,t)=>Kn(e,(n,r)=>n.fold(()=>E.some(r),s=>Dn($n(s.getClientRects()),$n(r.getClientRects()),(i,u)=>{const f=Math.abs(t-i.left);return Math.abs(t-u.left)<=f?r:s}).or(n)),E.none()),wd=(e,t)=>$n(t.getClientRects()).bind(n=>e1(e,n.left)),Lu=ce(Kk,V.isAbove,-1),$u=ce(Kk,V.isBelow,1),Gk=ce(qk,-1,Lu),Yk=ce(qk,1,$u),$W=(e,t)=>Lu(e,t).breakAt.isNone(),MW=(e,t)=>$u(e,t).breakAt.isNone(),zW=e=>yn(e).map(t=>[t].concat($u(e,t).positions)).getOr([]),UW=e=>_r(e).map(t=>Lu(e,t).positions.concat(t)).getOr([]),jW=(e,t)=>wd(Gk(e,t),t),HW=(e,t)=>wd(Yk(e,t),t),VW=mt,Qk=(e,t)=>Math.abs(e.left-t),Xk=(e,t)=>Math.abs(e.right-t),WW=e=>ii(e,"node"),Zk=(e,t)=>Jc(e,(n,r)=>{const s=Math.min(Qk(n,t),Xk(n,t)),i=Math.min(Qk(r,t),Xk(r,t));return i===s&&WW(r)&&VW(r.node)||i<s?r:n}),KW=e=>{const t=n=>Je(n,r=>{const s=Cl(r);return s.node=e,s});if(me(e))return t(e.getClientRects());if(ne(e)){const n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}else return[]},Jk=e=>lo(e,KW);var Mu;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(Mu||(Mu={}));const qW=(e,t,n,r)=>{let s=r;for(;s=pu(s,e,pb,t);)if(n(s))return},eD=(e,t,n,r,s,i)=>{let u=0;const f=[],d=v=>{let y=Jk([v]);e===-1&&(y=y.reverse());for(let w=0;w<y.length;w++){const k=y[w];if(!n(k,g)){if(f.length>0&&t(k,tl(f))&&u++,k.line=u,s(k))return!0;f.push(k)}}return!1},g=tl(i.getClientRects());if(!g)return f;const C=i.getNode();return C&&(d(C),qW(e,r,d,C)),f},GW=(e,t)=>t.line>e,YW=(e,t)=>t.line===e,QW=ce(eD,Mu.Up,lu,iu),XW=ce(eD,Mu.Down,iu,lu),tD=e=>tl(e.getClientRects()),ZW=(e,t,n,r)=>{const s=vo(t);let i,u,f,d;const g=[];let C=0;e===1?(i=s.next,u=iu,f=lu,d=V.after(r)):(i=s.prev,u=lu,f=iu,d=V.before(r));const v=tD(d);do{if(!d.isVisible())continue;const y=tD(d);if(f(y,v))continue;g.length>0&&u(y,tl(g))&&C++;const w=Cl(y);if(w.position=d,w.line=C,n(w))return g;g.push(w)}while(d=i(d));return g},nD=e=>t=>GW(e,t),t1=e=>t=>YW(e,t),Ko=(e,t)=>{e.selection.setRng(t),wu(e,e.selection.getRng())},n1=(e,t,n)=>E.some(W0(e,t,n)),rD=(e,t,n,r,s,i)=>{const u=t===qt.Forwards,f=vo(e.getBody()),d=ce(Zg,u?f.next:f.prev),g=u?r:s;if(!n.collapsed){const k=Df(n);if(i(k))return Wo(t,e,k,t===qt.Backwards,!1);if(G0(e)){const S=n.cloneRange();return S.collapse(t===qt.Backwards),E.from(S)}}const C=vu(t,e.getBody(),n);if(g(C))return Iu(e,C.getNode(!u));let v=d(C);const y=fb(n);if(v)v=mr(u,v);else return y?E.some(n):E.none();if(g(v))return Wo(t,e,v.getNode(!u),u,!1);const w=d(v);return w&&g(w)&&Of(v,w)?Wo(t,e,w.getNode(!u),u,!1):y?n1(e,v.toRange(),!1):E.none()},oD=(e,t,n,r,s,i)=>{const u=vu(t,e.getBody(),n),f=tl(u.getClientRects()),d=t===Mu.Down,g=e.getBody();if(!f)return E.none();if(G0(e)){const x=d?V.fromRangeEnd(n):V.fromRangeStart(n);return(d?HW:jW)(g,x).orThunk(()=>E.from(x)).map(P=>P.toRange())}const v=(d?XW:QW)(g,nD(1),u),y=Ie(v,t1(1)),w=f.left,k=Zk(y,w);if(k&&i(k.node)){const x=Math.abs(w-k.left),F=Math.abs(w-k.right);return Wo(t,e,k.node,x<F,!1)}let S;if(r(u)?S=u.getNode():s(u)?S=u.getNode(!0):S=Df(n),S){const x=ZW(t,g,nD(1),S);let F=Zk(Ie(x,t1(1)),w);if(F||(F=tl(Ie(x,t1(0))),F))return n1(e,F.position.toRange(),!1)}return y.length===0?r1(e,d).filter(d?s:r).map(x=>W0(e,x.toRange(),!1)):E.none()},r1=(e,t)=>{const n=e.selection.getRng(),r=t?V.fromRangeEnd(n):V.fromRangeStart(n),s=j8(r.container(),e.getBody());if(t){const i=$u(s,r);return el(i.positions)}else{const i=Lu(s,r);return $n(i.positions)}},sD=(e,t,n)=>r1(e,t).filter(n).exists(r=>(e.selection.setRng(r.toRange()),!0)),xd=(e,t)=>{const n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},lD=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},iD=(e,t,n)=>X0(t,n).map(r=>(xd(e,r),n)),JW=(e,t,n)=>{const r=V.fromRangeStart(e);if(e.collapsed)return r;{const s=V.fromRangeEnd(e);return n?Bn(t,s).getOr(s):Cn(t,r).getOr(r)}},eK=(e,t,n)=>{const r=e.getBody(),s=JW(e.selection.getRng(),r,n),i=ce(Nl,e);return TW(n,i,r,s).bind(f=>iD(e,t,f))},tK=(e,t,n)=>{const r=Je(mn(D.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),u=>u.dom),s=Ie(r,e),i=Ie(n,e);ee(Yc(s,i),ce(lD,!1)),ee(Yc(i,s),ce(lD,!0))},nK=(e,t)=>{const n=t.get();if(e.selection.isCollapsed()&&!e.composing&&n){const r=V.fromRangeStart(e.selection.getRng());V.isTextPosition(r)&&!G9(r)&&(xd(e,B8(n,r)),t.set(null))}},rK=(e,t,n,r)=>{if(t.selection.isCollapsed()){const s=Ie(r,e);ee(s,i=>{const u=V.fromRangeStart(t.selection.getRng());Ao(e,t.getBody(),u).bind(f=>iD(t,n,f))})}},aD=(e,t,n)=>fu(e)?eK(e,t,n).isSome():!1,uD=(e,t,n)=>fu(t)?OW(e,t):!1,oK=e=>{const t=Kt(null),n=ce(Nl,e);return e.on("NodeChange",r=>{fu(e)&&(tK(n,e.dom,r.parents),nK(e,t),rK(n,e,t,r.parents))}),t},sK=ce(uD,!0),lK=ce(uD,!1),kd=(e,t,n)=>{if(fu(e)){const r=r1(e,t).getOrThunk(()=>{const s=e.selection.getRng();return t?V.fromRangeEnd(s):V.fromRangeStart(s)});return Ao(ce(Nl,e),e.getBody(),r).exists(s=>{const i=Ad(s);return X0(n,i).exists(u=>(xd(e,u),!0))})}else return!1},iK=(e,t)=>{const n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},aK=e=>Dn(yn(e),_r(e),(t,n)=>{const r=mr(!0,t),s=mr(!1,n);return Cn(e,r).forall(i=>i.isEqual(s))}).getOr(!0),cD=(e,t)=>n=>X0(t,n).map(r=>()=>xd(e,r)),fD=(e,t,n,r)=>{const s=e.getBody(),i=ce(Nl,e);e.undoManager.ignore(()=>{e.selection.setRng(iK(n,r)),Wh(e),Ao(i,s,V.fromRangeStart(e.selection.getRng())).map(J0).bind(cD(e,t)).each(To)}),e.nodeChanged()},uK=(e,t)=>{const n=Cs(t,e);return n||e},cK=(e,t,n,r)=>{const s=uK(e.getBody(),r.container()),i=ce(Nl,e),u=Ao(i,s,r);return u.bind(d=>n?d.fold(K(E.some(J0(d))),E.none,K(E.some(Ad(d))),E.none):d.fold(E.none,K(E.some(Ad(d))),E.none,K(E.some(J0(d))))).map(cD(e,t)).getOrThunk(()=>{const d=Cu(n,s,r),g=d.bind(C=>Ao(i,s,C));return Dn(u,g,()=>ws(i,s,r).bind(C=>aK(C)?E.some(()=>{_l(e,n,D.fromDom(C))}):E.none())).getOrThunk(()=>g.bind(()=>d.map(C=>()=>{n?fD(e,t,r,C):fD(e,t,C,r)})))})},o1=(e,t,n)=>{if(e.selection.isCollapsed()&&fu(e)){const r=V.fromRangeStart(e.selection.getRng());return cK(e,t,n,r)}return E.none()},fK=e=>og(e)>1,dD=(e,t)=>{const n=D.fromDom(e.getBody()),r=D.fromDom(e.selection.getStart()),s=Vo(r,n);return Ta(s,t).fold(K(s),i=>s.slice(0,i))},dK=e=>og(e)===1,mK=e=>dD(e,t=>ir(t)||fK(t)),pK=e=>dD(e,ir),mD=(e,t)=>{const n=ce(F2,e);return lo(t,r=>n(r)?[r.dom]:[])},pD=e=>{const t=pK(e);return mD(e,t)},gK=(e,t,n,r)=>{const s=mD(t,r);if(s.length===0)_l(t,e,n);else{const i=B2(n.dom,s);t.selection.setRng(i.toRange())}},hK=(e,t)=>{const n=Ie(mK(e),dK);return el(n).bind(r=>{const s=V.fromRangeStart(e.selection.getRng());return r2(t,s,r.dom)&&!P2(r)?E.some(()=>gK(t,e,r,n)):E.none()})},vK=(e,t)=>{const n=t.parentElement;return St(t)&&!De(n)&&e.dom.isEmpty(n)},CK=e=>P2(D.fromDom(e)),gD=(e,t)=>{const n=e.selection.getStart(),r=vK(e,n)||CK(n)?B2(n,t):MM(e.selection.getRng(),t);e.selection.setRng(r.toRange())},yK=(e,t)=>{const n=Yc(t,pD(e));n.length>0&&gD(e,n)},hD=e=>ne(e.startContainer),EK=e=>e.startOffset===0&&hD(e),bK=(e,t)=>{const n=t.startContainer.parentElement;return!De(n)&&F2(e,D.fromDom(n))},AK=e=>{const t=e.startContainer.parentNode,n=e.endContainer.parentNode;return!De(t)&&!De(n)&&t.isEqualNode(n)},SK=e=>{const t=e.endContainer;return e.endOffset===(ne(t)?t.length:t.childNodes.length)},wK=e=>AK(e)&&SK(e),xK=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),kK=e=>wK(e)||xK(e),DK=e=>{const t=e.selection.getRng();return EK(t)&&bK(e,t)&&kK(t)},_K=e=>{if(DK(e)){const t=pD(e);return E.some(()=>{Wh(e),yK(e,t)})}else return E.none()},s1=(e,t)=>e.selection.isCollapsed()?hK(e,t):_K(e),NK=e=>AM(e,t=>Nr(t.dom),ir),BK=e=>NK(D.fromDom(e.selection.getStart())),FK=e=>{const t=e.selection.getRng();return t.collapsed&&(hD(t)||e.dom.isEmpty(t.startContainer))&&!BK(e)},zu=e=>(FK(e)&&gD(e,[]),!0),l1=(e,t,n)=>Z(n)?E.some(()=>{e._selectionOverrides.hideFakeCaret(),_l(e,t,D.fromDom(n))}):E.none(),PK=(e,t)=>{const n=t?xu:ku,r=t?qt.Forwards:qt.Backwards,s=vu(r,e.getBody(),e.selection.getRng());return n(s)?l1(e,t,s.getNode(!t)):E.from(mr(t,s)).filter(i=>n(i)&&Of(s,i)).bind(i=>l1(e,t,i.getNode(!t)))},TK=(e,t)=>{const n=e.selection.getNode();return mo(n)?l1(e,t,n):E.none()},i1=(e,t)=>e.selection.isCollapsed()?PK(e,t):TK(e,t),RK=e=>sl(e,t=>Ur(t.dom)||mt(t.dom)).exists(t=>Ur(t.dom)),a1=e=>ef(e??"").getOr(0),vD=(e,t)=>{const n=e||HO(t)?"margin":"padding",r=fo(t,"direction")==="rtl"?"-right":"-left";return n+r},OK=(e,t,n,r,s,i)=>{const u=vD(n,D.fromDom(i)),f=a1(e.getStyle(i,u));if(t==="outdent"){const d=Math.max(0,f-r);e.setStyle(i,u,d?d+s:"")}else{const d=f+r+s;e.setStyle(i,u,d)}},IK=(e,t)=>ss(t,n=>{const r=vD(FA(e),n),s=of(n,r).map(a1).getOr(0);return e.dom.getContentEditable(n.dom)!=="false"&&s>0}),CD=e=>{const t=ED(e);return!e.mode.isReadOnly()&&(t.length>1||IK(e,t))},yD=e=>pg(e)||Ya(e),LK=e=>kr(e).exists(yD),ED=e=>Ie(ig(e.selection.getSelectedBlocks()),t=>!yD(t)&&!LK(t)&&RK(t)),bD=(e,t)=>{var n,r;const{dom:s}=e,i=b7(e),u=(r=(n=/[a-z%]+$/i.exec(i))===null||n===void 0?void 0:n[0])!==null&&r!==void 0?r:"px",f=a1(i),d=FA(e);ee(ED(e),g=>{OK(s,t,d,f,u,g.dom)})},$K=e=>bD(e,"indent"),AD=e=>bD(e,"outdent"),SD=e=>{if(e.selection.isCollapsed()&&CD(e)){const t=e.dom,n=e.selection.getRng(),r=V.fromRangeStart(n),s=t.getParent(n.startContainer,t.isBlock);if(s!==null&&$h(D.fromDom(s),r))return E.some(()=>AD(e))}return E.none()},wD=(e,t,n)=>li([SD,Y0,K0,(r,s)=>o1(r,t,s),H0,e0,Q0,i1,V0,s1],r=>r(e,n)).filter(r=>e.selection.isEditable()),MK=(e,t)=>{wD(e,t,!1).fold(()=>{Wh(e),Kh(e)},To)},zK=(e,t)=>{wD(e,t,!0).fold(()=>Q9(e),To)},UK=(e,t)=>{e.addCommand("delete",()=>{MK(e,t)}),e.addCommand("forwardDelete",()=>{zK(e,t)})},xD=5,jK=400,kD=e=>e.touches===void 0||e.touches.length!==1?E.none():E.some(e.touches[0]),HK=(e,t)=>{const n=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return n>xD||r>xD},VK=e=>{const t=gs(),n=Kt(!1),r=Rg(s=>{e.dispatch("longpress",{...s,type:"longpress"}),n.set(!0)},jK);e.on("touchstart",s=>{kD(s).each(i=>{r.cancel();const u={x:i.clientX,y:i.clientY,target:s.target};r.throttle(s),n.set(!1),t.set(u)})},!0),e.on("touchmove",s=>{r.cancel(),kD(s).each(i=>{t.on(u=>{HK(i,u)&&(t.clear(),n.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",s=>{r.cancel(),s.type!=="touchcancel"&&t.get().filter(i=>i.target.isEqualNode(s.target)).each(()=>{n.get()?s.preventDefault():e.dispatch("tap",{...s,type:"tap"})})},!0)},u1=(e,t)=>ze(e,t.nodeName),WK=(e,t)=>ne(t)?!0:me(t)?!u1(e.getBlockElements(),t)&&!cr(t)&&!dl(e,t):!1,KK=(e,t,n)=>Bt(Rw(D.fromDom(n),D.fromDom(t)),r=>u1(e,r.dom)),qK=(e,t)=>{if(ne(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data)&&(!t.nextSibling||u1(e,t.nextSibling)))return!0}return!1},DD=e=>e.dom.create(Nn(e),cu(e)),GK=e=>{const t=e.dom,n=e.selection,r=e.schema,s=r.getBlockElements(),i=n.getStart(),u=e.getBody();let f,d,g=!1;const C=Nn(e);if(!i||!me(i))return;const v=u.nodeName.toLowerCase();if(!r.isValidChild(v,C.toLowerCase())||KK(s,u,i))return;const y=n.getRng(),{startContainer:w,startOffset:k,endContainer:S,endOffset:x}=y,F=Dl(e);let P=u.firstChild;for(;P;)if(me(P)&&x3(r,P),WK(r,P)){if(qK(s,P)){d=P,P=P.nextSibling,t.remove(d);continue}f||(f=DD(e),u.insertBefore(f,P),g=!0),d=P,P=P.nextSibling,f.appendChild(d)}else f=null,P=P.nextSibling;g&&F&&(y.setStart(w,k),y.setEnd(S,x),n.setRng(y),e.nodeChanged())},_D=(e,t,n)=>{const r=D.fromDom(DD(e)),s=pf();Ft(r,s),n(t,r);const i=document.createRange();return i.setStartBefore(s.dom),i.setEndBefore(s.dom),i},YK=e=>{e.on("NodeChange",ce(GK,e))},ND=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,QK=(e,t,n)=>function(r){const s=arguments,i=s[s.length-2],u=i>0?t.charAt(i-1):"";if(u==='"')return r;if(u===">"){const f=t.lastIndexOf("<",i);if(f!==-1&&t.substring(f,i).indexOf('contenteditable="false"')!==-1)return r}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(s[0])+'">'+e.dom.encode(typeof s[1]=="string"?s[1]:s[0])+"</span>"},XK=(e,t,n)=>{let r=t.length,s=n.content;if(n.format!=="raw"){for(;r--;)s=s.replace(t[r],QK(e,s,$A(e)));n.content=s}},ZK=e=>{const t="contenteditable",n=" "+le.trim(m8(e))+" ",r=" "+le.trim($A(e))+" ",s=ND(n),i=ND(r),u=p8(e);u.length>0&&e.on("BeforeSetContent",f=>{XK(e,u,f)}),e.parser.addAttributeFilter("class",f=>{let d=f.length;for(;d--;){const g=f[d];s(g)?g.attr(t,"true"):i(g)&&g.attr(t,"false")}}),e.serializer.addAttributeFilter(t,f=>{let d=f.length;for(;d--;){const g=f[d];!s(g)&&!i(g)||(u.length>0&&g.attr("data-mce-content")?(g.name="#text",g.type=3,g.raw=!0,g.value=g.attr("data-mce-content")):g.attr(t,null))}})},JK=e=>Wa(D.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),BD=(e,t)=>{t.hasAttribute("data-mce-caret")&&(vg(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},eq=(e,t)=>{const n=JK(e);if(n){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),BD(e,n);return}cb(n)&&(BD(e,n),e.undoManager.add())}},tq=e=>{e.on("keyup compositionstart",ce(eq,e))},FD=mt,nq=(e,t,n)=>rD(t,e,n,As,Ss,FD),rq=(e,t,n)=>oD(t,e,n,i=>As(i)||Pw(i),i=>Ss(i)||Tw(i),FD),oq=e=>{const t=e.dom.create(Nn(e));return t.innerHTML='<br data-mce-bogus="1">',t},PD=(e,t,n)=>{const r=vo(e.getBody()),s=ce(Zg,t===1?r.next:r.prev);if(n.collapsed){const i=e.dom.getParent(n.startContainer,"PRE");if(!i)return;if(!s(V.fromRangeStart(n))){const f=D.fromDom(oq(e));t===1?as(D.fromDom(i),f):Gn(D.fromDom(i),f),e.selection.select(f.dom,!0),e.selection.collapse()}}},sq=(e,t)=>{const n=t?qt.Forwards:qt.Backwards,r=e.selection.getRng();return nq(n,e,r).orThunk(()=>(PD(e,n,r),E.none()))},lq=(e,t)=>{const n=t?1:-1,r=e.selection.getRng();return rq(n,e,r).orThunk(()=>(PD(e,n,r),E.none()))},iq=(e,t)=>{const n=t?e.getEnd(!0):e.getStart(!0);return Jw(n)?!t:t},TD=(e,t)=>sq(e,iq(e.selection,t)).exists(n=>(Ko(e,n),!0)),RD=(e,t)=>lq(e,t).exists(n=>(Ko(e,n),!0)),OD=(e,t)=>sD(e,t,t?Ss:As),Dd=(e,t)=>q0(e,!t).map(n=>{const r=n.toRange(),s=e.selection.getRng();return t?r.setStart(s.startContainer,s.startOffset):r.setEnd(s.endContainer,s.endOffset),r}).exists(n=>(Ko(e,n),!0)),aq=e=>ot(["figcaption"],dt(e)),uq=(e,t)=>{const n=ce(et,t);return sl(D.fromDom(e.container()),ir,n).filter(aq)},cq=(e,t,n)=>t?MW(e.dom,n):$W(e.dom,n),fq=(e,t)=>{const n=D.fromDom(e.getBody()),r=V.fromRangeStart(e.selection.getRng());return uq(r,n).exists(()=>{if(cq(n,t,r)){const i=_D(e,n,t?Ft:YE);return e.selection.setRng(i),!0}else return!1})},ID=(e,t)=>e.selection.isCollapsed()?fq(e,t):!1,LD={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},dq=e=>Je(e,t=>({...LD,...t})),mq=e=>Je(e,t=>({...LD,...t})),$D=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,pq=(e,t)=>lo(dq(e),n=>$D(n,t)?[n]:[]),gq=(e,t)=>lo(mq(e),n=>$D(n,t)?[n]:[]),Le=(e,...t)=>()=>e.apply(null,t),Uu=(e,t)=>zt(pq(e,t),n=>n.action()),MD=(e,t)=>li(gq(e,t),n=>n.action()),zD=(e,t)=>{const n=t?qt.Forwards:qt.Backwards,r=e.selection.getRng();return rD(e,n,r,xu,ku,mo).exists(s=>(Ko(e,s),!0))},UD=(e,t)=>{const n=t?1:-1,r=e.selection.getRng();return oD(e,n,r,xu,ku,mo).exists(s=>(Ko(e,s),!0))},jD=(e,t)=>sD(e,t,t?ku:xu),HD=po.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),ju={...HD,none:e=>HD.none(e)},hq=(e,t)=>VD(e,t,yt),VD=(e,t,n)=>lo(on(e),r=>Mr(r,t)?n(r)?[r]:[]:VD(r,t,n)),vq=(e,t,n=rt)=>{if(n(t))return E.none();if(ot(e,dt(t)))return E.some(t);const r=s=>Mr(s,"table")||n(s);return Va(t,e.join(","),r)},Cq=(e,t)=>vq(["td","th"],e,t),yq=e=>hq(e,"th,td"),WD=(e,t)=>ll(e,"table",t),c1=(e,t,n,r,s=yt)=>{const i=r===1;if(!i&&n<=0)return ju.first(e[0]);if(i&&n>=e.length-1)return ju.last(e[e.length-1]);{const u=n+r,f=e[u];return s(f)?ju.middle(t,f):c1(e,t,u,r,s)}},KD=(e,t)=>WD(e,t).bind(n=>{const r=yq(n);return Ta(r,i=>et(e,i)).map(i=>({index:i,all:r}))}),Eq=(e,t,n)=>KD(e,n).fold(()=>ju.none(e),s=>c1(s.all,e,s.index,1,t)),bq=(e,t,n)=>KD(e,n).fold(()=>ju.none(),s=>c1(s.all,e,s.index,-1,t)),Aq=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),Sq=(e,t)=>lo(t,n=>{const r=Aq(Cl(n.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:n},{x:r.right,y:e(r),cell:n}]}),wq=(e,t,n)=>Kn(e,(r,s)=>r.fold(()=>E.some(s),i=>{const u=Math.sqrt(Math.abs(i.x-t)+Math.abs(i.y-n)),f=Math.sqrt(Math.abs(s.x-t)+Math.abs(s.y-n));return E.some(f<u?s:i)}),E.none()),qD=(e,t,n,r,s)=>{const i=mn(D.fromDom(n),"td,th,caption").map(f=>f.dom),u=Ie(Sq(e,i),f=>t(f,s));return wq(u,r,s).map(f=>f.cell)},xq=e=>e.bottom,kq=e=>e.top,Dq=(e,t)=>e.y<t,_q=(e,t)=>e.y>t,Nq=ce(qD,xq,Dq),Bq=ce(qD,kq,_q),Fq=(e,t)=>$n(t.getClientRects()).bind(n=>Nq(e,n.left,n.top)).bind(n=>wd(UW(n),t)),Pq=(e,t)=>el(t.getClientRects()).bind(n=>Bq(e,n.left,n.top)).bind(n=>wd(zW(n),t)),Tq=(e,t,n)=>n.breakAt.exists(r=>e(t,r).breakAt.isSome()),Rq=e=>e.breakType===So.Wrap&&e.positions.length===0,Oq=e=>e.breakType===So.Br&&e.positions.length===1,GD=(e,t,n)=>{const r=e(t,n);return Rq(r)||!St(n.getNode())&&Oq(r)?!Tq(e,t,r):r.breakAt.isNone()},Iq=ce(GD,Lu),Lq=ce(GD,$u),$q=(e,t,n)=>{const r=V.fromRangeStart(t);return _i(!e,n).exists(s=>s.isEqual(r))},Mq=(e,t,n,r)=>{const s=e.selection.getRng(),i=t?1:-1;return KA()&&$q(t,s,n)?(Wo(i,e,n,!t,!1).each(u=>{Ko(e,u)}),!0):!1},zq=(e,t,n)=>Fq(t,n).orThunk(()=>$n(n.getClientRects()).bind(r=>e1(Gk(e,V.before(t)),r.left))).getOr(V.before(t)),Uq=(e,t,n)=>Pq(t,n).orThunk(()=>$n(n.getClientRects()).bind(r=>e1(Yk(e,V.after(t)),r.left))).getOr(V.after(t)),YD=(e,t)=>{const n=t.getNode(e);return zo(n)?E.some(n):E.none()},jq=(e,t,n)=>{t.undoManager.transact(()=>{const r=e?as:Gn,s=_D(t,D.fromDom(n),r);Ko(t,s)})},QD=(e,t,n)=>{const r=YD(!!t,n),s=t===!1;r.fold(()=>Ko(e,n.toRange()),i=>_i(s,e.getBody()).filter(u=>u.isEqual(n)).fold(()=>Ko(e,n.toRange()),u=>jq(t,e,i)))},Hq=(e,t,n,r)=>{const s=e.selection.getRng(),i=V.fromRangeStart(s),u=e.getBody();if(!t&&Iq(r,i)){const f=zq(u,n,i);return QD(e,t,f),!0}else if(t&&Lq(r,i)){const f=Uq(u,n,i);return QD(e,t,f),!0}else return!1},XD=(e,t,n)=>E.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>E.from(e.dom.getParent(r,"table")).map(s=>n(e,t,s,r))).getOr(!1),ZD=(e,t)=>XD(e,t,Mq),JD=(e,t)=>XD(e,t,Hq),Vq=e=>{const t=Ti.exact(e,0,e,0);return TL(t)},e_=(e,t,n)=>n.fold(E.none,E.none,(r,s)=>z5(s).map(i=>Vq(i)),r=>(e.execCommand("mceTableInsertRowAfter"),t_(e,t,r))),t_=(e,t,n)=>e_(e,t,Eq(n,gi)),Wq=(e,t,n)=>e_(e,t,bq(n,gi)),n_=(e,t)=>{const n=["table","li","dl"],r=D.fromDom(e.getBody()),s=f=>{const d=dt(f);return et(f,r)||ot(n,d)},i=e.selection.getRng(),u=D.fromDom(t?i.endContainer:i.startContainer);return Cq(u,s).map(f=>(WD(f,s).each(C=>{e.model.table.clearSelectedCells(C.dom)}),e.selection.collapse(!t),(t?t_:Wq)(e,s,f).each(C=>{e.selection.setRng(C)}),!0)).getOr(!1)},Kq=(e,t,n)=>{const r=Qe.os.isMacOS()||Qe.os.isiOS();Uu([{keyCode:he.RIGHT,action:Le(TD,e,!0)},{keyCode:he.LEFT,action:Le(TD,e,!1)},{keyCode:he.UP,action:Le(RD,e,!1)},{keyCode:he.DOWN,action:Le(RD,e,!0)},...r?[{keyCode:he.UP,action:Le(Dd,e,!1),metaKey:!0,shiftKey:!0},{keyCode:he.DOWN,action:Le(Dd,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:he.RIGHT,action:Le(ZD,e,!0)},{keyCode:he.LEFT,action:Le(ZD,e,!1)},{keyCode:he.UP,action:Le(JD,e,!1)},{keyCode:he.DOWN,action:Le(JD,e,!0)},{keyCode:he.RIGHT,action:Le(zD,e,!0)},{keyCode:he.LEFT,action:Le(zD,e,!1)},{keyCode:he.UP,action:Le(UD,e,!1)},{keyCode:he.DOWN,action:Le(UD,e,!0)},{keyCode:he.RIGHT,action:Le(aD,e,t,!0)},{keyCode:he.LEFT,action:Le(aD,e,t,!1)},{keyCode:he.RIGHT,ctrlKey:!r,altKey:r,action:Le(sK,e,t)},{keyCode:he.LEFT,ctrlKey:!r,altKey:r,action:Le(lK,e,t)},{keyCode:he.UP,action:Le(ID,e,!1)},{keyCode:he.DOWN,action:Le(ID,e,!0)}],n).each(s=>{n.preventDefault()})},qq=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||Kq(e,t,n)})},qr=(e,t)=>({container:e,offset:t}),_d=lt.DOM,Nd=e=>t=>e===t?-1:0,Gq=e=>t=>e.isBlock(t)||ot(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",f1=(e,t,n)=>{if(ne(e)&&t>=0)return E.some(qr(e,t));{const r=vl(_d);return E.from(r.backwards(e,t,Nd(e),n)).map(s=>qr(s.container,s.container.data.length))}},Yq=(e,t,n)=>{if(ne(e)&&t>=e.length)return E.some(qr(e,t));{const r=vl(_d);return E.from(r.forwards(e,t,Nd(e),n)).map(s=>qr(s.container,0))}},d1=(e,t,n)=>{if(!ne(e))return E.none();const r=e.data;if(t>=0&&t<=r.length)return E.some(qr(e,t));{const s=vl(_d);return E.from(s.backwards(e,t,Nd(e),n)).bind(i=>{const u=i.container.data;return d1(i.container,t+u.length,n)})}},r_=(e,t,n)=>{if(!ne(e))return E.none();const r=e.data;if(t<=r.length)return E.some(qr(e,t));{const s=vl(_d);return E.from(s.forwards(e,t,Nd(e),n)).bind(i=>r_(i.container,t-r.length,n))}},m1=(e,t,n,r,s)=>{const i=vl(e,Gq(e));return E.from(i.backwards(t,n,r,s))},Qq=e=>e.collapsed&&ne(e.startContainer),o_=e=>Uo(e.toString().replace(/\u00A0/g," ")),s_=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,p1=(e,t)=>e.substring(t.length),Xq=(e,t,n)=>{let r;const s=n.charAt(0);for(r=t-1;r>=0;r--){const i=e.charAt(r);if(s_(i))return E.none();if(s===i&&dn(e,n,r,t))break}return E.some(r)},Zq=(e,t,n,r=0)=>{if(!Qq(t))return E.none();const s={text:"",offset:0},i=(f,d,g)=>(s.text=g+s.text,s.offset+=d,Xq(s.text,s.offset,n).getOr(d)),u=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return m1(e,t.startContainer,t.startOffset,i,u).bind(f=>{const d=t.cloneRange();if(d.setStart(f.container,f.offset),d.setEnd(t.endContainer,t.endOffset),d.collapsed)return E.none();const g=o_(d);return g.lastIndexOf(n)!==0||p1(g,n).length<r?E.none():E.some({text:p1(g,n),range:d,trigger:n})})},l_=(e,t,n,r=0)=>V5(D.fromDom(t.startContainer)).fold(()=>Zq(e,t,n,r),s=>{const i=e.createRng();i.selectNode(s.dom);const u=o_(i);return E.some({range:i,text:p1(u,n),trigger:n})}),Jq=e=>e.nodeType===DE,eG=e=>e.nodeType===Ma,i_=e=>{if(Jq(e))return qr(e,e.data.length);{const t=e.childNodes;return t.length>0?i_(t[t.length-1]):qr(e,t.length)}},a_=(e,t)=>{const n=e.childNodes;return n.length>0&&t<n.length?a_(n[t],0):n.length>0&&eG(e)&&n.length===t?i_(n[n.length-1]):qr(e,t)},tG=(e,t)=>{var n;const r=(n=e.getParent(t.container,e.isBlock))!==null&&n!==void 0?n:e.getRoot();return m1(e,t.container,t.offset,(s,i)=>i===0?-1:i,r).filter(s=>{const i=s.container.data.charAt(s.offset-1);return!s_(i)}).isSome()},nG=e=>t=>{const n=a_(t.startContainer,t.startOffset);return!tG(e,n)},rG=(e,t,n)=>li(n.triggers,r=>l_(e,t,r)),oG=(e,t)=>{const n=t(),r=e.selection.getRng();return rG(e.dom,r,n).bind(s=>u_(e,t,s))},u_=(e,t,n,r={})=>{var s;const i=t(),f=(s=e.selection.getRng().startContainer.nodeValue)!==null&&s!==void 0?s:"",d=Ie(i.lookupByTrigger(n.trigger),C=>n.text.length>=C.minChars&&C.matches.getOrThunk(()=>nG(e.dom))(n.range,f,n.text));if(d.length===0)return E.none();const g=Promise.all(Je(d,C=>C.fetch(n.text,C.maxResults,r).then(y=>({matchText:n.text,items:y,columns:C.columns,onAction:C.onAction,highlightOn:C.highlightOn}))));return E.some({lookupData:g,context:n})};var Gr;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Gr||(Gr={}));const g1=(e,t,n)=>e.stype===Gr.Error?t(e.serror):n(e.svalue),sG=e=>{const t=[],n=[];return ee(e,r=>{g1(r,s=>n.push(s),s=>t.push(s))}),{values:t,errors:n}},lG=(e,t)=>e.stype===Gr.Error?{stype:Gr.Error,serror:t(e.serror)}:e,iG=(e,t)=>e.stype===Gr.Value?{stype:Gr.Value,svalue:t(e.svalue)}:e,aG=(e,t)=>e.stype===Gr.Value?t(e.svalue):e,uG=(e,t)=>e.stype===Gr.Error?t(e.serror):e,c_=e=>({stype:Gr.Value,svalue:e}),f_=e=>({stype:Gr.Error,serror:e}),Xt={fromResult:e=>e.fold(f_,c_),toResult:e=>g1(e,_n.error,_n.value),svalue:c_,partition:sG,serror:f_,bind:aG,bindError:uG,map:iG,mapError:lG,fold:g1},h1=e=>G(e)&&qn(e).length>100?" removed due to size":JSON.stringify(e,null,2),cG=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:K("... (only showing first ten failures)")}]):e;return Je(t,n=>"Failed path: ("+n.path.join(" > ")+`)
`+n.getErrorInfo())},Bd=(e,t)=>Xt.serror([{path:e,getErrorInfo:t}]),fG=(e,t,n)=>Bd(e,()=>'Could not find valid *required* value for "'+t+'" in '+h1(n)),dG=(e,t)=>Bd(e,()=>'Choice schema did not contain choice key: "'+t+'"'),mG=(e,t,n)=>Bd(e,()=>'The chosen schema: "'+n+'" did not exist in branches: '+h1(t)),pG=(e,t)=>Bd(e,K(t)),gG=(e,t,n,r)=>pt(n,r).fold(()=>mG(e,n,r),i=>i.extract(e.concat(["branch: "+r]),t)),hG=(e,t)=>({extract:(s,i)=>pt(i,e).fold(()=>dG(s,e),f=>gG(s,i,t,f)),toString:()=>"chooseOn("+e+"). Possible values: "+qn(t)}),vG=(e,t)=>t,CG=(e,t)=>xe(e)&&xe(t)?Fd(e,t):t,d_=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const n={};for(let r=0;r<t.length;r++){const s=t[r];for(const i in s)ze(s,i)&&(n[i]=e(n[i],s[i]))}return n},Fd=d_(CG),yG=d_(vG),m_=()=>({tag:"required",process:{}}),EG=e=>({tag:"defaultedThunk",process:e}),p_=e=>EG(K(e)),bG=()=>({tag:"option",process:{}}),AG=(e,t)=>e.length>0?Xt.svalue(Fd(t,yG.apply(void 0,e))):Xt.svalue(t),g_=e=>or(Xt.serror,Ky)(e),SG={consolidateObj:(e,t)=>{const n=Xt.partition(e);return n.errors.length>0?g_(n.errors):AG(n.values,t)},consolidateArr:e=>{const t=Xt.partition(e);return t.errors.length>0?g_(t.errors):Xt.svalue(t.values)}},wG=(e,t,n,r)=>({tag:"field",key:e,newKey:t,presence:n,prop:r}),xG=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),h_=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},v1=e=>{const t=(r,s)=>Xt.bindError(e(s),i=>pG(r,i)),n=K("val");return{extract:t,toString:n}},kG=v1(Xt.svalue),DG=(e,t,n,r)=>pt(t,n).fold(()=>fG(e,n,t),r),v_=(e,t,n,r)=>{const s=pt(e,t).getOrThunk(()=>n(e));return r(s)},_G=(e,t,n)=>n(pt(e,t)),NG=(e,t,n,r)=>{const s=pt(e,t).map(i=>i===!0?n(e):i);return r(s)},BG=(e,t,n,r,s)=>{const i=f=>s.extract(t.concat([r]),f),u=f=>f.fold(()=>Xt.svalue(E.none()),d=>{const g=s.extract(t.concat([r]),d);return Xt.map(g,E.some)});switch(e.tag){case"required":return DG(t,n,r,i);case"defaultedThunk":return v_(n,r,e.process,i);case"option":return _G(n,r,u);case"defaultedOptionThunk":return NG(n,r,e.process,u);case"mergeWithThunk":return v_(n,r,K({}),f=>{const d=Fd(e.process(n),f);return i(d)})}},FG=(e,t,n)=>{const r={},s=[];for(const i of n)h_(i,(u,f,d,g)=>{const C=BG(d,e,t,u,g);Xt.fold(C,v=>{s.push(...v)},v=>{r[f]=v})},(u,f)=>{r[u]=f(t)});return s.length>0?Xt.serror(s):Xt.svalue(r)},C1=e=>({extract:(r,s)=>FG(r,s,e),toString:()=>`obj{
`+Je(e,s=>h_(s,(i,u,f,d)=>i+" -> "+d.toString(),(i,u)=>"state("+i+")")).join(`
`)+"}"}),C_=e=>({extract:(r,s)=>{const i=Je(s,(u,f)=>e.extract(r.concat(["["+f+"]"]),u));return SG.consolidateArr(i)},toString:()=>"array("+e.toString()+")"}),PG=e=>v1(t=>e(t).fold(Xt.serror,Xt.svalue)),TG=(e,t,n)=>{const r=t.extract([e],n);return Xt.mapError(r,s=>({input:n,errors:s}))},RG=(e,t,n)=>Xt.toResult(TG(e,t,n)),OG=e=>`Errors: 
`+cG(e.errors).join(`
`)+`

Input object: `+h1(e.input),y_=(e,t)=>hG(e,Xc(t,C1)),IG=K(kG),Pd=(e,t)=>v1(n=>{const r=typeof n;return e(n)?Xt.svalue(n):Xt.serror(`Expected type: ${t} but got: ${r}`)}),LG=Pd(Ot,"number"),Td=Pd(N,"string"),$G=Pd(_e,"boolean"),y1=Pd(je,"function"),Hu=wG,E_=xG,MG=e=>PG(t=>ot(e,t)?_n.value(t):_n.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)),b_=(e,t)=>Hu(e,e,m_(),t),A_=e=>b_(e,Td),S_=e=>b_(e,y1),zG=(e,t)=>Hu(e,e,m_(),C_(t)),E1=(e,t)=>Hu(e,e,bG(),t),Rd=e=>E1(e,Td),UG=e=>E1(e,y1),jG=(e,t)=>Hu(e,e,p_(t),IG()),Ui=(e,t,n)=>Hu(e,e,p_(t),n),w_=(e,t)=>Ui(e,t,LG),HG=(e,t)=>Ui(e,t,Td),x_=(e,t,n)=>Ui(e,t,MG(n)),b1=(e,t)=>Ui(e,t,$G),A1=(e,t)=>Ui(e,t,y1),VG=(e,t,n)=>Ui(e,t,C_(n)),WG=A_("type"),KG=S_("fetch"),S1=S_("onAction"),qG=A1("onSetup",()=>$e),GG=Rd("text"),YG=Rd("icon"),QG=Rd("tooltip"),XG=Rd("label"),ZG=b1("active",!1),JG=b1("enabled",!0),k_=b1("primary",!1),eY=e=>jG("columns",e),Vu=e=>HG("type",e),tY=C1([WG,A_("trigger"),w_("minChars",1),eY(1),w_("maxResults",10),UG("matches"),KG,S1,VG("highlightOn",[],Td)]),nY=e=>RG("Autocompleter",tY,{trigger:e.ch,...e}),w1=[JG,QG,YG,GG,qG],D_=[ZG].concat(w1),rY=[A1("predicate",rt),x_("scope","node",["node","editor"]),x_("position","selection",["node","selection","line"])],oY=w1.concat([Vu("contextformbutton"),k_,S1,E_("original",Me)]),sY=D_.concat([Vu("contextformbutton"),k_,S1,E_("original",Me)]),lY=w1.concat([Vu("contextformbutton")]),iY=D_.concat([Vu("contextformtogglebutton")]),aY=y_("type",{contextformbutton:oY,contextformtogglebutton:sY});C1([Vu("contextform"),A1("initValue",K("")),XG,zG("commands",aY),E1("launch",y_("type",{contextformbutton:lY,contextformtogglebutton:iY}))].concat(rY));const uY=e=>{const t=e.ui.registry.getAll().popups,n=Xc(t,u=>nY(u).fold(f=>{throw new Error(OG(f))},Me)),r=Gy(jp(n,u=>u.trigger)),s=Hp(n);return{dataset:n,triggers:r,lookupByTrigger:u=>Ie(s,f=>f.trigger===u)}},cY=(e,t)=>{const n=Rg(t.load,50);e.on("keypress compositionend",r=>{r.which!==27&&n.throttle()}),e.on("keydown",r=>{const s=r.which;s===8?n.throttle():s===27&&t.cancelIfNecessary()}),e.on("remove",n.cancel)},fY=e=>{const t=gs(),n=Kt(!1),r=t.isSet,s=()=>{r()&&(Gj(e),oL(e),n.set(!1),t.clear())},i=g=>{r()||(qj(e,g.range),t.set({trigger:g.trigger,matchLength:g.text.length}))},u=nl(()=>uY(e)),f=g=>t.get().map(C=>l_(e.dom,e.selection.getRng(),C.trigger).bind(v=>u_(e,u,v,g))).getOrThunk(()=>oG(e,u)),d=g=>{f(g).fold(s,C=>{i(C.context),C.lookupData.then(v=>{t.get().map(y=>{const w=C.context;y.trigger===w.trigger&&(w.text.length-y.matchLength>=10?s():(t.set({...y,matchLength:w.text.length}),n.get()?rL(e,{lookupData:v}):(n.set(!0),nL(e,{lookupData:v}))))})})})};e.addCommand("mceAutocompleterReload",(g,C)=>{const v=G(C)?C.fetchOptions:{};d(v)}),e.addCommand("mceAutocompleterClose",s),cY(e,{cancelIfNecessary:s,load:d})},__=e=>(t,n,r={})=>{const s=t.getBody(),i={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:s,currentTarget:s,eventPhase:Event.AT_TARGET,originalTarget:s,explicitOriginalTarget:s,isTrusted:!1,srcElement:s,cancelable:!1,preventDefault:$e,inputType:n},u=Tb(new InputEvent(e));return t.dispatch(e,{...u,...i,...r})},Od=__("input"),Id=__("beforeinput"),dY=(e,t,n)=>{const r=n.keyCode===he.BACKSPACE?"deleteContentBackward":"deleteContentForward";MD([{keyCode:he.BACKSPACE,action:Le(SD,e)},{keyCode:he.BACKSPACE,action:Le(Y0,e,!1)},{keyCode:he.DELETE,action:Le(Y0,e,!0)},{keyCode:he.BACKSPACE,action:Le(K0,e,!1)},{keyCode:he.DELETE,action:Le(K0,e,!0)},{keyCode:he.BACKSPACE,action:Le(o1,e,t,!1)},{keyCode:he.DELETE,action:Le(o1,e,t,!0)},{keyCode:he.BACKSPACE,action:Le(e0,e,!1)},{keyCode:he.DELETE,action:Le(e0,e,!0)},{keyCode:he.BACKSPACE,action:Le(Q0,e,!1)},{keyCode:he.DELETE,action:Le(Q0,e,!0)},{keyCode:he.BACKSPACE,action:Le(i1,e,!1)},{keyCode:he.DELETE,action:Le(i1,e,!0)},{keyCode:he.BACKSPACE,action:Le(V0,e,!1)},{keyCode:he.DELETE,action:Le(V0,e,!0)},{keyCode:he.BACKSPACE,action:Le(H0,e,!1)},{keyCode:he.DELETE,action:Le(H0,e,!0)},{keyCode:he.BACKSPACE,action:Le(s1,e,!1)},{keyCode:he.DELETE,action:Le(s1,e,!0)}],n).filter(s=>e.selection.isEditable()).each(s=>{n.preventDefault(),Id(e,r).isDefaultPrevented()||(s(),Od(e,r))})},mY=(e,t,n)=>{const r=ao(),s=r.os,i=r.browser,u=s.isMacOS()?[{keyCode:he.BACKSPACE,altKey:!0,action:Le(zu,e)},{keyCode:he.DELETE,altKey:!0,action:Le(zu,e)}]:[{keyCode:he.BACKSPACE,ctrlKey:!0,action:Le(zu,e)},{keyCode:he.DELETE,ctrlKey:!0,action:Le(zu,e)}];s.isMacOS()&&n&&u.push({keyCode:i.isFirefox()?224:91,action:Le(zu,e)}),Uu([{keyCode:he.BACKSPACE,action:Le(Rk,e)},{keyCode:he.DELETE,action:Le(Rk,e)},...u],t)},pY=(e,t)=>{let n=!1;e.on("keydown",r=>{n=r.keyCode===he.BACKSPACE,r.isDefaultPrevented()||dY(e,t,r)}),e.on("keyup",r=>{r.isDefaultPrevented()||mY(e,r,n),n=!1})},gY=e=>{for(;e;){if(me(e)||ne(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},ji=(e,t)=>{const n=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const i=gY(t.firstChild);i&&/^(UL|OL|DL)$/.test(i.nodeName)&&t.insertBefore(n.doc.createTextNode(Wt),t.firstChild)}const s=n.createRng();if(t.normalize(),t.hasChildNodes()){const i=new Ut(t,t);let u=t,f;for(;f=i.current();){if(ne(f)){s.setStart(f,0),s.setEnd(f,0);break}if(r[f.nodeName.toLowerCase()]){s.setStartBefore(f),s.setEndBefore(f);break}u=f,f=i.next()}f||(s.setStart(u,0),s.setEnd(u,0))}else St(t)?t.nextSibling&&n.isBlock(t.nextSibling)?(s.setStartBefore(t),s.setEndBefore(t)):(s.setStartAfter(t),s.setEndAfter(t)):(s.setStart(t,0),s.setEnd(t,0));e.selection.setRng(s),wu(e,s)},Ld=(e,t)=>{const n=e.getRoot();let r,s=t;for(;s!==n&&s&&e.getContentEditable(s)!=="false";)e.getContentEditable(s)==="true"&&(r=s),s=s.parentNode;return s!==n?r:n},x1=e=>E.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),hY=e=>x1(e).fold(K(""),t=>t.nodeName.toUpperCase()),vY=e=>x1(e).filter(t=>Ya(D.fromDom(t))).isSome(),CY=(e,t)=>e.dom.getParent(t,ib),yY=(e,t,n)=>{let r=t;for(;r&&r!==e&&De(r.nextSibling);){const s=r.parentElement;if(!s||!n(s))return ib(s);r=s}return!1},EY=(e,t,n)=>!t&&n.nodeName.toLowerCase()===Nn(e)&&e.dom.isEmpty(n)&&yY(e.getBody(),n,r=>ze(e.schema.getTextBlockElements(),r.nodeName.toLowerCase())),bY=(e,t,n)=>{var r,s,i;const u=t(Nn(e)),f=CY(e,n);f&&(e.dom.insertAfter(u,f),ji(e,u),((i=(s=(r=n.parentElement)===null||r===void 0?void 0:r.childNodes)===null||s===void 0?void 0:s.length)!==null&&i!==void 0?i:0)>1&&e.dom.remove(n))},AY=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,SY=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},N_=(e,t)=>{const n=e==null?void 0:e.parentNode;return Z(n)&&n.nodeName===t},B_=e=>Z(e)&&/^(OL|UL|LI)$/.test(e.nodeName),wY=e=>Z(e)&&/^(LI|DT|DD)$/.test(e.nodeName),xY=e=>B_(e)&&B_(e.parentNode),$d=e=>{const t=e.parentNode;return wY(t)?t:e},Md=(e,t,n)=>{let r=e[n?"firstChild":"lastChild"];for(;r&&!me(r);)r=r[n?"nextSibling":"previousSibling"];return r===t},kY=(e,t,n,r,s)=>{const i=e.dom,u=e.selection.getRng(),f=n.parentNode;if(n===e.getBody()||!f)return;xY(n)&&(s="LI");let d=t(s);if(Md(n,r,!0)&&Md(n,r,!1))if(N_(n,"LI")){const g=$d(n);i.insertAfter(d,g),SY(n)?i.remove(g):i.remove(n)}else i.replace(d,n);else if(Md(n,r,!0))N_(n,"LI")?(i.insertAfter(d,$d(n)),d.appendChild(i.doc.createTextNode(" ")),d.appendChild(n)):f.insertBefore(d,n),i.remove(r);else if(Md(n,r,!1))i.insertAfter(d,$d(n)),i.remove(r);else{n=$d(n);const g=u.cloneRange();g.setStartAfter(r),g.setEndAfter(n);const C=g.extractContents();s==="LI"&&AY(C,"LI")?(d=C.firstChild,i.insertAfter(C,n)):(i.insertAfter(C,n),i.insertAfter(d,n)),i.remove(r)}ji(e,d)},DY=e=>{ee(nb(D.fromDom(e),sr),t=>{const n=t.dom;n.nodeValue=Uo(n.data)})},_Y=(e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return n!==null&&e.dom.getContentEditableParent(n)==="false"},NY=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),k1=e=>{e.innerHTML='<br data-mce-bogus="1">'},D1=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,_1=(e,t)=>Z(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",BY=(e,t,n)=>{var r;const s=[];if(!n)return;let i=n;for(;i=i.firstChild;){if(e.isBlock(i))return;me(i)&&!t[i.nodeName.toLowerCase()]&&s.push(i)}let u=s.length;for(;u--;)i=s[u],(!i.hasChildNodes()||i.firstChild===i.lastChild&&((r=i.firstChild)===null||r===void 0?void 0:r.nodeValue)===""||NY(e,i))&&e.remove(i)},N1=(e,t,n)=>ne(t)?e?n===1&&t.data.charAt(n-1)===sn?0:n:n===t.data.length-1&&t.data.charAt(n)===sn?t.data.length:n:n,FY=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,N1(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,N1(!1,e.endContainer,e.endOffset)),t},PY=e=>{let t=e;do ne(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},TY=(e,t,n)=>{const r=e.dom;E.from(n.style).map(r.parseStyle).each(d=>{const C={...qE(D.fromDom(t)),...d};r.setStyles(t,C)});const s=E.from(n.class).map(d=>d.split(/\s+/)),i=E.from(t.className).map(d=>Ie(d.split(/\s+/),g=>g!==""));Dn(s,i,(d,g)=>{const C=Ie(g,y=>!ot(d,y)),v=[...d,...C];r.setAttrib(t,"class",v.join(" "))});const u=["style","class"],f=Oa(n,(d,g)=>!ot(u,g));r.setAttribs(t,f)},Wu=(e,t)=>{if(Nn(e).toLowerCase()===t.tagName.toLowerCase()){const r=cu(e);TY(e,t,r)}},RY=(e,t,n,r,s)=>{var i,u;const f=e.dom,d=(i=Ld(f,r))!==null&&i!==void 0?i:f.getRoot();let g=f.getParent(r,f.isBlock);if(!g||!_1(f,g)){if(g=g||d,!g.hasChildNodes()){const w=f.create(t);return Wu(e,w),g.appendChild(w),n.setStart(w,0),n.setEnd(w,0),w}let C=r;for(;C&&C.parentNode!==g;)C=C.parentNode;let v;for(;C&&!f.isBlock(C);)v=C,C=C.previousSibling;const y=(u=v==null?void 0:v.parentElement)===null||u===void 0?void 0:u.nodeName;if(v&&y&&e.schema.isValidChild(y,t.toLowerCase())){const w=v.parentNode,k=f.create(t);for(Wu(e,k),w.insertBefore(k,v),C=v;C&&!f.isBlock(C);){const S=C.nextSibling;k.appendChild(C),C=S}n.setStart(r,s),n.setEnd(r,s)}}return r},OY=(e,t)=>{t.normalize();const n=t.lastChild;(!n||me(n)&&/^(left|right)$/gi.test(e.getStyle(n,"float",!0)))&&e.add(t,"br")},IY=(e,t)=>{const n=d7(e);return de(t)?!1:N(n)?ot(le.explode(n),t.nodeName.toLowerCase()):n},F_={insert:(e,t)=>{let n,r,s,i,u=!1;const f=e.dom,d=e.schema,g=d.getNonEmptyElements(),C=e.selection.getRng(),v=Nn(e),y=C.collapsed&&C.startContainer===e.dom.getRoot(),w=D.fromDom(C.startContainer),k=mi(w,C.startOffset),S=k.exists(ue=>Xp(ue)&&!gi(ue)),x=y&&S,F=ue=>{let ge=n;const Fe=d.getTextInlineElements();let Ne;ue||s==="TABLE"||s==="HR"?Ne=f.create(ue||v):Ne=Y.cloneNode(!1);let Ke=Ne;if(f7(e)===!1)f.setAttrib(Ne,"style",null),f.setAttrib(Ne,"class",null);else do if(Fe[ge.nodeName]){if(Nr(ge)||cr(ge))continue;const Ye=ge.cloneNode(!1);f.setAttrib(Ye,"id",""),Ne.hasChildNodes()?(Ye.appendChild(Ne.firstChild),Ne.appendChild(Ye)):(Ke=Ye,Ne.appendChild(Ye))}while((ge=ge.parentNode)&&ge!==ye);return Wu(e,Ne),k1(Ke),Ne},P=ue=>{const ge=N1(ue,n,r);if(ne(n)&&(ue?ge>0:ge<n.data.length))return!1;if(n.parentNode===Y&&u&&!ue||ue&&me(n)&&n===Y.firstChild)return!0;if(D1(n,"TABLE")||D1(n,"HR"))return u&&!ue||!u&&ue;const Fe=new Ut(n,Y);ne(n)&&(ue&&ge===0?Fe.prev():!ue&&ge===n.data.length&&Fe.next());let Ne;for(;Ne=Fe.current();){if(me(Ne)){if(!Ne.getAttribute("data-mce-bogus")){const Ke=Ne.nodeName.toLowerCase();if(g[Ke]&&Ke!=="br")return!1}}else if(ne(Ne)&&!fl(Ne.data))return!1;ue?Fe.prev():Fe.next()}return!0},T=()=>{let ue;return/^(H[1-6]|PRE|FIGURE)$/.test(s)&&U!=="HGROUP"?ue=F(v):ue=F(),IY(e,i)&&_1(f,i)&&f.isEmpty(Y,void 0,{includeZwsp:!0})?ue=f.split(i,Y):f.insertAfter(ue,Y),ji(e,ue),ue};qf(f,C).each(ue=>{C.setStart(ue.startContainer,ue.startOffset),C.setEnd(ue.endContainer,ue.endOffset)}),n=C.startContainer,r=C.startOffset;const L=!!(t&&t.shiftKey),q=!!(t&&t.ctrlKey);me(n)&&n.hasChildNodes()&&!x&&(u=r>n.childNodes.length-1,n=n.childNodes[Math.min(r,n.childNodes.length-1)]||n,u&&ne(n)?r=n.data.length:r=0);const ye=Ld(f,n);if(!ye||_Y(e,n))return;L||(n=RY(e,v,C,n,r));let Y=f.getParent(n,f.isBlock)||f.getRoot();i=Z(Y==null?void 0:Y.parentNode)?f.getParent(Y.parentNode,f.isBlock):null,s=Y?Y.nodeName.toUpperCase():"";const U=i?i.nodeName.toUpperCase():"";if(U==="LI"&&!q){const ue=i;Y=ue,i=ue.parentNode,s=U}if(me(i)&&EY(e,L,Y))return bY(e,F,Y);if(/^(LI|DT|DD)$/.test(s)&&me(i)&&f.isEmpty(Y)){kY(e,F,i,Y,v);return}if(!x&&(Y===e.getBody()||!_1(f,Y)))return;const W=Y.parentNode;let ie;if(x)ie=F(v),k.fold(()=>{Ft(w,D.fromDom(ie))},ue=>{Gn(ue,D.fromDom(ie))}),e.selection.setCursorLocation(ie,0);else if(Ei(Y))ie=vg(Y),f.isEmpty(Y)&&k1(Y),Wu(e,ie),ji(e,ie);else if(P(!1))ie=T();else if(P(!0)&&W){ie=W.insertBefore(F(),Y);const ue=Z4(D.fromDom(C.startContainer))&&C.collapsed;ji(e,D1(Y,"HR")||ue?ie:Y)}else{const ue=FY(C).cloneRange();ue.setEndAfter(Y);const ge=ue.extractContents();DY(ge),PY(ge),ie=ge.firstChild,f.insertAfter(ge,Y),BY(f,g,ie),OY(f,Y),f.isEmpty(Y)&&k1(Y),ie.normalize(),f.isEmpty(ie)?(f.remove(ie),T()):(Wu(e,ie),ji(e,ie))}f.setAttrib(ie,"id",""),e.dispatch("NewBlock",{newBlock:ie})},fakeEventName:"insertParagraph"},LY=(e,t,n)=>{const r=new Ut(t,n);let s;const i=e.getNonEmptyElements();for(;s=r.next();)if(i[s.nodeName.toLowerCase()]||ne(s)&&s.length>0)return!0;return!1},P_=(e,t,n)=>{const r=e.dom.createRng();n?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),wu(e,r)},$Y=(e,t)=>{const n=e.selection,r=e.dom,s=n.getRng();let i,u=!1;qf(r,s).each(w=>{s.setStart(w.startContainer,w.startOffset),s.setEnd(w.endContainer,w.endOffset)});let f=s.startOffset,d=s.startContainer;if(me(d)&&d.hasChildNodes()){const w=f>d.childNodes.length-1;d=d.childNodes[Math.min(f,d.childNodes.length-1)]||d,w&&ne(d)?f=d.data.length:f=0}let g=r.getParent(d,r.isBlock);const C=g&&g.parentNode?r.getParent(g.parentNode,r.isBlock):null,v=C?C.nodeName.toUpperCase():"",y=!!(t&&t.ctrlKey);v==="LI"&&!y&&(g=C),ne(d)&&f>=d.data.length&&(LY(e.schema,d,g||r.getRoot())||(i=r.create("br"),s.insertNode(i),s.setStartAfter(i),s.setEndAfter(i),u=!0)),i=r.create("br"),Mg(r,s,i),P_(e,i,u),e.undoManager.add()},MY=(e,t)=>{const n=D.fromTag("br");Gn(D.fromDom(t),n),e.undoManager.add()},zY=(e,t)=>{jY(e.getBody(),t)||as(D.fromDom(t),D.fromTag("br"));const n=D.fromTag("br");as(D.fromDom(t),n),P_(e,n.dom,!1),e.undoManager.add()},UY=e=>St(e.getNode()),jY=(e,t)=>UY(V.after(t))?!0:Cn(e,V.after(t)).map(n=>St(n.getNode())).getOr(!1),T_=e=>e&&e.nodeName==="A"&&"href"in e,HY=e=>e.fold(rt,T_,T_,rt),VY=e=>{const t=ce(Nl,e),n=V.fromRangeStart(e.selection.getRng());return Ao(t,e.getBody(),n).filter(HY)},WY=(e,t)=>{t.fold($e,ce(MY,e),ce(zY,e),$e)},R_={insert:(e,t)=>{const n=VY(e);n.isSome()?n.each(ce(WY,e)):$Y(e,t)},fakeEventName:"insertLineBreak"},O_=(e,t)=>x1(e).filter(n=>t.length>0&&Mr(D.fromDom(n),t)).isSome(),KY=e=>O_(e,u7(e)),qY=e=>O_(e,c7(e)),Qn=po.generate([{br:[]},{block:[]},{none:[]}]),GY=(e,t)=>qY(e),I_=e=>(t,n)=>vY(t)===e,L_=(e,t)=>(n,r)=>hY(n)===e.toUpperCase()===t,YY=e=>{const t=Ld(e.dom,e.selection.getStart());return de(t)},Ku=e=>L_("pre",e),QY=()=>L_("summary",!0),zd=e=>(t,n)=>i7(t)===e,XY=(e,t)=>KY(e),Ud=(e,t)=>t,ZY=e=>{const t=Nn(e),n=Ld(e.dom,e.selection.getStart());return Z(n)&&e.schema.isValidChild(n.nodeName,t)},JY=e=>{const t=e.selection.getRng(),n=t.collapsed&&t.startContainer===e.dom.getRoot(),r=D.fromDom(t.startContainer),i=mi(r,t.startOffset).map(u=>Xp(u)&&!gi(u));return n&&i.getOr(!0)},gr=(e,t)=>(n,r)=>Kn(e,(i,u)=>i&&u(n,r),!0)?E.some(t):E.none(),eQ=(e,t)=>zk([gr([GY],Qn.none()),gr([Ku(!0),YY],Qn.none()),gr([QY()],Qn.br()),gr([Ku(!0),zd(!1),Ud],Qn.br()),gr([Ku(!0),zd(!1)],Qn.block()),gr([Ku(!0),zd(!0),Ud],Qn.block()),gr([Ku(!0),zd(!0)],Qn.br()),gr([I_(!0),Ud],Qn.br()),gr([I_(!0)],Qn.block()),gr([XY],Qn.br()),gr([Ud],Qn.br()),gr([ZY],Qn.block()),gr([JY],Qn.block())],[e,!!(t&&t.shiftKey)]).getOr(Qn.none()),jd=(e,t,n)=>{t.selection.isCollapsed()||Y9(t),!(Z(n)&&Id(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,n),Z(n)&&Od(t,e.fakeEventName))},$_=(e,t)=>{const n=()=>jd(R_,e,t),r=()=>jd(F_,e,t),s=eQ(e,t);switch(a7(e)){case"linebreak":s.fold(n,n,$e);break;case"block":s.fold(r,r,$e);break;case"invert":s.fold(r,n,$e);break;default:s.fold(n,r,$e);break}},M_=ao(),tQ=M_.os.isiOS()&&M_.browser.isSafari(),z_=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),sj(e.undoManager),e.undoManager.transact(()=>{$_(e,t)}))},nQ=e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(ne(t)){const n=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,r=t.data.charAt(e.startOffset-1);return n.test(r)}else return!1},rQ=e=>{let t=E.none();const n=s=>{t=E.some(s.selection.getBookmark()),s.undoManager.add()},r=(s,i)=>{s.undoManager.undo(),t.fold($e,u=>s.selection.moveToBookmark(u)),z_(s,i),t=E.none()};e.on("keydown",s=>{s.keyCode===he.ENTER&&(tQ&&nQ(e.selection.getRng())?n(e):z_(e,s))}),e.on("keyup",s=>{s.keyCode===he.ENTER&&t.each(()=>r(e,s))})},oQ=(e,t,n)=>{const r=Qe.os.isMacOS()||Qe.os.isiOS();Uu([{keyCode:he.END,action:Le(OD,e,!0)},{keyCode:he.HOME,action:Le(OD,e,!1)},...r?[]:[{keyCode:he.HOME,action:Le(Dd,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:he.END,action:Le(Dd,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:he.END,action:Le(jD,e,!0)},{keyCode:he.HOME,action:Le(jD,e,!1)},{keyCode:he.END,action:Le(kd,e,!0,t)},{keyCode:he.HOME,action:Le(kd,e,!1,t)}],n).each(s=>{n.preventDefault()})},sQ=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||oQ(e,t,n)})},lQ=e=>{e.on("input",t=>{t.isComposing||_9(e)})},iQ=ao(),aQ=(e,t,n)=>{Uu([{keyCode:he.PAGE_UP,action:Le(kd,e,!1,t)},{keyCode:he.PAGE_DOWN,action:Le(kd,e,!0,t)}],n)},U_=e=>e.stopImmediatePropagation(),j_=e=>e.keyCode===he.PAGE_UP||e.keyCode===he.PAGE_DOWN,H_=(e,t,n)=>{n&&!e.get()?t.on("NodeChange",U_,!0):!n&&e.get()&&t.off("NodeChange",U_),e.set(n)},uQ=(e,t)=>{if(iQ.os.isMacOS())return;const n=Kt(!1);e.on("keydown",r=>{j_(r)&&H_(n,e,!0)}),e.on("keyup",r=>{r.isDefaultPrevented()||aQ(e,t,r),j_(r)&&n.get()&&(H_(n,e,!1),e.nodeChanged())})},V_=(e,t)=>{const n=t.container(),r=t.offset();return ne(n)?(n.insertData(r,e),E.some(V(n,r+e.length))):Rf(t).map(s=>{const i=D.fromText(e);return t.isAtEnd()?as(s,i):Gn(s,i),V(i.dom,e.length)})},W_=ce(V_,Wt),K_=ce(V_," "),cQ=(e,t)=>Vw(e,t)?W_(t):K_(t),fQ=e=>t=>t.fold(n=>Bn(e.dom,V.before(n)),n=>yn(n),n=>_r(n),n=>Cn(e.dom,V.after(n))),dQ=(e,t)=>n=>Vw(e,n)?W_(t):K_(t),q_=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},mQ=(e,t)=>e.isEditable(e.getParent(t,"summary")),pQ=e=>{const t=V.fromRangeStart(e.selection.getRng()),n=D.fromDom(e.getBody());if(e.selection.isCollapsed()){const r=ce(Nl,e),s=V.fromRangeStart(e.selection.getRng());return Ao(r,e.getBody(),s).bind(fQ(n)).map(i=>()=>dQ(n,t)(i).each(q_(e)))}else return E.none()},gQ=e=>{const t=()=>{const n=D.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const r=V.fromRangeStart(e.selection.getRng());cQ(n,r).each(q_(e))};return ci(Qe.browser.isFirefox()&&e.selection.isEditable()&&mQ(e.dom,e.selection.getRng().startContainer),t)},hQ=(e,t)=>{MD([{keyCode:he.SPACEBAR,action:Le(pQ,e)},{keyCode:he.SPACEBAR,action:Le(gQ,e)}],t).each(n=>{t.preventDefault(),Id(e,"insertText",{data:" "}).isDefaultPrevented()||(n(),Od(e,"insertText",{data:" "}))})},vQ=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||hQ(e,t)})},CQ=e=>A8(e)?[{keyCode:he.TAB,action:Le(n_,e,!0)},{keyCode:he.TAB,shiftKey:!0,action:Le(n_,e,!1)}]:[],yQ=(e,t)=>{Uu([...CQ(e)],t).each(n=>{t.preventDefault()})},EQ=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||yQ(e,t)})},bQ=e=>{if(e.addShortcut("Meta+P","","mcePrint"),fY(e),bo(e))return Kt(null);{const t=oK(e);return tq(e),qq(e,t),pY(e,t),rQ(e),vQ(e),lQ(e),EQ(e),sQ(e,t),uQ(e,t),t}};class AQ{constructor(t){this.lastPath=[],this.editor=t;let n;const r=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",s=>{const i=t.selection.getRng(),u={startContainer:i.startContainer,startOffset:i.startOffset,endContainer:i.endContainer,endOffset:i.endOffset};(s.type==="nodechange"||!bh(u,n))&&t.dispatch("SelectionChange"),n=u}),t.on("contextmenu",()=>{t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const s=t.selection.getStart(!0);s&&zf(t)&&!r.isSameElementPath(s)&&t.dom.isChildOf(s,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",s=>{!s.isDefaultPrevented()&&zf(t)&&(t.selection.getNode().nodeName==="IMG"?dr.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const n=this.editor.selection;let r;if(this.editor.initialized&&n&&!U7(this.editor)&&!this.editor.mode.isReadOnly()){const s=this.editor.getBody();r=n.getStart(!0)||s,(r.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(r,s))&&(r=s);const i=[];this.editor.dom.getParent(r,u=>u===s?!0:(i.push(u),!1)),this.editor.dispatch("NodeChange",{...t,element:r,parents:i})}}isSameElementPath(t){let n;const r=this.editor,s=Ra(r.dom.getParents(t,yt,r.getBody()));if(s.length===this.lastPath.length){for(n=s.length;n>=0&&s[n]===this.lastPath[n];n--);if(n===-1)return this.lastPath=s,!0}return this.lastPath=s,!1}}const G_=su("image"),SQ=e=>{const t=e;return E.from(t[G_])},wQ=(e,t)=>{const n=e;n[G_]=t},B1=su("event"),xQ=e=>{const t=e;return E.from(t[B1])},Hd=e=>t=>{const n=t;n[B1]=e},kQ=(e,t)=>Hd(t)(e),Y_=Hd(0),DQ=Hd(2),_Q=Hd(1),NQ=(e=>t=>{const n=t;return E.from(n[B1]).exists(r=>r===e)})(0),BQ=()=>Object.freeze({length:0,item:e=>null}),F1=su("mode"),FQ=e=>{const t=e;return E.from(t[F1])},Vd=e=>t=>{const n=t;n[F1]=e},Q_=(e,t)=>Vd(t)(e),X_=Vd(0),P1=Vd(2),PQ=Vd(1),Z_=e=>t=>{const n=t;return E.from(n[F1]).exists(r=>r===e)},Hi=Z_(0),J_=Z_(1),TQ=(e,t)=>({...t,get length(){return t.length},add:(n,r)=>{if(Hi(e))if(N(n)){if(!Pe(r))return t.add(n,r)}else return t.add(n);return null},remove:n=>{Hi(e)&&t.remove(n)},clear:()=>{Hi(e)&&t.clear()}}),RQ=["none","copy","link","move"],OQ=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],T1=()=>{const e=new window.DataTransfer;let t="move",n="all";const r={get dropEffect(){return t},set dropEffect(s){ot(RQ,s)&&(t=s)},get effectAllowed(){return n},set effectAllowed(s){NQ(r)&&ot(OQ,s)&&(n=s)},get items(){return TQ(r,e.items)},get files(){return J_(r)?BQ():e.files},get types(){return e.types},setDragImage:(s,i,u)=>{Hi(r)&&(wQ(r,{image:s,x:i,y:u}),e.setDragImage(s,i,u))},getData:s=>J_(r)?"":e.getData(s),setData:(s,i)=>{Hi(r)&&e.setData(s,i)},clearData:s=>{Hi(r)&&e.clearData(s)}};return X_(r),r},IQ=e=>{const t=T1(),n=FQ(e);return P1(e),Y_(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,SQ(e).each(r=>t.setDragImage(r.image,r.x,r.y)),ee(e.types,r=>{r!=="Files"&&t.setData(r,e.getData(r))}),ee(e.files,r=>t.items.add(r)),xQ(e).each(r=>{kQ(t,r)}),n.each(r=>{Q_(e,r),Q_(t,r)}),t},LQ=e=>{const t=e.getData("text/html");return t===""?E.none():E.some(t)},eN=(e,t)=>e.setData("text/html",t),tN="x-tinymce/html",Wd=K(tN),R1="<!-- "+tN+" -->",$Q=e=>R1+e,MQ=e=>e.replace(R1,""),nN=e=>e.indexOf(R1)!==-1,zQ=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),UQ=(e,t)=>{let n="<"+e;const r=jp(t,(s,i)=>i+'="'+ms.encodeAllRaw(s)+'"');return r.length&&(n+=" "+r.join(" ")),n+">"},jQ=(e,t,n)=>{const r=e.split(/\n\n/),s=UQ(t,n),i="</"+t+">",u=Je(r,d=>d.split(/\n/).join("<br />")),f=d=>s+d+i;return u.length===1?u[0]:Je(u,f).join("")},rN="%MCEPASTEBIN%",HQ=(e,t)=>{const{dom:n,selection:r}=e,s=e.getBody();t.set(r.getRng());const i=n.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},rN);Qe.browser.isFirefox()&&n.setStyle(i,"left",n.getStyle(s,"direction",!0)==="rtl"?65535:-65535),n.bind(i,"beforedeactivate focusin focusout",u=>{u.stopPropagation()}),i.focus(),r.select(i,!0)},VQ=(e,t)=>{const n=e.dom;if(O1(e)){let r;const s=t.get();for(;r=O1(e);)n.remove(r),n.unbind(r);s&&e.selection.setRng(s)}t.set(null)},O1=e=>e.dom.get("mcepastebin"),WQ=e=>Z(e)&&e.id==="mcepastebin",KQ=e=>{const t=e.dom,n=(u,f)=>{u.appendChild(f),t.remove(f,!0)},[r,...s]=Ie(e.getBody().childNodes,WQ);ee(s,u=>{n(r,u)});const i=t.select("div[id=mcepastebin]",r);for(let u=i.length-1;u>=0;u--){const f=t.create("div");r.insertBefore(f,i[u]),n(f,i[u])}return r?r.innerHTML:""},oN=e=>e===rN,qQ=e=>{const t=Kt(null);return{create:()=>HQ(e,t),remove:()=>VQ(e,t),getEl:()=>O1(e),getHtml:()=>KQ(e),getLastRng:t.get}},sN=(e,t)=>(le.each(t,n=>{B(n,RegExp)?e=e.replace(n,""):e=e.replace(n[0],n[1])}),e),GQ=e=>{const t=ps(),n=Ii({},t);let r="";const s=t.getVoidElements(),i=le.makeMap("script noscript style textarea video audio iframe object"," "),u=t.getBlockElements(),f=d=>{const g=d.name,C=d;if(g==="br"){r+=`
`;return}if(g!=="wbr"){if(s[g]&&(r+=" "),i[g]){r+=" ";return}if(d.type===3&&(r+=d.value),!(d.name in t.getVoidElements())){let v=d.firstChild;if(v)do f(v);while(v=v.next)}u[g]&&C.next&&(r+=`
`,g==="p"&&(r+=`
`))}};return e=sN(e,[/<!\[[^\]]+\]>/g]),f(n.parse(e)),r},lN=e=>(e=sN(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(n,r,s)=>!r&&!s?" ":Wt],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),YQ=e=>{let t=0;return()=>e+t++},QQ=e=>{const t=e.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return le.hasOwn(n,t)?"image/"+n[t]:"image/"+t},XQ=(e,t)=>{const n=Ii({sanitize:Gg(e)},e.schema);n.addNodeFilter("meta",s=>{le.each(s,i=>{i.remove()})});const r=n.parse(t,{forced_root_block:!1,isRootContent:!0});return Es({validate:!0},e.schema).serialize(r)},iN=(e,t)=>({content:e,cancelled:t}),ZQ=(e,t,n)=>{const r=e.dom.create("div",{style:"display:none"},t),s=lL(e,r,n);return iN(s.node.innerHTML,s.isDefaultPrevented())},JQ=(e,t,n)=>{const r=sL(e,t,n),s=XQ(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?ZQ(e,s,n):iN(s,r.isDefaultPrevented())},eX=(e,t,n)=>JQ(e,t,n),I1=(e,t)=>(e.insertContent(t,{merge:l8(e),paste:!0}),!0),L1=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),tX=(e,t)=>L1(t)&&Bt(MA(e),n=>qp(t.toLowerCase(),`.${n.toLowerCase()}`)),nX=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),rX=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),oX=(e,t,n)=>!e.selection.isCollapsed()&&L1(t)?rX(e,t,n):!1,sX=(e,t,n)=>tX(e,t)?nX(e,t,n):!1,lX=(e,t)=>{le.each([oX,sX,I1],n=>!n(e,t,I1))},iX=(e,t,n)=>{n||!i8(e)?I1(e,t):lX(e,t)},aX=YQ("mceclip"),uX=e=>{const t=T1();return eN(t,e),P1(t),t},aN=(e,t,n,r,s)=>{const i=eX(e,t,n);if(!i.cancelled){const u=i.content,f=()=>iX(e,u,r);s?Id(e,"insertFromPaste",{dataTransfer:uX(u)}).isDefaultPrevented()||(f(),Od(e,"insertFromPaste")):f()}},Kd=(e,t,n,r)=>{const s=n||nN(t);aN(e,MQ(t),s,!1,r)},$1=(e,t,n)=>{const r=e.dom.encode(t).replace(/\r\n/g,`
`),s=hb(r,u8(e)),i=jQ(s,Nn(e),cu(e));aN(e,i,!1,!0,n)},uN=e=>{const t={};if(e&&e.types)for(let n=0;n<e.types.length;n++){const r=e.types[n];try{t[r]=e.getData(r)}catch{t[r]=""}}return t},ks=(e,t)=>t in e&&e[t].length>0,cN=e=>ks(e,"text/html")||ks(e,"text/plain"),cX=(e,t)=>{const n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Z(n)?e.dom.encode(n[1]):void 0},fX=(e,t,n,r)=>{const s=aX(),i=_A(e)&&Z(n.name),u=i?cX(e,n.name):s,f=i?n.name:void 0,d=t.create(s,n,r,u,f);return t.add(d),d},dX=(e,t)=>{b0(t.uri).each(({data:n,type:r,base64Encoded:s})=>{const i=s?n:btoa(n),u=t.file,f=e.editorUpload.blobCache,d=f.getByData(i,r),g=d??fX(e,f,u,i);Kd(e,`<img src="${g.blobUri()}">`,!1,!0)})},mX=e=>e.type==="paste",pX=e=>Promise.all(Je(e,t=>mx(t).then(n=>({file:t,uri:n})))),gX=e=>{const t=MA(e);return n=>nn(n.type,"image/")&&Bt(t,r=>QQ(r)===n.type)},hX=(e,t)=>{const n=t.items?lo(kn(t.items),s=>s.kind==="file"?[s.getAsFile()]:[]):[],r=t.files?kn(t.files):[];return Ie(n.length>0?n:r,gX(e))},fN=(e,t,n)=>{const r=mX(t)?t.clipboardData:t.dataTransfer;if(Pf(e)&&r){const s=hX(e,r);if(s.length>0)return t.preventDefault(),pX(s).then(i=>{n&&e.selection.setRng(n),ee(i,u=>{dX(e,u)})}),!0}return!1},vX=e=>{var t,n;return Qe.os.isAndroid()&&((n=(t=e.clipboardData)===null||t===void 0?void 0:t.items)===null||n===void 0?void 0:n.length)===0},CX=e=>he.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,M1=(e,t,n,r,s)=>{let i=lN(n);const u=ks(t,Wd())||nN(n),f=!u&&zQ(i),d=L1(i);(oN(i)||!i.length||f&&!d)&&(r=!0),(r||d)&&(ks(t,"text/plain")&&f?i=t["text/plain"]:i=GQ(i)),!oN(i)&&(r?$1(e,i,s):Kd(e,i,u,s))},yX=(e,t,n)=>{let r;const s=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",i=>{CX(i)&&!i.isDefaultPrevented()&&(r=i.shiftKey&&i.keyCode===86)}),e.on("paste",i=>{if(i.isDefaultPrevented()||vX(i))return;const u=n.get()==="text"||r;r=!1;const f=uN(i.clipboardData);!cN(f)&&fN(e,i,s())||(ks(f,"text/html")?(i.preventDefault(),M1(e,f,f["text/html"],u,!0)):ks(f,"text/plain")&&ks(f,"text/uri-list")?(i.preventDefault(),M1(e,f,f["text/plain"],u,!0)):(t.create(),dr.setEditorTimeout(e,()=>{const d=t.getHtml();t.remove(),M1(e,f,d,u,!1)},0)))})},EX=e=>{const t=s=>nn(s,"webkit-fake-url"),n=s=>nn(s,"data:"),r=s=>{var i;return((i=s.data)===null||i===void 0?void 0:i.paste)===!0};e.parser.addNodeFilter("img",(s,i,u)=>{if(!Pf(e)&&r(u))for(const f of s){const d=f.attr("src");N(d)&&!f.attr("data-mce-object")&&d!==Qe.transparentSrc&&(t(d)||!c8(e)&&n(d))&&f.remove()}})},bX=(e,t,n)=>{yX(e,t,n),EX(e)},AX=(e,t)=>{t.get()==="text"?(t.set("html"),zS(e,!1)):(t.set("text"),zS(e,!0)),e.focus()},SX=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{AX(e,t)}),e.addCommand("mceInsertClipboardContent",(n,r)=>{r.html&&Kd(e,r.html,r.internal,!1),r.text&&$1(e,r.text,!1)})},wX=(e,t,n)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(Wd(),t),!0}catch{return!1}else return!1},dN=(e,t,n,r)=>{wX(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):n(t.html,r)},mN=e=>(t,n)=>{const{dom:r,selection:s}=e,i=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),u=r.create("div",{contenteditable:"true"},t);r.setStyles(i,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),i.appendChild(u),r.add(e.getBody(),i);const f=s.getRng();u.focus();const d=r.createRng();d.selectNodeContents(u),s.setRng(d),dr.setEditorTimeout(e,()=>{s.setRng(f),r.remove(i),n()},0)},pN=e=>({html:$Q(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),xX=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),gN=e=>!e.selection.isCollapsed()||xX(e),kX=e=>t=>{!t.isDefaultPrevented()&&gN(e)&&dN(t,pN(e),mN(e),()=>{if(Qe.browser.isChromium()||Qe.browser.isFirefox()){const n=e.selection.getRng();dr.setEditorTimeout(e,()=>{e.selection.setRng(n),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},DX=e=>t=>{!t.isDefaultPrevented()&&gN(e)&&dN(t,pN(e),mN(e),$e)},_X=e=>{e.on("cut",kX(e)),e.on("copy",DX(e))},hN=(e,t)=>{var n,r;return kl.getCaretRangeFromPoint((n=t.clientX)!==null&&n!==void 0?n:0,(r=t.clientY)!==null&&r!==void 0?r:0,e.getDoc())},NX=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},vN=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},BX=e=>Bt(e.files,t=>/^image\//.test(t.type)),FX=(e,t,n,r)=>{const s=e.getParent(n,i=>dl(t,i));if(s&&ze(r,"text/html")){const i=new DOMParser().parseFromString(r["text/html"],"text/html").body;return!De(i.querySelector(s.nodeName.toLowerCase()))}else return!1},PX=(e,t)=>{e8(e)&&e.on("dragend dragover draggesture dragdrop drop drag",n=>{n.preventDefault(),n.stopPropagation()}),Pf(e)||e.on("drop",n=>{const r=n.dataTransfer;r&&BX(r)&&n.preventDefault()}),e.on("drop",n=>{if(n.isDefaultPrevented())return;const r=hN(e,n);if(de(r))return;const s=uN(n.dataTransfer),i=ks(s,Wd());if((!cN(s)||NX(s))&&fN(e,n,r))return;const u=s[Wd()],f=u||s["text/html"]||s["text/plain"],d=FX(e.dom,e.schema,r.startContainer,s);t.get()&&!d||f&&(n.preventDefault(),dr.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{u&&e.execCommand("Delete"),vN(e,r);const g=lN(f);s["text/html"]?Kd(e,g,i,!0):$1(e,g,!0)})}))}),e.on("dragstart",n=>{t.set(!0)}),e.on("dragover dragend",n=>{Pf(e)&&!t.get()&&(n.preventDefault(),vN(e,hN(e,n))),n.type==="dragend"&&t.set(!1)})},TX=e=>{const t=s=>i=>{s(e,i)},n=t8(e);je(n)&&e.on("PastePreProcess",t(n));const r=n8(e);je(r)&&e.on("PastePostProcess",t(r))},RX=(e,t)=>{e.on("PastePreProcess",n=>{n.content=t(e,n.content,n.internal)})},OX=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,CN=e=>le.trim(e).replace(OX,Mf).toLowerCase(),IX=(e,t,n)=>{const r=o8(e);if(n||r==="all"||!s8(e))return t;const s=r?r.split(/[, ]/):[];if(s&&r!=="none"){const i=e.dom,u=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(f,d,g,C)=>{const v=i.parseStyle(i.decode(g)),y={};for(let k=0;k<s.length;k++){const S=v[s[k]];let x=S,F=i.getStyle(u,s[k],!0);/color/.test(s[k])&&(x=CN(x),F=CN(F)),F!==x&&(y[s[k]]=S)}const w=i.serializeStyle(y,"span");return w?d+' style="'+w+'"'+C:d+C})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(i,u,f,d)=>u+' style="'+f+'"'+d),t},LX=e=>{(Qe.browser.isChromium()||Qe.browser.isSafari())&&RX(e,IX)},$X=e=>{const t=Kt(!1),n=Kt(a8(e)?"text":"html"),r=qQ(e);LX(e),SX(e,n),TX(e),e.on("PreInit",()=>{_X(e),PX(e,t),bX(e,r,n)})},MX=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},zX=e=>{e.parser.addNodeFilter("details",t=>{const n=S8(e);ee(t,r=>{n==="expanded"?r.attr("open","open"):n==="collapsed"&&r.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{const n=w8(e);ee(t,r=>{n==="expanded"?r.attr("open","open"):n==="collapsed"&&r.attr("open",null)})})},yN=e=>fs(D.fromDom(e)),EN=(e,t)=>{const n=t.getNode();Pe(n)||e.selection.setCursorLocation(n,t.offset())},bN=(e,t)=>{var n;return e.startOffset===0&&e.endOffset===((n=t.textContent)===null||n===void 0?void 0:n.length)},AN=ao(),UX=AN.browser,SN=AN.os,jX=UX.isSafari(),wN=SN.isMacOS()||SN.isiOS(),HX=(e,t)=>yn(t).exists(n=>n.isEqual(e)),VX=(e,t)=>_r(t).exists(n=>St(n.getNode())&&Bn(t,n).exists(r=>r.isEqual(e))||n.isEqual(e)),WX=(e,t)=>{const n=E.from(e.getParent(t.startContainer,"details")),r=E.from(e.getParent(t.endContainer,"details"));if(n.isSome()||r.isSome()){const s=n.bind(i=>E.from(e.select("summary",i)[0]));return E.some({startSummary:s,startDetails:n,endDetails:r})}else return E.none()},KX=(e,t)=>{const n=d=>d.contains(e.startContainer),r=d=>d.contains(e.endContainer),s=t.startSummary.exists(n),i=t.startSummary.exists(r),u=t.startDetails.forall(d=>t.endDetails.forall(g=>d!==g));return(s||i)&&!(s&&i)||u},qX=(e,t)=>t.startSummary.exists(n=>HX(e,n)),GX=(e,t)=>t.startSummary.exists(n=>VX(e,n)),YX=(e,t)=>t.startDetails.exists(n=>Bn(n,e).forall(r=>t.startSummary.exists(s=>!s.contains(e.container())&&s.contains(r.container())))),QX=(e,t,n)=>n.startDetails.exists(r=>Cn(e,t).forall(s=>!r.contains(s.container()))),z1=(e,t)=>Z(e.getParent(t.container(),"details")),xN=(e,t)=>{const n=e.dom.getParent(t.container(),"details");if(n&&!n.open){const r=e.dom.select("summary",n)[0];r&&_r(r).each(s=>EN(e,s))}else EN(e,t)},XX=(e,t)=>{const{dom:n,selection:r}=e,s=e.getBody();if(e.selection.isCollapsed()){const i=V.fromRangeStart(r.getRng()),u=n.getParent(i.container(),n.isBlock);if(u&&n.isEmpty(u)){if(De(u.nextSibling)){const f=Bn(s,i).filter(d=>z1(n,d));if(f.isSome())return f.each(d=>{t||xN(e,d)}),!0}else if(De(u.previousSibling)&&Cn(s,i).filter(d=>z1(n,d)))return!0}return Cu(t,s,i).fold(rt,f=>z1(n,f)?(u&&n.isEmpty(u)&&e.dom.remove(u),t||xN(e,f),!0):!1)}else return!1},ZX=(e,t,n)=>{const r=e.selection,s=r.getNode(),i=r.getRng(),u=n.keyCode===he.BACKSPACE,f=n.keyCode===he.DELETE,d=e.selection.isCollapsed(),g=V.fromRangeStart(i),C=e.getBody();return!d&&KX(i,t)||d&&u&&qX(g,t)||d&&f&&GX(g,t)||d&&u&&YX(g,t)||d&&f&&QX(C,g,t)?!0:jX&&FO(s)?(!d&&bN(i,s)||r2(f,g,s)?yN(s):e.undoManager.transact(()=>{const v=r.getSel();let{anchorNode:y,anchorOffset:w,focusNode:k,focusOffset:S}=v??{};const x=()=>{Z(y)&&Z(w)&&Z(k)&&Z(S)&&(v==null||v.setBaseAndExtent(y,w,k,S))},F=()=>{y=v==null?void 0:v.anchorNode,w=v==null?void 0:v.anchorOffset,k=v==null?void 0:v.focusNode,S=v==null?void 0:v.focusOffset},P=(L,q)=>{ee(L.childNodes,ye=>{Eu(ye)&&q.appendChild(ye)})},T=e.dom.create("span",{"data-mce-bogus":"all"});P(s,T),s.appendChild(T),x(),d&&(wN&&(n.altKey||u&&n.metaKey)||!wN&&n.ctrlKey)&&(v==null||v.modify("extend",u?"left":"right",n.metaKey?"line":"word")),!r.isCollapsed()&&bN(r.getRng(),T)?yN(s):(e.execCommand(u?"Delete":"ForwardDelete"),F(),P(T,s),x()),e.dom.remove(T)}),!0):!1},JX=e=>{e.on("keydown",t=>{(t.keyCode===he.BACKSPACE||t.keyCode===he.DELETE)&&WX(e.dom,e.selection.getRng()).fold(()=>{XX(e,t.keyCode===he.DELETE)&&t.preventDefault()},n=>{ZX(e,n,t)&&t.preventDefault()})})},eZ=e=>{MX(e),zX(e),JX(e)},tZ=St,kN=ne,nZ=e=>mt(e.dom),rZ=e=>Ur(e.dom),DN=e=>t=>et(D.fromDom(e),t),oZ=(e,t)=>sl(D.fromDom(e),n=>rZ(n)||ir(n),DN(t)).getOr(D.fromDom(t)).dom,_N=(e,t)=>sl(D.fromDom(e),nZ,DN(t)),NN=(e,t,n)=>{const r=new Ut(e,t),s=n?r.next.bind(r):r.prev.bind(r);let i=e;for(let u=n?e:s();u&&!tZ(u);u=s())Dr(u)&&(i=u);return i},sZ=(e,t)=>{const r=V.fromRangeStart(e).getNode(),s=oZ(r,t),i=NN(r,s,!1),u=NN(r,s,!0),f=document.createRange();return _N(i,s).fold(()=>{kN(i)?f.setStart(i,0):f.setStartBefore(i)},d=>f.setStartBefore(d.dom)),_N(u,s).fold(()=>{kN(u)?f.setEnd(u,u.data.length):f.setEndAfter(u)},d=>f.setEndAfter(d.dom)),f},lZ=e=>{const t=sZ(e.selection.getRng(),e.getBody());e.selection.setRng(s0(t))},iZ=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),lZ(e))})};var Vi;(function(e){e.Before="before",e.After="after"})(Vi||(Vi={}));const aZ=(e,t)=>Math.abs(e.left-t),uZ=(e,t)=>Math.abs(e.right-t),cZ=(e,t)=>e>=t.top&&e<=t.bottom,fZ=(e,t)=>e.top<t.bottom&&e.bottom>t.top,dZ=(e,t)=>{const n=A6(e,t)/Math.min(e.height,t.height);return fZ(e,t)&&n>.5},mZ=(e,t)=>{const n=Ie(e,r=>cZ(t,r));return b6(n).fold(()=>[[],e],r=>{const{pass:s,fail:i}=Fa(e,u=>dZ(u,r));return[s,i]})},pZ=(e,t)=>({node:e.node,position:aZ(e,t)<uZ(e,t)?Vi.Before:Vi.After}),gZ=(e,t,n)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),U1=(e,t,n)=>{const r=C=>Dr(C.node)?E.some(C):me(C.node)?U1(kn(C.node.childNodes),t,n):E.none(),s=(C,v)=>{if(C.length>=2){const y=r(C[0]).getOr(C[0]),w=r(C[1]).getOr(C[1]);if(Math.abs(v(y,t,n)-v(w,t,n))<2){if(ne(y.node))return E.some(y);if(ne(w.node))return E.some(w)}}return E.none()},i=(C,v)=>{const y=Js(C,(w,k)=>v(w,t,n)-v(k,t,n));return s(y,v).orThunk(()=>li(y,r))},[u,f]=mZ(Jk(e),n),{pass:d,fail:g}=Fa(f,C=>C.top<n);return i(u,gZ).orThunk(()=>i(g,Xb)).orThunk(()=>i(d,Xb))},hZ=(e,t,n,r)=>{const s=(i,u)=>{const f=g=>me(g)&&g.classList.contains("mce-drag-container"),d=Ie(i.dom.childNodes,It(f));return u.fold(()=>U1(d,n,r),g=>{const C=Ie(d,v=>v!==g.dom);return U1(C,n,r)}).orThunk(()=>(et(i,e)?E.none():tg(i)).bind(C=>s(C,E.some(i))))};return s(t,E.none())},vZ=(e,t,n)=>{const r=D.fromDom(e),s=Lo(r),u=D.fromPoint(s,t,n).filter(f=>Io(r,f)).getOr(r);return hZ(r,u,t,n)},BN=(e,t,n)=>vZ(e,t,n).filter(r=>mu(r.node)).map(r=>pZ(r,t)),FN=e=>{var t,n;const r=e.getBoundingClientRect(),s=e.ownerDocument,i=s.documentElement,u=s.defaultView;return{top:r.top+((t=u==null?void 0:u.scrollY)!==null&&t!==void 0?t:0)-i.clientTop,left:r.left+((n=u==null?void 0:u.scrollX)!==null&&n!==void 0?n:0)-i.clientLeft}},CZ=e=>e.inline?FN(e.getBody()):{left:0,top:0},yZ=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},EZ=e=>{const t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},s={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:s},bZ=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const n=FN(e.getContentAreaContainer()),r=EZ(e);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}return{left:t.pageX,top:t.pageY}},AZ=(e,t,n)=>({pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}),SZ=(e,t)=>AZ(CZ(e),yZ(e),bZ(e,t)),PN=e=>({target:e,srcElement:e}),wZ=(e,t,n,r)=>({...t,dataTransfer:r,type:e,...PN(n)}),xZ=(e,t,n)=>{const r=Zs("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:r,initEvent:r,preventDefault:$e,stopImmediatePropagation:$e,stopPropagation:$e,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:r,initMouseEvent:r,getModifierState:r,dataTransfer:n,...PN(t)}},kZ=(e,t)=>{const n=IQ(e);return t==="dragstart"?(Y_(n),X_(n)):t==="drop"?(DQ(n),P1(n)):(_Q(n),PQ(n)),n},DZ=(e,t,n,r)=>{const s=kZ(n,e);return Pe(r)?xZ(e,t,s):wZ(e,r,t,s)},qd=32,_Z=100,Gd=8,Yd=16,TN=mt,NZ=k6(TN,Ur),BZ=(e,t,n)=>TN(n)&&n!==t&&e.isEditable(n.parentElement),FZ=(e,t,n)=>de(t)||t===n||e.dom.isChildOf(t,n)?!1:e.dom.isEditable(t),PZ=(e,t,n,r)=>{const s=e.dom,i=t.cloneNode(!0);s.setStyles(i,{width:n,height:r}),s.setAttrib(i,"data-mce-selected",null);const u=s.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return s.setStyles(u,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),s.setStyles(i,{margin:0,boxSizing:"border-box"}),u.appendChild(i),u},TZ=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},Qd=(e,t)=>n=>()=>{const r=e==="left"?n.scrollX:n.scrollY;n.scroll({[e]:r+t,behavior:"smooth"})},RN=Qd("left",-qd),ON=Qd("left",qd),IN=Qd("top",-qd),LN=Qd("top",qd),RZ=(e,t,n,r,s,i,u,f,d,g,C,v)=>{let y=0,w=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>s&&(y=t.pageX+n-s),t.pageY+r>i&&(w=t.pageY+r-i),e.style.width=n-y+"px",e.style.height=r-w+"px";const k=d.clientHeight,S=d.clientWidth,x=u+d.getBoundingClientRect().top,F=f+d.getBoundingClientRect().left;C.on(P=>{P.intervalId.clear(),P.dragging&&v&&(u+Gd>=k?P.intervalId.set(LN(g)):u-Gd<=0?P.intervalId.set(IN(g)):f+Gd>=S?P.intervalId.set(ON(g)):f-Gd<=0?P.intervalId.set(RN(g)):x+Yd>=window.innerHeight?P.intervalId.set(LN(window)):x-Yd<=0?P.intervalId.set(IN(window)):F+Yd>=window.innerWidth?P.intervalId.set(ON(window)):F-Yd<=0&&P.intervalId.set(RN(window)))})},$N=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},OZ=(e,t)=>{const n=e.getParent(t.parentNode,e.isBlock);$N(t),n&&n!==e.getRoot()&&e.isEmpty(n)&&fs(D.fromDom(n))},IZ=e=>e.button===0,LZ=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),$Z=(e,t)=>n=>{if(IZ(n)){const r=zt(t.dom.getParents(n.target),NZ).getOr(null);if(Z(r)&&BZ(t.dom,t.getBody(),r)){const s=t.dom.getPos(r),i=t.getBody(),u=t.getDoc().documentElement;e.set({element:r,dataTransfer:T1(),dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?i.scrollWidth:u.offsetWidth)-2,maxY:(t.inline?i.scrollHeight:u.offsetHeight)-2,relX:n.pageX-s.x,relY:n.pageY-s.y,width:r.offsetWidth,height:r.offsetHeight,ghost:PZ(t,r,r.offsetWidth,r.offsetHeight),intervalId:f6(_Z)})}}},MZ=(e,t,n)=>{e._selectionOverrides.hideFakeCaret(),BN(e.getBody(),t,n).fold(()=>e.selection.placeCaretAt(t,n),r=>{const s=e._selectionOverrides.showCaret(1,r.node,r.position===Vi.Before,!1);s?e.selection.setRng(s):e.selection.placeCaretAt(t,n)})},qu=(e,t,n,r,s)=>{t==="dragstart"&&eN(r,e.dom.getOuterHTML(n));const i=DZ(t,n,r,s);return e.dispatch(t,i)},zZ=(e,t)=>{const n=kf((s,i)=>MZ(t,s,i),0);t.on("remove",n.cancel);const r=e;return s=>e.on(i=>{const u=Math.max(Math.abs(s.screenX-i.screenX),Math.abs(s.screenY-i.screenY));if(!i.dragging&&u>10){const f=qu(t,"dragstart",i.element,i.dataTransfer,s);if(Z(f.dataTransfer)&&(i.dataTransfer=f.dataTransfer),f.isDefaultPrevented())return;i.dragging=!0,t.focus()}if(i.dragging){const f=s.currentTarget===t.getDoc().documentElement,d=LZ(i,SZ(t,s));TZ(i.ghost,t.getBody()),RZ(i.ghost,d,i.width,i.height,i.maxX,i.maxY,s.clientY,s.clientX,t.getContentAreaContainer(),t.getWin(),r,f),n.throttle(s.clientX,s.clientY)}})},UZ=e=>{const t=e.getSel();if(Z(t)){const r=t.getRangeAt(0).startContainer;return ne(r)?r.parentNode:r}else return null},jZ=(e,t)=>n=>{e.on(r=>{var s;if(r.intervalId.clear(),r.dragging){if(FZ(t,UZ(t.selection),r.element)){const i=(s=t.getDoc().elementFromPoint(n.clientX,n.clientY))!==null&&s!==void 0?s:t.getBody();qu(t,"drop",i,r.dataTransfer,n).isDefaultPrevented()||t.undoManager.transact(()=>{OZ(t.dom,r.element),LQ(r.dataTransfer).each(f=>t.insertContent(f)),t._selectionOverrides.hideFakeCaret()})}qu(t,"dragend",t.getBody(),r.dataTransfer,n)}}),zN(e)},MN=(e,t,n)=>{e.on(r=>{r.intervalId.clear(),r.dragging&&n.fold(()=>qu(t,"dragend",r.element,r.dataTransfer),s=>qu(t,"dragend",r.element,r.dataTransfer,s))}),zN(e)},HZ=(e,t)=>n=>MN(e,t,E.some(n)),zN=e=>{e.on(t=>{t.intervalId.clear(),$N(t.ghost)}),e.clear()},VZ=e=>{const t=gs(),n=lt.DOM,r=document,s=$Z(t,e),i=zZ(t,e),u=jZ(t,e),f=HZ(t,e);e.on("mousedown",s),e.on("mousemove",i),e.on("mouseup",u),n.bind(r,"mousemove",i),n.bind(r,"mouseup",f),e.on("remove",()=>{n.unbind(r,"mousemove",i),n.unbind(r,"mouseup",f)}),e.on("keydown",d=>{d.keyCode===he.ESC&&MN(t,e,E.none())})},WZ=e=>{const t=s=>{if(!s.isDefaultPrevented()){const i=s.dataTransfer;i&&(ot(i.types,"Files")||i.files.length>0)&&(s.preventDefault(),s.type==="drop"&&Cd(e,"Dropped file type is not supported"))}},n=s=>{Qf(e,s.target)&&t(s)},r=()=>{const s=lt.DOM,i=e.dom,u=document,f=e.inline?e.getBody():e.getDoc(),d=["drop","dragover"];ee(d,g=>{s.bind(u,g,n),i.bind(f,g,t)}),e.on("remove",()=>{ee(d,g=>{s.unbind(u,g,n),i.unbind(f,g,t)})})};e.on("init",()=>{dr.setEditorTimeout(e,r,0)})},KZ=e=>{VZ(e),V7(e)&&WZ(e)},qZ=e=>{const t=kf(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const n=e.selection.getRng();if(n.collapsed){const r=W0(e,n,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},GZ=e=>{e.on("init",()=>{e.on("focusin",t=>{const n=t.target;if(mo(n)){const r=Bl(e.getBody(),n),s=mt(r)?r:n;e.selection.getNode()!==s&&Iu(e,s).each(i=>e.selection.setRng(i))}})})},Gu=mt,UN=(e,t)=>Bl(e.getBody(),t),YZ=e=>{const t=e.selection,n=e.dom,r=e.getBody(),s=I8(e,r,n.isBlock,()=>Dl(e)),i="sel-"+n.uniqueId(),u="data-mce-selected";let f;const d=Y=>Z(Y)&&n.hasClass(Y,"mce-offscreen-selection"),g=Y=>Y!==r&&(Gu(Y)||mo(Y))&&n.isChildOf(Y,r)&&n.isEditable(Y.parentNode),C=Y=>{Y&&t.setRng(Y)},v=(Y,U,W,ie=!0)=>e.dispatch("ShowCaret",{target:U,direction:Y,before:W}).isDefaultPrevented()?null:(ie&&t.scrollIntoView(U,Y===-1),s.show(W,U)),y=Y=>{Y.hasAttribute("data-mce-caret")&&(vg(Y),t.scrollIntoView(Y))},w=()=>{e.on("click",U=>{n.isEditable(U.target)||(U.preventDefault(),e.focus())}),e.on("blur NewBlock",L),e.on("ResizeWindow FullscreenStateChanged",s.reposition),e.on("tap",U=>{const W=U.target,ie=UN(e,W);Gu(ie)?(U.preventDefault(),Iu(e,ie).each(T)):g(W)&&Iu(e,W).each(T)},!0),e.on("mousedown",U=>{const W=U.target;if(W!==r&&W.nodeName!=="HTML"&&!n.isChildOf(W,r)||!WH(e,U.clientX,U.clientY))return;L(),ye();const ie=UN(e,W);Gu(ie)?(U.preventDefault(),Iu(e,ie).each(T)):BN(r,U.clientX,U.clientY).each(ue=>{U.preventDefault();const ge=v(1,ue.node,ue.position===Vi.Before,!1);C(ge),me(ie)?ie.focus():e.getBody().focus()})}),e.on("keypress",U=>{he.modifierPressed(U)||Gu(t.getNode())&&U.preventDefault()}),e.on("GetSelectionRange",U=>{let W=U.range;if(f){if(!f.parentNode){f=null;return}W=W.cloneRange(),W.selectNode(f),U.range=W}}),e.on("SetSelectionRange",U=>{U.range=x(U.range);const W=T(U.range,U.forward);W&&(U.range=W)});const Y=U=>me(U)&&U.id==="mcepastebin";e.on("AfterSetSelectionRange",U=>{const W=U.range,ie=W.startContainer.parentElement;!S(W)&&!Y(ie)&&ye(),d(ie)||L()}),KZ(e),qZ(e),GZ(e)},k=Y=>ar(Y)||hf(Y)||vf(Y),S=Y=>k(Y.startContainer)||k(Y.endContainer),x=Y=>{const U=e.schema.getVoidElements(),W=n.createRng(),ie=Y.startContainer,ue=Y.startOffset,ge=Y.endContainer,Fe=Y.endOffset;return ze(U,ie.nodeName.toLowerCase())?ue===0?W.setStartBefore(ie):W.setStartAfter(ie):W.setStart(ie,ue),ze(U,ge.nodeName.toLowerCase())?Fe===0?W.setEndBefore(ge):W.setEndAfter(ge):W.setEnd(ge,Fe),W},F=(Y,U)=>{const W=D.fromDom(e.getBody()),ie=e.getDoc(),ue=Wa(W,"#"+i).getOrThunk(()=>{const Ne=D.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',ie);return Qt(Ne,"id",i),Ft(W,Ne),Ne}),ge=n.createRng();hi(ue),il(ue,[D.fromText(Wt,ie),D.fromDom(U),D.fromText(Wt,ie)]),ge.setStart(ue.dom.firstChild,1),ge.setEnd(ue.dom.lastChild,0),rf(ue,{top:n.getPos(Y,e.getBody()).y+"px"}),lw(ue);const Fe=t.getSel();return Fe&&(Fe.removeAllRanges(),Fe.addRange(ge)),ge},P=Y=>{const U=Y.cloneNode(!0),W=e.dispatch("ObjectSelected",{target:Y,targetClone:U});if(W.isDefaultPrevented())return null;const ie=F(Y,W.targetClone),ue=D.fromDom(Y);return ee(mn(D.fromDom(e.getBody()),`*[${u}]`),ge=>{et(ue,ge)||rn(ge,u)}),n.getAttrib(Y,u)||Y.setAttribute(u,"1"),f=Y,ye(),ie},T=(Y,U)=>{if(!Y)return null;if(Y.collapsed){if(!S(Y)){const ge=U?1:-1,Fe=vu(ge,r,Y),Ne=Fe.getNode(!U);if(Z(Ne)){if(mu(Ne))return v(ge,Ne,U?!Fe.isAtEnd():!1,!1);if(ds(Ne)&&mt(Ne.nextSibling)){const Ye=n.createRng();return Ye.setStart(Ne,0),Ye.setEnd(Ne,0),Ye}}const Ke=Fe.getNode(U);if(Z(Ke)){if(mu(Ke))return v(ge,Ke,U?!1:!Fe.isAtEnd(),!1);if(ds(Ke)&&mt(Ke.previousSibling)){const Ye=n.createRng();return Ye.setStart(Ke,1),Ye.setEnd(Ke,1),Ye}}}return null}let W=Y.startContainer,ie=Y.startOffset;const ue=Y.endOffset;if(ne(W)&&ie===0&&Gu(W.parentNode)&&(W=W.parentNode,ie=n.nodeIndex(W),W=W.parentNode),!me(W))return null;if(ue===ie+1&&W===Y.endContainer){const ge=W.childNodes[ie];if(g(ge))return P(ge)}return null},L=()=>{f&&f.removeAttribute(u),Wa(D.fromDom(e.getBody()),"#"+i).each(ht),f=null},q=()=>{s.destroy(),f=null},ye=()=>{s.hide()};return bo(e)||w(),{showCaret:v,showBlockCaretContainer:y,hideFakeCaret:ye,destroy:q}},QZ=(e,t)=>{let n=t;for(let r=e.previousSibling;ne(r);r=r.previousSibling)n+=r.data.length;return n},jN=(e,t,n,r,s)=>{if(ne(n)&&(r<0||r>n.data.length))return[];const i=s&&ne(n)?[QZ(n,r)]:[r];let u=n;for(;u!==t&&u.parentNode;)i.push(e.nodeIndex(u,s)),u=u.parentNode;return u===t?i.reverse():[]},j1=(e,t,n,r,s,i,u=!1)=>{const f=jN(e,t,n,r,u),d=jN(e,t,s,i,u);return{start:f,end:d}},HN=(e,t)=>{const n=t.slice(),r=n.pop();return Ot(r)?Kn(n,(i,u)=>i.bind(f=>E.from(f.childNodes[u])),E.some(e)).bind(i=>ne(i)&&(r<0||r>i.data.length)?E.none():E.some({node:i,offset:r})):E.none()},VN=(e,t)=>HN(e,t.start).bind(({node:n,offset:r})=>HN(e,t.end).map(({node:s,offset:i})=>{const u=document.createRange();return u.setStart(n,r),u.setEnd(s,i),u})),XZ=(e,t,n,r=!1)=>j1(e,t,n.startContainer,n.startOffset,n.endContainer,n.endOffset,r),Wi=(e,t,n)=>{if(t&&e.isEmpty(t)&&!n(t)){const r=t.parentNode;e.remove(t),Wi(e,r,n)}},Xd=(e,t,n,r=!0)=>{const s=t.startContainer.parentNode,i=t.endContainer.parentNode;t.deleteContents(),r&&!n(t.startContainer)&&(ne(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),ne(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),Wi(e,s,n),s!==i&&Wi(e,i,n))},H1=(e,t)=>E.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),WN=(e,t,n)=>{const r=e.dynamicPatternsLookup({text:n,block:t});return{...e,blockPatterns:EA(r).concat(e.blockPatterns),inlinePatterns:bA(r).concat(e.inlinePatterns)}},KN=(e,t,n,r)=>{const s=e.createRng();return s.setStart(t,0),s.setEnd(n,r),s.toString()},ZZ=e=>/^\s[^\s]/.test(e),qN=(e,t,n)=>{Yq(t,0,t).each(s=>{const i=s.container;r_(i,n.start.length,t).each(d=>{const g=e.createRng();g.setStart(i,0),g.setEnd(d.container,d.offset),Xd(e,g,C=>C===t)});const u=D.fromDom(i),f=ff(u);ZZ(f)&&TO(u,f.slice(1))})},JZ=(e,t)=>{const n=e.dom,r=t.pattern,s=VN(n.getRoot(),t.range).getOrDie("Unable to resolve path range"),i=(u,f)=>{const d=f.get(u);return Se(d)&&$n(d).exists(g=>ze(g,"block"))};return H1(e,s).each(u=>{r.type==="block-format"?i(r.format,e.formatter)&&e.undoManager.transact(()=>{qN(e.dom,u,r),e.formatter.apply(r.format)}):r.type==="block-command"&&e.undoManager.transact(()=>{qN(e.dom,u,r),e.execCommand(r.cmd,!1,r.value)})}),!0},eJ=e=>Js(e,(t,n)=>n.start.length-t.start.length),tJ=(e,t)=>{const n=eJ(e),r=t.replace(Wt," ");return zt(n,s=>t.indexOf(s.start)===0||r.indexOf(s.start)===0)},nJ=(e,t,n,r)=>{var s;const i=e.dom,u=Nn(e);if(!i.is(t,u))return[];const f=(s=t.textContent)!==null&&s!==void 0?s:"";return tJ(n.blockPatterns,f).map(d=>le.trim(f).length===d.start.length?[]:[{pattern:d,range:j1(i,i.getRoot(),t,0,t,0,r)}]).getOr([])},rJ=(e,t)=>{if(t.length===0)return;const n=e.selection.getBookmark();ee(t,r=>JZ(e,r)),e.selection.moveToBookmark(n)},GN=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),Zd=(e,t)=>{const n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},YN=(e,t,n)=>{const r=VN(e.getRoot(),n).getOrDie("Unable to resolve path range"),s=r.startContainer,i=r.endContainer,u=r.endOffset===0?i:i.splitText(r.endOffset),f=r.startOffset===0?s:s.splitText(r.startOffset),d=f.parentNode,g=u.parentNode;return{prefix:t,end:g.insertBefore(GN(e,t+"-end"),u),start:d.insertBefore(GN(e,t+"-start"),f)}},QN=(e,t,n)=>{Wi(e,e.get(t.prefix+"-end"),n),Wi(e,e.get(t.prefix+"-start"),n)},V1=e=>e.start.length===0,oJ=e=>(t,n)=>{const s=t.data.substring(0,n),i=s.lastIndexOf(e.charAt(e.length-1)),u=s.lastIndexOf(e);return u!==-1?u+e.length:i!==-1?i+1:-1},XN=(e,t,n,r)=>{const s=t.start;return m1(e,r.container,r.offset,oJ(s),n).bind(u=>{var f,d;const g=(d=(f=n.textContent)===null||f===void 0?void 0:f.indexOf(s))!==null&&d!==void 0?d:-1;if(g!==-1&&u.offset>=g+s.length){const v=e.createRng();return v.setStart(u.container,u.offset-s.length),v.setEnd(u.container,u.offset),E.some(v)}else{const v=u.offset-s.length;return d1(u.container,v,n).map(y=>{const w=e.createRng();return w.setStart(y.container,y.offset),w.setEnd(u.container,u.offset),w}).filter(y=>y.toString()===s).orThunk(()=>XN(e,t,n,qr(u.container,0)))}})},sJ=(e,t,n,r,s,i=!1)=>{if(t.start.length===0&&!i){const u=e.createRng();return u.setStart(n,r),u.setEnd(n,r),E.some(u)}return f1(n,r,s).bind(u=>XN(e,t,s,u).bind(d=>{var g;if(i){if(d.endContainer===u.container&&d.endOffset===u.offset)return E.none();if(u.offset===0&&((g=d.endContainer.textContent)===null||g===void 0?void 0:g.length)===d.endOffset)return E.none()}return E.some(d)}))},lJ=(e,t,n,r)=>{const s=e.dom,i=s.getRoot(),u=n.pattern,f=n.position.container,d=n.position.offset;return d1(f,d-n.pattern.end.length,t).bind(g=>{const C=j1(s,i,g.container,g.offset,f,d,r);if(V1(u))return E.some({matches:[{pattern:u,startRng:C,endRng:C}],position:g});{const v=Jd(e,n.remainingPatterns,g.container,g.offset,t,r),y=v.getOr({matches:[],position:g}),w=y.position;return sJ(s,u,w.container,w.offset,t,v.isNone()).map(S=>{const x=XZ(s,i,S,r);return{matches:y.matches.concat([{pattern:u,startRng:x,endRng:C}]),position:qr(S.startContainer,S.startOffset)}})}})},Jd=(e,t,n,r,s,i)=>{const u=e.dom;return f1(n,r,u.getRoot()).bind(f=>{const d=KN(u,s,n,r);for(let g=0;g<t.length;g++){const C=t[g];if(!qp(d,C.end))continue;const v=t.slice();v.splice(g,1);const y=lJ(e,s,{pattern:C,remainingPatterns:v,position:f},i);if(y.isNone()&&r>0)return Jd(e,t,n,r-1,s,i);if(y.isSome())return y}return E.none()})},ZN=(e,t,n)=>{e.selection.setRng(n),t.type==="inline-format"?ee(t.format,r=>{e.formatter.apply(r)}):e.execCommand(t.cmd,!1,t.value)},iJ=(e,t,n,r)=>{const s=Zd(e.dom,n);Xd(e.dom,s,r),ZN(e,t,s)},aJ=(e,t,n,r,s)=>{const i=e.dom,u=Zd(i,r),f=Zd(i,n);Xd(i,f,s),Xd(i,u,s);const d={prefix:n.prefix,start:n.end,end:r.start},g=Zd(i,d);ZN(e,t,g)},uJ=(e,t)=>{const n=su("mce_textpattern"),r=Pa(t,(s,i)=>{const u=YN(e,n+`_end${s.length}`,i.endRng);return s.concat([{...i,endMarker:u}])},[]);return Pa(r,(s,i)=>{const u=r.length-s.length-1,f=V1(i.pattern)?i.endMarker:YN(e,n+`_start${u}`,i.startRng);return s.concat([{...i,startMarker:f}])},[])},cJ=e=>Js(e,(t,n)=>n.end.length-t.end.length),fJ=(e,t)=>{const n=ss(e,r=>Bt(t,s=>r.pattern.start===s.pattern.start&&r.pattern.end===s.pattern.end));return e.length===t.length?n?e:t:e.length>t.length?e:t},JN=(e,t,n,r,s,i)=>{const u=Jd(e,s.inlinePatterns,n,r,t,i).fold(()=>[],d=>d.matches),f=Jd(e,cJ(s.inlinePatterns),n,r,t,i).fold(()=>[],d=>d.matches);return fJ(u,f)},eB=(e,t)=>{if(t.length===0)return;const n=e.dom,r=e.selection.getBookmark(),s=uJ(n,t);ee(s,i=>{const u=n.getParent(i.startMarker.start,n.isBlock),f=d=>d===u;V1(i.pattern)?iJ(e,i.pattern,i.endMarker,f):aJ(e,i.pattern,i.startMarker,i.endMarker,f),QN(n,i.endMarker,f),QN(n,i.startMarker,f)}),e.selection.moveToBookmark(r)},dJ=(e,t)=>{const n=e.selection.getRng();return H1(e,n).map(r=>{var s;const i=Math.max(0,n.startOffset),u=WN(t,r,(s=r.textContent)!==null&&s!==void 0?s:""),f=JN(e,r,n.startContainer,i,u,!0),d=nJ(e,r,u,!0);return d.length>0||f.length>0?(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{e.insertContent(Ci),eB(e,f),rJ(e,d);const g=e.selection.getRng(),C=f1(g.startContainer,g.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),C.each(v=>{const y=v.container;y.data.charAt(v.offset-1)===Ci&&(y.deleteData(v.offset-1,1),Wi(e.dom,y.parentNode,w=>w===e.dom.getRoot()))})}),!0):!1}).getOr(!1)},mJ=(e,t)=>{const n=e.selection.getRng();H1(e,n).map(r=>{const s=Math.max(0,n.startOffset-1),i=KN(e.dom,r,n.startContainer,s),u=WN(t,r,i),f=JN(e,r,n.startContainer,s,u,!1);f.length>0&&e.undoManager.transact(()=>{eB(e,f)})})},tB=(e,t,n)=>{for(let r=0;r<e.length;r++)if(n(e[r],t))return!0;return!1},pJ=(e,t)=>tB(e,t,(n,r)=>n===r.keyCode&&!he.modifierPressed(r)),gJ=(e,t)=>tB(e,t,(n,r)=>n.charCodeAt(0)===r.charCode),hJ=e=>{const t=[",",".",";",":","!","?"],n=[32],r=()=>X6(f8(e),d8(e)),s=()=>C8(e);e.on("keydown",u=>{if(u.keyCode===13&&!he.modifierPressed(u)&&e.selection.isCollapsed()){const f=r();(f.inlinePatterns.length>0||f.blockPatterns.length>0||s())&&dJ(e,f)&&u.preventDefault()}},!0);const i=()=>{if(e.selection.isCollapsed()){const u=r();(u.inlinePatterns.length>0||s())&&mJ(e,u)}};e.on("keyup",u=>{pJ(n,u)&&i()}),e.on("keypress",u=>{gJ(t,u)&&dr.setEditorTimeout(e,i)})},vJ=e=>{hJ(e)},CJ=e=>{const t=le.each,n=he.BACKSPACE,r=he.DELETE,s=e.dom,i=e.selection,u=e.parser,f=Qe.browser,d=f.isFirefox(),g=f.isChromium()||f.isSafari(),C=Qe.deviceType.isiPhone()||Qe.deviceType.isiPad(),v=Qe.os.isMacOS()||Qe.os.isiOS(),y=(be,Ae)=>{try{e.getDoc().execCommand(be,!1,String(Ae))}catch{}},w=be=>be.isDefaultPrevented(),k=()=>{const be=te=>{const Be=s.create("body"),He=te.cloneContents();return Be.appendChild(He),i.serializer.serialize(Be,{format:"html"})},Ae=te=>{const Be=be(te),He=s.createRng();He.selectNode(e.getBody());const Ze=be(He);return Be===Ze};e.on("keydown",te=>{const Be=te.keyCode;if(!w(te)&&(Be===r||Be===n)&&e.selection.isEditable()){const He=e.selection.isCollapsed(),Ze=e.getBody();if(He&&!s.isEmpty(Ze)||!He&&!Ae(e.selection.getRng()))return;te.preventDefault(),e.setContent(""),Ze.firstChild&&s.isBlock(Ze.firstChild)?e.selection.setCursorLocation(Ze.firstChild,0):e.selection.setCursorLocation(Ze,0),e.nodeChanged()}})},S=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},x=()=>{e.inline||s.bind(e.getDoc(),"mousedown mouseup",be=>{let Ae;if(be.target===e.getDoc().documentElement)if(Ae=i.getRng(),e.getBody().focus(),be.type==="mousedown"){if(ar(Ae.startContainer))return;i.placeCaretAt(be.clientX,be.clientY)}else i.setRng(Ae)})},F=()=>{e.on("keydown",be=>{if(!w(be)&&be.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(i.isCollapsed()&&i.getRng().startOffset===0){const Ae=i.getNode(),te=Ae.previousSibling;if(Ae.nodeName==="HR"){s.remove(Ae),be.preventDefault();return}te&&te.nodeName&&te.nodeName.toLowerCase()==="hr"&&(s.remove(te),be.preventDefault())}}})},P=()=>{Range.prototype.getClientRects||e.on("mousedown",be=>{if(!w(be)&&be.target.nodeName==="HTML"){const Ae=e.getBody();Ae.blur(),dr.setEditorTimeout(e,()=>{Ae.focus()})}})},T=()=>{const be=LA(e);e.on("click",Ae=>{const te=Ae.target;/^(IMG|HR)$/.test(te.nodeName)&&s.isEditable(te.parentNode)&&(Ae.preventDefault(),e.selection.select(te),e.nodeChanged()),te.nodeName==="A"&&s.hasClass(te,be)&&te.childNodes.length===0&&s.isEditable(te.parentNode)&&(Ae.preventDefault(),i.select(te))})},L=()=>{const be=()=>{const te=s.getAttribs(i.getStart().cloneNode(!1));return()=>{const Be=i.getStart();Be!==e.getBody()&&(s.setAttrib(Be,"style",null),t(te,He=>{Be.setAttributeNode(He.cloneNode(!0))}))}},Ae=()=>!i.isCollapsed()&&s.getParent(i.getStart(),s.isBlock)!==s.getParent(i.getEnd(),s.isBlock);e.on("keypress",te=>{let Be;return!w(te)&&(te.keyCode===8||te.keyCode===46)&&Ae()?(Be=be(),e.getDoc().execCommand("delete",!1),Be(),te.preventDefault(),!1):!0}),s.bind(e.getDoc(),"cut",te=>{if(!w(te)&&Ae()){const Be=be();dr.setEditorTimeout(e,()=>{Be()})}})},q=()=>{e.on("keydown",be=>{if(!w(be)&&be.keyCode===n&&i.isCollapsed()&&i.getRng().startOffset===0){const Ae=i.getNode().previousSibling;if(Ae&&Ae.nodeName&&Ae.nodeName.toLowerCase()==="table")return be.preventDefault(),!1}return!0})},ye=()=>{e.on("keydown",be=>{if(w(be)||be.keyCode!==he.BACKSPACE)return;let Ae=i.getRng();const te=Ae.startContainer,Be=Ae.startOffset,He=s.getRoot();let Ze=te;if(!(!Ae.collapsed||Be!==0)){for(;Ze.parentNode&&Ze.parentNode.firstChild===Ze&&Ze.parentNode!==He;)Ze=Ze.parentNode;Ze.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,Ze),Ae=s.createRng(),Ae.setStart(te,0),Ae.setEnd(te,0),i.setRng(Ae))}})},Y=()=>{const be=()=>{y("StyleWithCSS",!1),y("enableInlineTableEditing",!1),TA(e)||y("enableObjectResizing",!1)};OA(e)||e.on("BeforeExecCommand mousedown",be)},U=()=>{const be=()=>{t(s.select("a:not([data-mce-block])"),Ae=>{var te;let Be=Ae.parentNode;const He=s.getRoot();if((Be==null?void 0:Be.lastChild)===Ae){for(;Be&&!s.isBlock(Be);){if(((te=Be.parentNode)===null||te===void 0?void 0:te.lastChild)!==Be||Be===He)return;Be=Be.parentNode}s.add(Be,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",Ae=>{(Ae.type==="setcontent"||Ae.command==="mceInsertLink")&&be()})},W=()=>{e.on("init",()=>{y("DefaultParagraphSeparator",Nn(e))})},ie=be=>{const Ae=be.getBody(),te=be.selection.getRng();return te.startContainer===te.endContainer&&te.startContainer===Ae&&te.startOffset===0&&te.endOffset===Ae.childNodes.length},ue=()=>{e.on("keyup focusin mouseup",be=>{!he.modifierPressed(be)&&!ie(e)&&i.normalize()},!0)},ge=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Fe=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},Ne=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",be=>{let Ae;be.target.nodeName==="HTML"&&(Ae=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Ae),e.selection.normalize(),e.nodeChanged())}))},Ke=()=>{v&&e.on("keydown",be=>{he.metaKeyPressed(be)&&!be.shiftKey&&(be.keyCode===37||be.keyCode===39)&&(be.preventDefault(),e.selection.getSel().modify("move",be.keyCode===37?"backward":"forward","lineboundary"))})},Ye=()=>{e.on("click",be=>{let Ae=be.target;do if(Ae.tagName==="A"){be.preventDefault();return}while(Ae=Ae.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},vt=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",be=>{be.preventDefault()})})},Zt=()=>{u.addNodeFilter("br",be=>{let Ae=be.length;for(;Ae--;)be[Ae].attr("class")==="Apple-interchange-newline"&&be[Ae].remove()})},Tt=$e,re=()=>{if(!d||e.removed)return!1;const be=e.selection.getSel();return!be||!be.rangeCount||be.rangeCount===0},Ee=()=>{g&&(x(),T(),vt(),S(),C&&(Fe(),Ne(),Ye())),d&&(P(),Y(),ge(),Ke())},qe=()=>{e.on("drop",be=>{var Ae;const te=(Ae=be.dataTransfer)===null||Ae===void 0?void 0:Ae.getData("text/html");N(te)&&/^<img[^>]*>$/.test(te)&&e.dispatch("dragend",new window.DragEvent("dragend",be))})},Ve=()=>{ye(),k(),Qe.windowsPhone||ue(),g&&(x(),T(),W(),vt(),q(),Zt(),C?(Fe(),Ne(),Ye()):S()),d&&(F(),P(),L(),Y(),U(),ge(),Ke(),q(),qe())};return bo(e)?Ee():Ve(),{refreshContentEditable:Tt,isHidden:re}},W1=lt.DOM,yJ=(e,t)=>{const n=D.fromDom(e.getBody()),r=lg(is(n)),s=D.fromTag("style");Qt(s,"type","text/css"),Ft(s,D.fromText(t)),Ft(r,s),e.on("remove",()=>{ht(s)})},EJ=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,K1=e=>Oa(e,t=>Pe(t)===!1),nB=e=>{const t=e.options.get,n=e.editorUpload.blobCache;return K1({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:EJ(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:n,document:e.getDoc()})},rB=e=>{const t=e.options.get;return K1({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},bJ=e=>{const t=e.options.get;return{...nB(e),...rB(e),...K1({remove_trailing_brs:t("remove_trailing_brs"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},AJ=e=>{const t=Ii(nB(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(n,r)=>{const s=e.dom,i="data-mce-"+r;let u=n.length;for(;u--;){const f=n[u];let d=f.attr(r);if(d&&!f.attr(i)){if(d.indexOf("data:")===0||d.indexOf("blob:")===0)continue;r==="style"?(d=s.serializeStyle(s.parseStyle(d),f.name),d.length||(d=null),f.attr(i,d),f.attr(r,d)):r==="tabindex"?(f.attr(i,d),f.attr(r,null)):f.attr(i,e.convertURL(d,r,f.name))}}}),t.addNodeFilter("script",n=>{let r=n.length;for(;r--;){const s=n[r],i=s.attr("type")||"no/type";i.indexOf("mce-")!==0&&s.attr("type","mce-"+i)}}),g8(e)&&t.addNodeFilter("#cdata",n=>{var r;let s=n.length;for(;s--;){const i=n[s];i.type=8,i.name="#comment",i.value="[CDATA["+e.dom.encode((r=i.value)!==null&&r!==void 0?r:"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",n=>{let r=n.length;const s=e.schema.getNonEmptyElements();for(;r--;){const i=n[r];i.isEmpty(s)&&i.getAll("br").length===0&&i.append(new Fn("br",1))}}),t},SJ=e=>{const t=X7(e);t&&dr.setEditorTimeout(e,()=>{let n;t===!0?n=e:n=e.editorManager.get(t),n&&!n.destroyed&&(n.focus(),n.selection.scrollIntoView())},100)},wJ=e=>{const t=e.dom.getRoot();!e.inline&&(!zf(e)||e.selection.getStart(!0)===t)&&yn(t).each(n=>{const r=n.getNode(),s=zo(r)?yn(r).getOr(n):n;e.selection.setRng(s.toRange())})},xJ=e=>{e.bindPendingEventDelegates(),e.initialized=!0,ZI(e),e.focus(!0),wJ(e),e.nodeChanged({initial:!0});const t=Y7(e);je(t)&&t.call(e,e),SJ(e)},oB=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,kJ=(e,t,n)=>{const r=[oB(e).loadAll(t)];return e.inline?r:r.concat([e.ui.styleSheetLoader.loadAll(n)])},sB=e=>{const t=oB(e),n=PA(e),r=e.contentCSS,s=()=>{t.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(n)},i=()=>{e.removed?s():e.on("remove",s)};if(e.contentStyles.length>0){let d="";le.each(e.contentStyles,g=>{d+=g+`\r
`}),e.dom.addStyle(d)}const u=Promise.all(kJ(e,r,n)).then(i).catch(i),f=S7(e);return f&&yJ(e,f),u},DJ=e=>{const t=e.getDoc(),n=e.getBody();QI(e),Z7(e)||(t.body.spellcheck=!1,W1.setAttrib(n,"spellcheck","false")),e.quirks=CJ(e),XI(e);const r=w7(e);r!==void 0&&(n.dir=r);const s=J7(e);s&&e.on("BeforeSetContent",i=>{le.each(s,u=>{i.content=i.content.replace(u,f=>"<!--mce:protected "+escape(f)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",i=>{e.composing=i.type==="compositionstart"})},_J=e=>{bo(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},q1=e=>{e.removed!==!0&&(_J(e),xJ(e))},lB=e=>{const t=e.getElement();let n=e.getDoc();e.inline&&(W1.addClass(t,"mce-content-body"),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const r=e.getBody();r.disabled=!0,e.readonly=OA(e),e._editableRoot=j7(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&W1.getStyle(r,"position",!0)==="static"&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=vV(e),e.schema=ps(rB(e)),e.dom=lt(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:y7(e),referrerPolicy:Wg(e),onSetAttrib:u=>{e.dispatch("SetAttrib",u)}}),e.parser=AJ(e),e.serializer=nk(bJ(e),e),e.selection=tk(e.dom,e.getWin(),e.serializer,e),e.annotator=TS(e),e.formatter=vk(e),e.undoManager=yk(e),e._nodeChangeDispatcher=new AQ(e),e._selectionOverrides=YZ(e),VK(e),eZ(e),ZK(e),bo(e)||(iZ(e),vJ(e));const s=bQ(e);UK(e,s),YK(e),PV(e),$X(e);const i=bj(e);DJ(e),i.fold(()=>{sB(e).then(()=>q1(e))},u=>{e.setProgressState(!0),sB(e).then(()=>{u().then(f=>{e.setProgressState(!1),q1(e),Qx(e)},f=>{e.notificationManager.open({type:"error",text:String(f)}),q1(e),Qx(e)})})})},NJ=yt,BJ=(e,t,n)=>yO(e,t,NJ,n),G1=lt.DOM,FJ=(e,t,n,r)=>{const s=D.fromTag("iframe");return r.each(i=>Qt(s,"tabindex",i)),ls(s,n),ls(s,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),fi(s,"tox-edit-area__iframe"),s},PJ=e=>{let t=o7(e)+"<html><head>";xA(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const n=s7(e),r=l7(e),s=e.translate(q7(e));return kA(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+kA(e)+'" />'),t+=`</head><body id="${n}" class="mce-content-body ${r}" data-id="${e.id}" aria-label="${s}"><br></body></html>`,t},TJ=(e,t)=>{const n=e.translate("Rich Text Area"),r=Oo(D.fromDom(e.getElement()),"tabindex").bind(ef),s=FJ(e.id,n,r7(e),r).dom;s.onload=()=>{s.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=s,e.iframeHTML=PJ(e),G1.add(t.iframeContainer,s)},RJ=e=>{const t=e.iframeElement,n=()=>{e.contentDocument=t.contentDocument,lB(e)};if(v8(e)||Qe.browser.isFirefox()){const r=e.getDoc();r.open(),r.write(e.iframeHTML),r.close(),n()}else{const r=BJ(D.fromDom(t),"load",()=>{r.unbind(),n()});t.srcdoc=e.iframeHTML}},OJ=(e,t)=>{TJ(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=G1.isHidden(t.editorContainer)),e.getElement().style.display="none",G1.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,RJ(e)},iB=lt.DOM,IJ=(e,t,n)=>{const r=$i.get(n),s=$i.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=le.trim(n),r&&le.inArray(t,n)===-1){if(e.plugins[n])return;try{const i=r(e,s)||{};e.plugins[n]=i,je(i.init)&&(i.init(e,s),t.push(n))}catch(i){nV(e,n,i)}}},LJ=e=>e.replace(/^\-/,""),$J=e=>{const t=[];ee(Ff(e),n=>{IJ(e,t,LJ(n))})},MJ=e=>{const t=le.trim(NA(e)),n=e.ui.registry.getAll().icons,r={...vd.get("default").icons,...vd.get(t).icons};ft(r,(s,i)=>{ze(n,i)||e.ui.registry.addIcon(i,s)})},zJ=e=>{const t=xi(e);if(N(t)){const n=Rl.get(t);e.theme=n(e,Rl.urls[t])||{},je(e.theme.init)&&e.theme.init(e,Rl.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},UJ=e=>{const t=Kg(e),n=Li.get(t);e.model=n(e,Li.urls[t])},jJ=e=>{const t=e.theme.renderUI;return t?t():uB(e)},HJ=e=>{const t=e.getElement(),r=xi(e)(e,t);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:t.offsetHeight,r},aB=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),VJ=e=>{const t=iB.create("div");return iB.insertAfter(t,e),aB(t,t)},uB=e=>{const t=e.getElement();return e.inline?aB(null):VJ(t)},WJ=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,N(xi(e))?jJ(e):je(xi(e))?HJ(e):uB(e)},KJ=(e,t)=>{const n={show:E.from(t.show).getOr($e),hide:E.from(t.hide).getOr($e),isEnabled:E.from(t.isEnabled).getOr(yt),setEnabled:r=>{e.mode.isReadOnly()||E.from(t.setEnabled).each(s=>s(r))}};e.ui={...e.ui,...n}},qJ=async e=>{e.dispatch("ScriptsLoaded"),MJ(e),zJ(e),UJ(e),$J(e);const t=await WJ(e);KJ(e,E.from(t.api).getOr({})),e.editorContainer=t.editorContainer,lV(e),e.inline?lB(e):OJ(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},Ol=lt.DOM,cB=e=>e.charAt(0)==="-",GJ=(e,t)=>{const n=BA(t),r=E7(t);if(!jr.hasCode(n)&&n!=="en"){const s=io(r)?r:`${t.editorManager.baseURL}/langs/${n}.js`;e.add(s).catch(()=>{JH(t,s,n)})}},YJ=(e,t)=>{const n=xi(e);if(N(n)&&!cB(n)&&!ze(Rl.urls,n)){const r=N7(e),s=r?e.documentBaseURI.toAbsolute(r):`themes/${n}/theme${t}.js`;Rl.load(n,s).catch(()=>{eV(e,s,n)})}},QJ=(e,t)=>{const n=Kg(e);if(n!=="plugin"&&!ze(Li.urls,n)){const r=B7(e),s=N(r)?e.documentBaseURI.toAbsolute(r):`models/${n}/model${t}.js`;Li.load(n,s).catch(()=>{tV(e,s,n)})}},XJ=e=>E.from(p7(e)).filter(io).map(t=>({url:t,name:E.none()})),fB=(e,t,n)=>E.from(t).filter(r=>io(r)&&!vd.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${n}.js`,name:E.some(r)})),ZJ=(e,t,n)=>{const r=fB(t,"default",n),s=XJ(t).orThunk(()=>fB(t,NA(t),""));ee(_4([r,s]),i=>{e.add(i.url).catch(()=>{ZH(t,i.url,i.name.getOrUndefined())})})},JJ=(e,t)=>{const n=(r,s)=>{$i.load(r,s).catch(()=>{XH(e,s,r)})};ft(H7(e),(r,s)=>{n(s,r),e.options.set("plugins",Ff(e).concat(s))}),ee(Ff(e),r=>{r=le.trim(r),r&&!$i.urls[r]&&!cB(r)&&n(r,`plugins/${r}/plugin${t}.js`)})},eee=e=>{const t=xi(e);return!N(t)||Z(Rl.get(t))},tee=e=>{const t=Kg(e);return Z(Li.get(t))},nee=(e,t)=>{const n=jo.ScriptLoader,r=()=>{!e.removed&&eee(e)&&tee(e)&&qJ(e)};YJ(e,t),QJ(e,t),GJ(n,e),ZJ(n,e,t),JJ(e,t),n.loadQueue().then(r,r)},ree=(e,t)=>wb.forElement(e,{contentCssCors:IA(t),referrerPolicy:Wg(t)}),oee=e=>{const t=e.id;jr.setCode(BA(e));const n=()=>{Ol.unbind(window,"ready",n),e.render()};if(!pl.Event.domLoaded){Ol.bind(window,"ready",n);return}if(!e.getElement())return;const r=D.fromDom(e.getElement()),s=BE(r);e.on("remove",()=>{Vy(r.dom.attributes,u=>rn(r,u.name)),ls(r,s)}),e.ui.styleSheetLoader=ree(r,e),qg(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const i=e.getElement().form||Ol.getParent(t,"form");i&&(e.formElement=i,I7(e)&&!cg(e.getElement())&&(Ol.insertAfter(Ol.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=u=>{e.dispatch(u.type,u)},Ol.bind(i,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),L7(e)&&!i.submit.nodeType&&!i.submit.length&&!i._mceOldSubmit&&(i._mceOldSubmit=i.submit,i.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),i._mceOldSubmit(i)))),e.windowManager=uk(e),e.notificationManager=ak(e),b8(e)&&e.on("GetContent",u=>{u.save&&(u.content=Ol.encode(u.content))}),$7(e)&&e.on("submit",()=>{e.initialized&&e.save()}),M7(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),nee(e,e.suffix)},see=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),iL(e,t))},lee=e=>e._editableRoot,iee=(e,t)=>({sections:K(e),options:K(t)}),dB=ao().deviceType,mB=dB.isPhone(),aee=dB.isTablet(),Yu=e=>{if(de(e))return[];{const t=Se(e)?e:e.split(/[ ,]/),n=Je(t,ai);return Ie(n,io)}},uee=(e,t)=>{const n=e4(t,(r,s)=>ot(e,s));return iee(n.t,n.f)},cee=(e,t,n={})=>{const r=e.sections(),s=pt(r,t).getOr({});return le.extend({},n,s)},Y1=(e,t)=>ze(e.sections(),t),fee=(e,t)=>Y1(e,t)?e.sections()[t]:{},dee=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:pt(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),mee=(e,t)=>{var n;const r=(n=t.external_plugins)!==null&&n!==void 0?n:{};return e&&e.external_plugins?le.extend({},e.external_plugins,r):r},pee=(e,t)=>[...Yu(e),...Yu(t)],gee=(e,t,n,r)=>e&&Y1(t,"mobile")?r:n,hee=(e,t,n,r)=>{const s=Yu(n.forced_plugins),i=Yu(r.plugins),u=fee(t,"mobile"),f=u.plugins?Yu(u.plugins):i,d=gee(e,t,i,f),g=pee(s,d);return le.extend(r,{forced_plugins:s,plugins:g})},vee=(e,t)=>e&&Y1(t,"mobile"),Cee=(e,t,n,r,s)=>{var i;const u=e?{mobile:dee((i=s.mobile)!==null&&i!==void 0?i:{},t)}:{},f=uee(["mobile"],Fd(u,s)),d=le.extend(n,r,f.options(),vee(e,f)?cee(f,"mobile"):{},{external_plugins:mee(r,f.options())});return hee(e,f,r,d)},yee=(e,t)=>Cee(mB||aee,mB,t,e,t),Eee=(e,t)=>Kj(e,t),bee=e=>{const t=(r,s)=>{e.formatter.toggle(r,s),e.nodeChanged()},n=r=>()=>{ee("left,center,right,justify".split(","),s=>{r!==s&&e.formatter.remove("align"+s)}),r!=="none"&&t("align"+r)};e.editorCommands.addCommands({JustifyLeft:n("left"),JustifyCenter:n("center"),JustifyRight:n("right"),JustifyFull:n("justify"),JustifyNone:n("none")})},Aee=e=>{const t=n=>()=>{const r=e.selection,s=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return Bt(s,i=>Z(e.formatter.matchNode(i,n)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},See=e=>{bee(e),Aee(e)},wee=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const n=e.getDoc();let r;try{n.execCommand(t)}catch{r=!0}if(t==="paste"&&!n.queryCommandEnabled(t)&&(r=!0),r||!n.queryCommandSupported(t)){let s=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Qe.os.isMacOS()||Qe.os.isiOS())&&(s=s.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:s,type:"error"})}}})},xee=(e,t,n)=>{const r=D.fromDom(e.getRoot());return Du(r,V.fromRangeStart(t))?n=n.replace(/^ /,"&nbsp;"):n=n.replace(/^&nbsp;/," "),_u(r,V.fromRangeEnd(t))?n=n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n=n.replace(/&nbsp;(<br( \/)?>)?$/," "),n},kee=e=>{if(typeof e!="string"){const t=le.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},Dee=(e,t)=>{const n=e.selection,r=e.dom;return/^ | $/.test(t)?xee(r,n.getRng(),t):t},em=(e,t)=>{if(e.selection.isEditable()){const{content:n,details:r}=kee(t);F0(e,{...r,content:Dee(e,n),format:"html",set:!1,selection:!0}).each(s=>{const i=Vj(e,s.content,r);P0(e,i,s),e.addVisual()})}},_ee=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,n,r)=>{em(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,n,r)=>{em(e,e.dom.encode(r))},insertHTML:(t,n,r)=>{em(e,r)},mceInsertContent:(t,n,r)=>{em(e,r)},mceSetContent:(t,n,r)=>{e.setContent(r)},mceReplaceContent:(t,n,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(r8(e))}})},Nee={"font-size":"size","font-family":"face"},Bee=Zp("font"),Fee=(e,t,n)=>{const r=i=>of(i,e).orThunk(()=>Bee(i)?pt(Nee,e).bind(u=>Oo(i,u)):E.none()),s=i=>et(D.fromDom(t),i);return u0(D.fromDom(n),i=>r(i),s)},Pee=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),Tee=(e,t)=>E.from(lt.DOM.getStyle(t,e,!0)),pB=e=>(t,n)=>E.from(n).map(D.fromDom).filter(Mn).bind(r=>Fee(e,t,r.dom).or(Tee(e,r.dom))).getOr(""),Ree=pB("font-size"),Oee=or(Pee,pB("font-family")),Iee=e=>yn(e.getBody()).bind(t=>{const n=t.container();return E.from(ne(n)?n.parentNode:n)}),Lee=e=>E.from(e.selection.getRng()).bind(t=>{const n=e.getBody();return t.startContainer===n&&t.startOffset===0?E.none():E.from(e.selection.getStart(!0))}),$ee=(e,t)=>Lee(e).orThunk(ce(Iee,e)).map(D.fromDom).filter(Mn).bind(t),Q1=(e,t)=>$ee(e,si(E.some,t)),gB=(e,t)=>{if(/^[0-9.]+$/.test(t)){const n=parseInt(t,10);if(n>=1&&n<=7){const r=y8(e),s=E8(e);return s.length>0?s[n-1]||t:r[n-1]||t}else return t}else return t},Mee=e=>{const t=e.split(/\s*,\s*/);return Je(t,n=>n.indexOf(" ")!==-1&&!(nn(n,'"')||nn(n,"'"))?`'${n}'`:n).join(",")},zee=(e,t)=>{const n=gB(e,t);e.formatter.toggle("fontname",{value:Mee(n)}),e.nodeChanged()},Uee=e=>Q1(e,t=>Oee(e.getBody(),t.dom)).getOr(""),jee=(e,t)=>{e.formatter.toggle("fontsize",{value:gB(e,t)}),e.nodeChanged()},Hee=e=>Q1(e,t=>Ree(e.getBody(),t.dom)).getOr(""),Vee=e=>Q1(e,t=>{const n=D.fromDom(e.getBody()),r=u0(t,i=>of(i,"line-height"),ce(et,n)),s=()=>{const i=parseFloat(fo(t,"line-height")),u=parseFloat(fo(t,"font-size"));return String(i/u)};return r.getOrThunk(s)}).getOr(""),Wee=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},Kee=e=>{const t=(n,r)=>{e.formatter.toggle(n,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>{t(n)},"ForeColor,HiliteColor":(n,r,s)=>{t(n,{value:s})},BackColor:(n,r,s)=>{t("hilitecolor",{value:s})},FontName:(n,r,s)=>{zee(e,s)},FontSize:(n,r,s)=>{jee(e,s)},LineHeight:(n,r,s)=>{Wee(e,s)},Lang:(n,r,s)=>{var i;t(n,{value:s.code,customValue:(i=s.customCode)!==null&&i!==void 0?i:null})},RemoveFormat:n=>{e.formatter.remove(n)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(n,r,s)=>{t(N(s)?s:"p")},mceToggleFormat:(n,r,s)=>{t(s)}})},qee=e=>{const t=n=>e.formatter.match(n);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>t(n),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>Uee(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>Hee(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>Vee(e))},Gee=e=>{Kee(e),qee(e)},Yee=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},Qee=e=>{e.editorCommands.addCommands({Indent:()=>{$K(e)},Outdent:()=>{AD(e)}}),e.editorCommands.addCommands({Outdent:()=>CD(e)},"state")},Xee=e=>{const t=(n,r,s)=>{const i=N(s)?{href:s}:s,u=e.dom.getParent(e.selection.getNode(),"a");G(i)&&N(i.href)&&(i.href=i.href.replace(/ /g,"%20"),(!u||!i.href)&&e.formatter.remove("link"),i.href&&e.formatter.apply("link",i,u))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const n=e.dom.getParent(e.selection.getStart(),"a");n&&e.dom.remove(n,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},Zee=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{e.getDoc().execCommand(t);const n=e.dom.getParent(e.selection.getNode(),"ol,ul");if(n){const r=n.parentNode;if(r&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)){const s=e.selection.getBookmark();e.dom.split(r,n),e.selection.moveToBookmark(s)}}}})},Jee=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{const n=e.dom.getParent(e.selection.getNode(),"ul,ol");return n&&(t==="insertunorderedlist"&&n.tagName==="UL"||t==="insertorderedlist"&&n.tagName==="OL")}},"state")},ete=e=>{Zee(e),Jee(e)},tte=e=>{e.editorCommands.addCommands({insertParagraph:()=>{jd(F_,e)},mceInsertNewLine:(t,n,r)=>{$_(e,r)},InsertLineBreak:(t,n,r)=>{jd(R_,e)}})},nte=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,n,r)=>{let s=0;e.dom.getParent(e.selection.getNode(),i=>me(i)&&s++===r?(e.selection.select(i),!1):!0,e.getBody())},mceSelectNode:(t,n,r)=>{e.selection.select(r)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),Ur);if(t){const n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}}})},rte=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,n,r)=>{const s=r??e.selection.getNode();if(s!==e.getBody()){const i=e.selection.getBookmark();e.dom.remove(s,!0),e.selection.moveToBookmark(i)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,n,r)=>{P5(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},ote=e=>{See(e),wee(e),Yee(e),nte(e),_ee(e),Xee(e),Qee(e),tte(e),ete(e),Gee(e),rte(e)},ste=["toggleview"],hB=e=>ot(ste,e.toLowerCase());class vB{constructor(t){this.commands={state:{},exec:{},value:{}},this.editor=t}execCommand(t,n=!1,r,s){const i=this.editor,u=t.toLowerCase(),f=s==null?void 0:s.skip_focus;if(i.removed||(u!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(u)&&!f?i.focus():f5(i)),i.dispatch("BeforeExecCommand",{command:t,ui:n,value:r}).isDefaultPrevented()))return!1;const g=this.commands.exec[u];return je(g)?(g(u,n,r),i.dispatch("ExecCommand",{command:t,ui:n,value:r}),!0):!1}queryCommandState(t){if(!hB(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const n=t.toLowerCase(),r=this.commands.state[n];return je(r)?r(n):!1}queryCommandValue(t){if(!hB(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const n=t.toLowerCase(),r=this.commands.value[n];return je(r)?r(n):""}addCommands(t,n="exec"){const r=this.commands;ft(t,(s,i)=>{ee(i.toLowerCase().split(","),u=>{r[n][u]=s})})}addCommand(t,n,r){const s=t.toLowerCase();this.commands.exec[s]=(i,u,f)=>n.call(r??this.editor,u,f)}queryCommandSupported(t){const n=t.toLowerCase();return!!this.commands.exec[n]}addQueryStateHandler(t,n,r){this.commands.state[t.toLowerCase()]=()=>n.call(r??this.editor)}addQueryValueHandler(t,n,r){this.commands.value[t.toLowerCase()]=()=>n.call(r??this.editor)}}const Il="data-mce-contenteditable",lte=(e,t,n)=>{eg(e,t)&&!n?di(e,t):n&&fi(e,t)},X1=(e,t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch{}},tm=(e,t)=>{e.dom.contentEditable=t?"true":"false"},ite=e=>{ee(mn(e,'*[contenteditable="true"]'),t=>{Qt(t,Il,"true"),tm(t,!1)})},ate=e=>{ee(mn(e,`*[${Il}="true"]`),t=>{rn(t,Il),tm(t,!0)})},ute=e=>{E.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},cte=e=>{e.selection.setRng(e.selection.getRng())},fte=(e,t)=>{const n=D.fromDom(e.getBody());lte(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),ute(e),e.readonly=!0,tm(n,!1),ite(n)):(e.readonly=!1,e.hasEditableRoot()&&tm(n,!0),ate(n),X1(e,"StyleWithCSS",!1),X1(e,"enableInlineTableEditing",!1),X1(e,"enableObjectResizing",!1),B5(e)&&e.focus(),cte(e),e.nodeChanged())},Ll=e=>e.readonly,CB=e=>{e.parser.addAttributeFilter("contenteditable",t=>{Ll(e)&&ee(t,n=>{n.attr(Il,n.attr("contenteditable")),n.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(Il,t=>{Ll(e)&&ee(t,n=>{n.attr("contenteditable",n.attr(Il))})}),e.serializer.addTempAttr(Il)},dte=e=>{e.serializer?CB(e):e.on("PreInit",()=>{CB(e)})},mte=e=>e.type==="click",pte=["copy"],gte=e=>ot(pte,e.type),hte=(e,t)=>ll(t,"a",r=>et(r,D.fromDom(e.getBody()))).bind(r=>Oo(r,"href")),vte=(e,t)=>{if(mte(t)&&!he.metaKeyPressed(t)){const n=D.fromDom(t.target);hte(e,n).each(r=>{if(t.preventDefault(),/^#/.test(r)){const s=e.dom.select(`${r},[name="${eE(r,"#")}"]`);s.length&&e.selection.scrollIntoView(s[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else gte(t)&&e.dispatch(t.type,t)},Cte=e=>{e.on("ShowCaret",t=>{Ll(e)&&t.preventDefault()}),e.on("ObjectSelected",t=>{Ll(e)&&t.preventDefault()})},yte=le.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class Z1{static isNative(t){return!!yte[t.toLowerCase()]}constructor(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||rt}fire(t,n){return this.dispatch(t,n)}dispatch(t,n){const r=t.toLowerCase(),s=Ng(r,n??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(s);const i=this.bindings[r];if(i)for(let u=0,f=i.length;u<f;u++){const d=i[u];if(!d.removed){if(d.once&&this.off(r,d.func),s.isImmediatePropagationStopped())return s;if(d.func.call(this.scope,s)===!1)return s.preventDefault(),s}}return s}on(t,n,r,s){if(n===!1&&(n=rt),n){const i={func:n,removed:!1};s&&le.extend(i,s);const u=t.toLowerCase().split(" ");let f=u.length;for(;f--;){const d=u[f];let g=this.bindings[d];g||(g=[],this.toggleEvent(d,!0)),r?g=[i,...g]:g=[...g,i],this.bindings[d]=g}}return this}off(t,n){if(t){const r=t.toLowerCase().split(" ");let s=r.length;for(;s--;){const i=r[s];let u=this.bindings[i];if(!i)return ft(this.bindings,(f,d)=>{this.toggleEvent(d,!1),delete this.bindings[d]}),this;if(u){if(!n)u.length=0;else{const f=Fa(u,d=>d.func===n);u=f.fail,this.bindings[i]=u,ee(f.pass,d=>{d.removed=!0})}u.length||(this.toggleEvent(t,!1),delete this.bindings[i])}}}else ft(this.bindings,(r,s)=>{this.toggleEvent(s,!1)}),this.bindings={};return this}once(t,n,r){return this.on(t,n,r,{once:!0})}has(t){t=t.toLowerCase();const n=this.bindings[t];return!(!n||n.length===0)}}const Qu=e=>(e._eventDispatcher||(e._eventDispatcher=new Z1({scope:e,toggleEvent:(t,n)=>{Z1.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher),J1={fire(e,t,n){return this.dispatch(e,t,n)},dispatch(e,t,n){const r=this;if(r.removed&&e!=="remove"&&e!=="detach")return Ng(e.toLowerCase(),t??{},r);const s=Qu(r).dispatch(e,t);if(n!==!1&&r.parent){let i=r.parent();for(;i&&!s.isPropagationStopped();)i.dispatch(e,s,!1),i=i.parent?i.parent():void 0}return s},on(e,t,n){return Qu(this).on(e,t,n)},off(e,t){return Qu(this).off(e,t)},once(e,t){return Qu(this).once(e,t)},hasEventListeners(e){return Qu(this).has(e)}},nm=lt.DOM;let $l;const rm=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const n=RA(e);return n?(e.eventRoot||(e.eventRoot=nm.select(n)[0]),e.eventRoot):e.getBody()},Ete=e=>!e.hidden&&!Ll(e),yB=(e,t,n)=>{Ete(e)?e.dispatch(t,n):Ll(e)&&vte(e,n)},EB=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const n=rm(e,t);if(RA(e)){if($l||($l={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||$l&&(ft($l,(s,i)=>{e.dom.unbind(rm(e,i))}),$l=null)})),$l[t])return;const r=s=>{const i=s.target,u=e.editorManager.get();let f=u.length;for(;f--;){const d=u[f].getBody();(d===i||nm.isChildOf(i,d))&&yB(u[f],t,s)}};$l[t]=r,nm.bind(n,t,r)}else{const r=s=>{yB(e,t,s)};nm.bind(n,t,r),e.delegates[t]=r}},bB={...J1,bindPendingEventDelegates(){const e=this;le.each(e._pendingNativeEvents,t=>{EB(e,t)})},toggleNativeEvent(e,t){const n=this;e==="focus"||e==="blur"||n.removed||(t?n.initialized?EB(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&n.delegates&&(n.dom.unbind(rm(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),n=e.dom;e.delegates&&(ft(e.delegates,(r,s)=>{e.dom.unbind(rm(e,s),s,r)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}},bte=e=>N(e)?{value:e.split(/[ ,]/),valid:!0}:fn(e,N)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},Ate=e=>{const t=(()=>{switch(e){case"array":return Se;case"boolean":return _e;case"function":return je;case"number":return Ot;case"object":return G;case"string":return N;case"string[]":return bte;case"object[]":return n=>fn(n,G);case"regexp":return n=>B(n,RegExp);default:return yt}})();return n=>ev(n,t,`The value must be a ${e}.`)},Ste=e=>N(e.processor),AB=(e,t)=>{const n=$a(t.message)?"":`. ${t.message}`;return e+n},SB=e=>e.valid,ev=(e,t,n="")=>{const r=t(e);return _e(r)?r?{value:e,valid:!0}:{valid:!1,message:n}:r},wte=(e,t,n)=>{if(!Pe(t)){const r=ev(t,n);if(SB(r))return r.value;console.error(AB(`Invalid default value passed for the "${e}" option`,r))}},xte=(e,t)=>{const n={},r={},s=(v,y,w)=>{const k=ev(y,w);return SB(k)?(r[v]=k.value,!0):(console.warn(AB(`Invalid value passed for the ${v} option`,k)),!1)},i=(v,y)=>{const w=Ste(y)?Ate(y.processor):y.processor,k=wte(v,y.default,w);n[v]={...y,default:k,processor:w},pt(r,v).orThunk(()=>pt(t,v)).each(x=>s(v,x,w))},u=v=>ze(n,v);return{register:i,isRegistered:u,get:v=>pt(r,v).orThunk(()=>pt(n,v).map(y=>y.default)).getOrUndefined(),set:(v,y)=>{if(u(v)){const w=n[v];return w.immutable?(console.error(`"${v}" is an immutable option and cannot be updated`),!1):s(v,y,w.processor)}else return console.warn(`"${v}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:v=>{const y=u(v);return y&&delete r[v],y},isSet:v=>ze(r,v)}},kte=["design","readonly"],wB=(e,t,n,r)=>{const s=n[t.get()],i=n[r];try{i.activate()}catch(u){console.error(`problem while activating editor mode ${r}:`,u);return}s.deactivate(),s.editorReadOnly!==i.editorReadOnly&&fte(e,i.editorReadOnly),t.set(r),qI(e,r)},Dte=(e,t,n,r)=>{if(r!==n.get()){if(!ze(t,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?wB(e,n,t,r):e.on("init",()=>wB(e,n,t,r))}},_te=(e,t,n)=>{if(ot(kte,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...n,deactivate:()=>{try{n.deactivate()}catch(r){console.error(`problem while deactivating editor mode ${t}:`,r)}}}}},Nte=e=>{const t=Kt("design"),n=Kt({design:{activate:$e,deactivate:$e,editorReadOnly:!1},readonly:{activate:$e,deactivate:$e,editorReadOnly:!0}});return dte(e),Cte(e),{isReadOnly:()=>Ll(e),set:r=>Dte(e,n.get(),t,r),get:()=>t.get(),register:(r,s)=>{n.set(_te(n.get(),r,s))}}},tv=le.each,nv=le.explode,Bte={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},xB=le.makeMap("alt,ctrl,shift,meta,access"),Fte=e=>e in xB,Pte=e=>{const t={},n=Qe.os.isMacOS()||Qe.os.isiOS();tv(nv(e.toLowerCase(),"+"),i=>{Fte(i)?t[i]=!0:/^[0-9]{2,}$/.test(i)?t.keyCode=parseInt(i,10):(t.charCode=i.charCodeAt(0),t.keyCode=Bte[i]||i.toUpperCase().charCodeAt(0))});const r=[t.keyCode];let s;for(s in xB)t[s]?r.push(s):t[s]=!1;return t.id=r.join(","),t.access&&(t.alt=!0,n?t.ctrl=!0:t.shift=!0),t.meta&&(n?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class kB{constructor(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;const n=this;t.on("keyup keypress keydown",r=>{(n.hasModifier(r)||n.isFunctionKey(r))&&!r.isDefaultPrevented()&&(tv(n.shortcuts,s=>{n.matchShortcut(r,s)&&(n.pendingPatterns=s.subpatterns.slice(0),r.type==="keydown"&&n.executeShortcutAction(s))}),n.matchShortcut(r,n.pendingPatterns[0])&&(n.pendingPatterns.length===1&&r.type==="keydown"&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}add(t,n,r,s){const i=this,u=i.normalizeCommandFunc(r);return tv(nv(le.trim(t)),f=>{const d=i.createShortcut(f,n,u,s);i.shortcuts[d.id]=d}),!0}remove(t){const n=this.createShortcut(t);return this.shortcuts[n.id]?(delete this.shortcuts[n.id],!0):!1}normalizeCommandFunc(t){const n=this,r=t;return typeof r=="string"?()=>{n.editor.execCommand(r,!1,null)}:le.isArray(r)?()=>{n.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(t,n,r,s){const i=le.map(nv(t,">"),Pte);return i[i.length-1]=le.extend(i[i.length-1],{func:r,scope:s||this.editor}),le.extend(i[0],{desc:this.editor.translate(n),subpatterns:i.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,n){return!n||n.ctrl!==t.ctrlKey||n.meta!==t.metaKey||n.alt!==t.altKey||n.shift!==t.shiftKey?!1:t.keyCode===n.keyCode||t.charCode&&t.charCode===n.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const Tte=()=>{const e={},t={},n={},r={},s={},i={},u={},f={},d=(C,v)=>(y,w)=>{C[y.toLowerCase()]={...w,type:v}},g=(C,v)=>r[C.toLowerCase()]=v;return{addButton:d(e,"button"),addGroupToolbarButton:d(e,"grouptoolbarbutton"),addToggleButton:d(e,"togglebutton"),addMenuButton:d(e,"menubutton"),addSplitButton:d(e,"splitbutton"),addMenuItem:d(t,"menuitem"),addNestedMenuItem:d(t,"nestedmenuitem"),addToggleMenuItem:d(t,"togglemenuitem"),addAutocompleter:d(n,"autocompleter"),addContextMenu:d(s,"contextmenu"),addContextToolbar:d(i,"contexttoolbar"),addContextForm:d(i,"contextform"),addSidebar:d(u,"sidebar"),addView:d(f,"views"),addIcon:g,getAll:()=>({buttons:e,menuItems:t,icons:r,popups:n,contextMenus:s,contextToolbars:i,sidebars:u,views:f})}},Rte=()=>{const e=Tte();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},Ml=lt.DOM,DB=le.extend,Ote=le.each;class om{constructor(t,n,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,DB(this,bB);const s=this;this.id=t,this.hidden=!1;const i=yee(r.defaultOptions,n);this.options=xte(s,i),n7(s);const u=this.options.get;u("deprecation_warnings")&&PH(n,i);const f=u("suffix");f&&(r.suffix=f),this.suffix=r.suffix;const d=u("base_url");d&&r._setBaseUrl(d),this.baseUri=r.baseURI;const g=Wg(s);g&&(jo.ScriptLoader._setReferrerPolicy(g),lt.DOM.styleSheetLoader._setReferrerPolicy(g));const C=IA(s);Z(C)&&lt.DOM.styleSheetLoader._setContentCssCors(C),vn.languageLoad=u("language_load"),vn.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new Kr(xA(s),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=qg(s),this.hasVisual=W7(s),this.shortcuts=new kB(this),this.editorCommands=new vB(this),ote(this);const v=u("cache_suffix");v&&(Qe.cacheSuffix=v.replace(/^[\?\&]+/,"")),this.ui={registry:Rte(),styleSheetLoader:void 0,show:$e,hide:$e,setEnabled:$e,isEnabled:yt},this.mode=Nte(s),r.dispatch("SetupEditor",{editor:this});const y=G7(s);je(y)&&y.call(s,s)}render(){oee(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return Dl(this)}translate(t){return jr.translate(t)}getParam(t,n,r){const s=this.options;return s.isRegistered(t)||(Z(r)?s.register(t,{processor:r,default:n}):s.register(t,{processor:yt,default:n})),!s.isSet(t)&&!Pe(n)?n:s.get(t)}hasPlugin(t,n){return ot(Ff(this),t)?n?$i.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,n,r){this.editorCommands.addCommand(t,n,r)}addQueryStateHandler(t,n,r){this.editorCommands.addQueryStateHandler(t,n,r)}addQueryValueHandler(t,n,r){this.editorCommands.addQueryValueHandler(t,n,r)}addShortcut(t,n,r,s){this.shortcuts.add(t,n,r,s)}execCommand(t,n,r,s){return this.editorCommands.execCommand(t,n,r,s)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(Ml.show(t.getContainer()),Ml.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(Ml.hide(t.getContainer()),Ml.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,n){this.dispatch("ProgressState",{state:t,time:n})}load(t={}){const n=this,r=n.getElement();if(n.removed)return"";if(r){const s={...t,load:!0},i=cg(r)?r.value:r.innerHTML,u=n.setContent(i,s);return s.no_events||n.dispatch("LoadContent",{...s,element:r}),u}else return""}save(t={}){const n=this;let r=n.getElement();if(!r||!n.initialized||n.removed)return"";const s={...t,save:!0,element:r};let i=n.getContent(s);const u={...s,content:i};if(u.no_events||n.dispatch("SaveContent",u),u.format==="raw"&&n.dispatch("RawSaveContent",u),i=u.content,cg(r))r.value=i;else{(t.is_removing||!n.inline)&&(r.innerHTML=i);const f=Ml.getParent(n.id,"form");f&&Ote(f.elements,d=>d.name===n.id?(d.value=i,!1):!0)}return u.element=s.element=r=null,u.set_dirty!==!1&&n.setDirty(!1),i}setContent(t,n){return z0(this,t,n)}getContent(t){return yH(this,t)}insertContent(t,n){n&&(t=DB({content:t},n)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?z0(this,this.startContent,{format:"raw"}):z0(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const n=!this.isNotDirty;this.isNotDirty=!t,t&&t!==n&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||Ml.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Ml.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const n=t.iframeElement;n&&(t.contentWindow=n.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const n=t.getWin();n&&(t.contentDocument=n.document)}return t.contentDocument}getBody(){var t,n;const r=this.getDoc();return(n=(t=this.bodyElement)!==null&&t!==void 0?t:r==null?void 0:r.body)!==null&&n!==void 0?n:null}convertURL(t,n,r){const s=this,i=s.options.get,u=Q7(s);return je(u)?u.call(s,t,r,!0,n):!i("convert_urls")||r==="link"||G(r)&&r.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0?t:i("relative_urls")?s.documentBaseURI.toRelative(t):(t=s.documentBaseURI.toAbsolute(t,i("remove_script_host")),t)}addVisual(t){Eee(this,t)}setEditableRoot(t){see(this,t)}hasEditableRoot(){return lee(this)}remove(){IH(this)}destroy(t){LH(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const Ki=lt.DOM,sm=le.each;let _B=!1,lm,Pn=[];const im=e=>{const t=e.type;sm(Ds.get(),n=>{switch(t){case"scroll":n.dispatch("ScrollWindow",e);break;case"resize":n.dispatch("ResizeWindow",e);break}})},NB=e=>{if(e!==_B){const t=lt.DOM;e?(t.bind(window,"resize",im),t.bind(window,"scroll",im)):(t.unbind(window,"resize",im),t.unbind(window,"scroll",im)),_B=e}},BB=e=>{const t=Pn;return Pn=Ie(Pn,n=>e!==n),Ds.activeEditor===e&&(Ds.activeEditor=Pn.length>0?Pn[0]:null),Ds.focusedEditor===e&&(Ds.focusedEditor=null),t.length!==Pn.length},Ite=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(BB(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},Lte=document.compatMode!=="CSS1Compat",Ds={...J1,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"6.0",releaseDate:"2023-07-12",i18n:jr,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",n="",r=Kr.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const s=window.tinymce||window.tinyMCEPreInit;if(s)t=s.base||s.baseURL,n=s.suffix;else{const i=document.getElementsByTagName("script");for(let u=0;u<i.length;u++){const f=i[u].src||"";if(f==="")continue;const d=f.substring(f.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(f)){d.indexOf(".min")!==-1&&(n=".min"),t=f.substring(0,f.lastIndexOf("/"));break}}if(!t&&document.currentScript){const u=document.currentScript.src;u.indexOf(".min")!==-1&&(n=".min"),t=u.substring(0,u.lastIndexOf("/"))}}e.baseURL=new Kr(r).toAbsolute(t),e.documentBaseURL=r,e.baseURI=new Kr(e.baseURL),e.suffix=n,A5(e)},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const n=e.suffix;n&&(this.suffix=n),this.defaultOptions=e;const r=e.plugin_base_urls;r!==void 0&&ft(r,(s,i)=>{vn.PluginManager.urls[i]=s})},init(e){const t=this;let n;const r=le.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),s=(C,v)=>C.inline&&v.tagName.toLowerCase()in r,i=C=>{let v=C.id;return v||(v=pt(C,"name").filter(y=>!Ki.get(y)).getOrThunk(Ki.uniqueId),C.setAttribute("id",v)),v},u=C=>{const v=e[C];if(v)return v.apply(t,[])},f=C=>Qe.browser.isIE()||Qe.browser.isEdge()?(yd("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):Lte?(yd("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):N(C.selector)?Ki.select(C.selector):Z(C.target)?[C.target]:[];let d=C=>{n=C};const g=()=>{let C=0;const v=[];let y;const w=(k,S,x)=>{const F=new om(k,S,t);v.push(F),F.on("init",()=>{++C===y.length&&d(v)}),F.targetElm=F.targetElm||x,F.render()};Ki.unbind(window,"ready",g),u("onpageload"),y=XR(f(e)),le.each(y,k=>{Ite(t.get(k.id))}),y=le.grep(y,k=>!t.get(k.id)),y.length===0?d([]):sm(y,k=>{s(e,k)?yd("Could not initialize inline editor on invalid inline target element",k):w(i(k),e,k)})};return Ki.bind(window,"ready",g),new Promise(C=>{n?C(n):d=v=>{C(v)}})},get(e){return arguments.length===0?Pn.slice(0):N(e)?zt(Pn,t=>t.id===e).getOr(null):Ot(e)&&Pn[e]?Pn[e]:null},add(e){const t=this,n=t.get(e.id);return n===e||(n===null&&Pn.push(e),NB(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),lm||(lm=r=>{const s=t.dispatch("BeforeUnload");if(s.returnValue)return r.preventDefault(),r.returnValue=s.returnValue,s.returnValue},window.addEventListener("beforeunload",lm))),e},createEditor(e,t){return this.add(new om(e,t,this))},remove(e){const t=this;let n;if(!e){for(let r=Pn.length-1;r>=0;r--)t.remove(Pn[r]);return}if(N(e)){sm(Ki.select(e),r=>{n=t.get(r.id),n&&t.remove(n)});return}return n=e,De(t.get(n.id))?null:(BB(n)&&t.dispatch("RemoveEditor",{editor:n}),Pn.length===0&&window.removeEventListener("beforeunload",lm),n.remove(),NB(Pn.length>0),n)},execCommand(e,t,n){var r;const s=this,i=G(n)?(r=n.id)!==null&&r!==void 0?r:n.index:n;switch(e){case"mceAddEditor":{if(!s.get(i)){const u=n.options;new om(i,u,s).render()}return!0}case"mceRemoveEditor":{const u=s.get(i);return u&&u.remove(),!0}case"mceToggleEditor":{const u=s.get(i);return u?(u.isHidden()?u.show():u.hide(),!0):(s.execCommand("mceAddEditor",!1,n),!0)}}return s.activeEditor?s.activeEditor.execCommand(e,t,n):!1},triggerSave:()=>{sm(Pn,e=>{e.save()})},addI18n:(e,t)=>{jr.add(e,t)},translate:e=>jr.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Kr(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Kr(this.baseURL)}};Ds.setup();const $te=(()=>{const e=gs(),t=i=>({items:i,types:qn(i),getType:u=>pt(i,u).getOrUndefined()}),n=i=>{e.set(i)},r=()=>e.get().getOrUndefined(),s=e.clear;return{FakeClipboardItem:t,write:n,read:r,clear:s}})(),FB=Math.min,qi=Math.max,am=Math.round,PB=(e,t,n)=>{let r=t.x,s=t.y;const i=e.w,u=e.h,f=t.w,d=t.h,g=(n||"").split("");return g[0]==="b"&&(s+=d),g[1]==="r"&&(r+=f),g[0]==="c"&&(s+=am(d/2)),g[1]==="c"&&(r+=am(f/2)),g[3]==="b"&&(s-=u),g[4]==="r"&&(r-=i),g[3]==="c"&&(s-=am(u/2)),g[4]==="c"&&(r-=am(i/2)),Gi(r,s,i,u)},Mte=(e,t,n,r)=>{for(let s=0;s<r.length;s++){const i=PB(e,t,r[s]);if(i.x>=n.x&&i.x+i.w<=n.w+n.x&&i.y>=n.y&&i.y+i.h<=n.h+n.y)return r[s]}return null},zte=(e,t,n)=>Gi(e.x-t,e.y-n,e.w+t*2,e.h+n*2),Ute=(e,t)=>{const n=qi(e.x,t.x),r=qi(e.y,t.y),s=FB(e.x+e.w,t.x+t.w),i=FB(e.y+e.h,t.y+t.h);return s-n<0||i-r<0?null:Gi(n,r,s-n,i-r)},jte=(e,t,n)=>{let r=e.x,s=e.y,i=e.x+e.w,u=e.y+e.h;const f=t.x+t.w,d=t.y+t.h,g=qi(0,t.x-r),C=qi(0,t.y-s),v=qi(0,i-f),y=qi(0,u-d);return r+=g,s+=C,n&&(i+=g,u+=C,r-=v,s-=y),i-=v,u-=y,Gi(r,s,i-r,u-s)},Gi=(e,t,n,r)=>({x:e,y:t,w:n,h:r}),Hte={inflate:zte,relativePosition:PB,findBestRelativePosition:Mte,intersect:Ute,clamp:jte,create:Gi,fromClientRect:e=>Gi(e.left,e.top,e.width,e.height)},Vte=(e,t,n=1e3)=>{let r=!1,s=null;const i=g=>(...C)=>{r||(r=!0,s!==null&&(clearTimeout(s),s=null),g.apply(null,C))},u=i(e),f=i(t);return{start:(...g)=>{!r&&s===null&&(s=setTimeout(()=>f.apply(null,g),n))},resolve:u,reject:f}},Wte=(()=>{const e={},t={};return{load:(i,u)=>{const f=`Script at URL "${u}" failed to load`,d=`Script at URL "${u}" did not call \`tinymce.Resource.add('${i}', data)\` within 1 second`;if(e[i]!==void 0)return e[i];{const g=new Promise((C,v)=>{const y=Vte(C,v);t[i]=y.resolve,jo.ScriptLoader.loadScript(u).then(()=>y.start(d),()=>y.reject(f))});return e[i]=g,g}},add:(i,u)=>{t[i]!==void 0&&(t[i](u),delete t[i]),e[i]=Promise.resolve(u)},unload:i=>{delete e[i]}}})(),Kte=()=>(()=>{let e={},t=[];const n={getItem:r=>{const s=e[r];return s||null},setItem:(r,s)=>{t.push(r),e[r]=String(s)},key:r=>t[r],removeItem:r=>{t=t.filter(s=>s===r),delete e[r]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),n})();let Xu;try{const e="__storage_test__";Xu=window.localStorage,Xu.setItem(e,e),Xu.removeItem(e)}catch{Xu=Kte()}var qte=Xu;const Gte={geom:{Rect:Hte},util:{Delay:dr,Tools:le,VK:he,URI:Kr,EventDispatcher:Z1,Observable:J1,I18n:jr,LocalStorage:qte,ImageUploader:pV},dom:{EventUtils:pl,TreeWalker:Ut,TextSeeker:vl,DOMUtils:lt,ScriptLoader:jo,RangeUtils:kl,Serializer:nk,StyleSheetLoader:Sb,ControlSelection:jS,BookmarkManager:Au,Selection:tk,Event:pl.Event},html:{Styles:_g,Entities:ms,Node:Fn,Schema:ps,DomParser:Ii,Writer:kw,Serializer:Es},Env:Qe,AddOnManager:vn,Annotator:TS,Formatter:vk,UndoManager:yk,EditorCommands:vB,WindowManager:uk,NotificationManager:ak,EditorObservable:bB,Shortcuts:kB,Editor:om,FocusManager:fw,EditorManager:Ds,DOM:lt.DOM,ScriptLoader:jo.ScriptLoader,PluginManager:$i,ThemeManager:Rl,ModelManager:Li,IconManager:vd,Resource:Wte,FakeClipboard:$te,trim:le.trim,isArray:le.isArray,is:le.is,toArray:le.toArray,makeMap:le.makeMap,each:le.each,map:le.map,grep:le.grep,inArray:le.inArray,extend:le.extend,walk:le.walk,resolve:le.resolve,explode:le.explode,_addCacheSuffix:le._addCacheSuffix},TB=le.extend(Ds,Gte),Yte=e=>{try{o.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(TB),Yte(TB)})()})(WR);var KR=WR.exports;const qR=require("multer"),Ile=qR.memoryStorage();qR({storage:Ile});function Lle(o){const l=o.onLoad,a=ae.useRef(null),[c,m]=ae.useState(""),[p,h]=ae.useState(!1),[b,A]=ae.useState([]),[_,O]=ae.useState(""),[I,z]=ae.useState([]),Q=()=>{p===!1&&h(!0),p===!0&&h(!1)},oe=R=>{let B=new FileReader;B.readAsBinaryString(R),B.onload=()=>{z({queryImage:B.result})}},X=()=>{let R=l();return O(R)},ke=()=>{A([]);const R="blogapi-production-8080.up.railway.app/posts";let B={title:c,content:KR.Editor.activeEditor.getContent(),author:_,cover_image:I,published:p},N={method:"POST",body:JSON.stringify(B),headers:new Headers({"Content-Type":"application/json; charset=UTF-8",Authorization:`Bearer ${localStorage.getItem("jwt")}`})};fetch(R,N).then(G=>G).then(G=>{if(G.errors.length>0)A(G.errors);else return Na("/user")})};return ae.useEffect(()=>{X()},[]),j.jsxs("div",{className:"createpage",children:[j.jsxs("label",{className:"createtitlelab",children:["Title:",j.jsx("input",{type:"text",className:"createtitle",name:"username",value:c,onChange:R=>m(R.target.value),placeholder:"Title of post"})]}),j.jsxs("label",{className:"createcoverlab",children:["Cover Image:",j.jsx("input",{className:"createcoverimg",type:"file",accept:"image/png, image/jpeg, image/jpg",onInput:R=>oe(R.target.files[0])})]}),j.jsx(VR,{apiKey:"upi36k57pc1yky084fkd0nb9ivkuuu1qnq08phkcm5xrhmn5",onInit:(R,B)=>a.current=B,initialValue:"Your content here",init:{height:"40vh",menubar:!1,plugins:["advlist","autolink","lists","link","image","charmap","preview","anchor","searchreplace","visualblocks","code","fullscreen","insertdatetime","media","table","code","help","wordcount"],toolbar:"undo redo | blocks | bold italic forecolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }"}}),j.jsxs("label",{className:"createpublishlab",children:["Publish Post:",j.jsx("input",{type:"checkbox",className:"createpublish",onClick:Q})]}),j.jsx("button",{type:"button",className:"createbtn",onClick:ke,children:"Submit Blog"}),b.length>0&&j.jsx("ul",{className:"errorslist",children:b.map(R=>j.jsx("li",{className:"postcreateerr",children:R.msg},jy()))})]})}function $le(){return j.jsx("div",{className:"postmain",children:j.jsx(TR,{})})}function Mle(o){const l=o.data,[a,c]=ae.useState([]),[m,p]=ae.useState([]),[h,b]=ae.useState(""),[A,_]=ae.useState(""),[O,I]=ae.useState([]),[z,Q]=ae.useState([]);let X=Ly().postid,ke=Iy();const R=o.onComment,B=`blogapi-production-8080.up.railway.app/posts/${X}`,N=()=>{p([]),fetch(B).then(de=>de).then(de=>de.status===404?p(de.message):c(de)).catch(de=>{alert(de)})},G=()=>{let de=R();return _(de)},xe=()=>{const de=`blogapi-production-8080.up.railway.app/posts/${X}/comments`;fetch(de).then(Z=>Z).then(Z=>{if(Z.length>0)return Q(Z)}).catch(Z=>{alert(Z)})};ae.useEffect(()=>{N(),G(),xe()},[]);const Se=de=>{de.preventDefault(),I([]);const Z=`blogapi-production-8080.up.railway.app/posts/${X}/comments`;let Ot={method:"POST",body:JSON.stringify({name:A,content:h,post:a}),headers:new Headers({"Content-Type":"application/json; charset=UTF-8",Authorization:`Bearer ${localStorage.getItem("jwt")}`})};fetch(Z,Ot).then(fn=>fn).then(fn=>{if(fn.errors.length>0)I(fn.errors);else{let $e=[...z];$e.push(fn),Q($e)}}).catch(fn=>{alert(fn)})},De=de=>{let Z=`/posts/${X}/${de}`;ke(Z)},_e=de=>{let Z=`blogapi-production-8080.up.railway.app/posts/${X}/comments/${de}`,je={method:"DELETE",headers:new Headers({"Content-Type":"application/json; charset=UTF-8",Authorization:`Bearer ${localStorage.getItem("jwt")}`})};fetch(Z,je).then(Ot=>Ot).then(Ot=>{if(Ot.status!==401){let $e=[...z].filter(or=>or._id!==de);return Q($e)}})},Pe=()=>{ke("/login")};return j.jsxs("div",{className:"postpage",children:[a.length===0&&j.jsx("div",{className:"postmiss",children:m}),a.length>0&&j.jsxs("div",{className:"postcont",children:[j.jsx("div",{className:"posttitle",children:a.title}),j.jsxs("div",{className:"postsubtitle",children:[a.timestamp_formatted," | Posted by ",a.author]}),j.jsx("div",{className:"postimgcont",children:j.jsx("img",{className:"postimg",src:"data:image/jpeg;base64,"+Buffer.from(a.cover_image).toString("base64"),alt:""})}),j.jsx("div",{className:"postcontent",children:a.content})]}),a.length>0&&l.length===0&&j.jsx("button",{className:"postlogbtn",type:"button",onClick:Pe,children:" Please login to comment."}),a.length>0&&l.length>0&&j.jsxs("div",{className:"postcommentcont",children:[j.jsxs("form",{className:"commentform",children:[j.jsx("label",{className:"commentboxlabel",children:j.jsx("textarea",{name:"content",className:"commentbox",placeholder:"Type your comment here",value:h,onChange:de=>b(de.target.value)})}),j.jsx("button",{type:"button",className:"commentbtn",onClick:Se})]}),O.length>0&&j.jsx("div",{className:"commenterror",children:O[0]})]}),z.length===0&&j.jsx("div",{className:"nocomments",children:"No comments on this post yet."}),z.length===0&&l.length>0&&j.jsx("div",{className:"commentprompt",children:"Be the first to comment!"}),z.length>0&&j.jsxs("div",{className:"commentslength",children:[z.length," Comments"]}),z.length>0&&j.jsx("ul",{className:"commentslist",children:z.map(de=>j.jsx("li",{className:"commentitem",children:j.jsxs("div",{className:"comment",children:[j.jsxs("div",{className:"commentinfo",children:[j.jsx("div",{className:"commentuser",children:de.name.username}),j.jsx("div",{className:"commentdate",children:de.timestamp_formatted})]}),j.jsx("div",{className:"commentcontent",children:de.content}),A===de.name._id&&j.jsxs("div",{className:"commentbtns",children:[j.jsx("button",{className:"commentupdate",onClick:De(de._id),children:"Update"}),j.jsx("button",{className:"commentdelete",onClick:_e(de._id),children:"Delete"})]})]})},de._id))}),j.jsx(TR,{})]})}function zle(o){const l=o.onLoad(),a=ae.useRef(null),[c,m]=ae.useState([]),[p,h]=ae.useState([]),[b,A]=ae.useState(""),[_,O]=ae.useState(!1),[I,z]=ae.useState([]),[Q,oe]=ae.useState(""),[X,ke]=ae.useState([]);let N=`blogapi-production-8080.up.railway.app/posts/${Ly().postid}`;const G=()=>{_===!1&&O(!0),_===!0&&O(!1)},xe=()=>{fetch(N).then(Pe=>Pe).then(Pe=>Pe.status===404?h(Pe.message):m(Pe)).catch(Pe=>{alert(Pe)})},Se=()=>{let Pe=l();return oe(Pe)},De=Pe=>{let de=new FileReader;de.readAsBinaryString(Pe),de.onload=()=>{ke({queryImage:de.result})}},_e=()=>{z([]);const Pe="blogapi-production-8080.up.railway.app/posts";let de={title:b,content:KR.Editor.activeEditor.getContent(),author:Q,cover_image:X,published:_},Z={method:"PUT",body:JSON.stringify(de),headers:new Headers({"Content-Type":"application/json; charset=UTF-8",Authorization:`Bearer ${localStorage.getItem("jwt")}`})};fetch(Pe,Z).then(je=>je).then(je=>{if(je.errors.length>0)z(je.errors);else return Na("/user")})};return ae.useEffect(()=>{xe(),Se()},[]),j.jsxs("div",{className:"editpage",children:[c.Error.length>0&&j.jsx("div",{className:"postmiss",children:p}),c.length>0&&j.jsxs("div",{className:"posteditcont",children:[j.jsxs("label",{className:"createtitlelab",children:["Title:",j.jsx("input",{type:"text",className:"createtitle",name:"username",value:b,onChange:Pe=>A(Pe.target.value),placeholder:"Title of post"})]}),j.jsxs("label",{className:"createcoverlab",children:["Cover Image:",j.jsx("input",{className:"createcoverimg",type:"file",accept:"image/png, image/jpeg, image/jpg",onInput:Pe=>De(Pe.target.files[0])})]}),j.jsx(VR,{apiKey:"upi36k57pc1yky084fkd0nb9ivkuuu1qnq08phkcm5xrhmn5",onInit:(Pe,de)=>a.current=de,initialValue:"Your content here",init:{height:"40vh",menubar:!1,plugins:["advlist","autolink","lists","link","image","charmap","preview","anchor","searchreplace","visualblocks","code","fullscreen","insertdatetime","media","table","code","help","wordcount"],toolbar:"undo redo | blocks | bold italic forecolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }"}}),j.jsxs("label",{className:"createpublishlab",children:["Publish Post:",j.jsx("input",{type:"checkbox",className:"createpublish",onClick:G})]}),j.jsx("button",{type:"button",className:"updatebtn",onClick:_e,children:"Submit Blog"}),I.length>0&&j.jsx("ul",{className:"errorslist",children:I.map(Pe=>j.jsx("li",{className:"postcreateerr",children:Pe.msg},jy()))})]})]})}function Ule(o){const[l,a]=ae.useState(""),[c,m]=ae.useState("");let p=Ly(),h=p.postid,b=p.commentid;const A=()=>{const O=`blogapi-production-8080.up.railway.app/posts/${h}/comments/${b}`;fetch(O).then(I=>I).then(I=>{if(I.length>0)return a(I.content)})},_=()=>{m("");const O=`blogapi-production-8080.up.railway.app/posts/${h}/comments/${b}`,I={method:"PUT",body:JSON.stringify(l),headers:new Headers({"Content-Type":"application/json; charset=UTF-8",Authorization:`Bearer ${localStorage.getItem("jwt")}`})};fetch(O,I).then(z=>z).then(z=>{if(z.errors.length>0)m(z.errors);else return Na(`/posts/${h}`)})};return ae.useEffect(()=>{A()}),j.jsxs("div",{className:"postcommentcont",children:[j.jsxs("form",{className:"commentform",children:[j.jsx("label",{className:"commentboxlabel",children:j.jsx("textarea",{name:"content",className:"commentbox",value:l,onChange:O=>a(O.target.value)})}),j.jsx("button",{type:"button",className:"commentbtn",onClick:_})]}),j.jsx("div",{className:"commenterror",children:c[0]})]})}function jle(){const[o,l]=ae.useState([]);function a(){if(localStorage.getItem("jwt")!==void 0){let p=localStorage.getItem("jwt");return _oe(p)._id}}function c(p,h){l(p,h)}function m(){localStorage.removeItem("jwt"),l([])}return j.jsx(wse,{basename:"/",children:j.jsxs("div",{className:"App",children:[j.jsx(_se,{data:o,onLogOut:m}),j.jsxs(Cse,{children:[j.jsx(Do,{path:"/",element:j.jsx(Bse,{data:o})}),j.jsx(Do,{path:"/login",element:j.jsx(vle,{data:o,onLogIn:c})}),j.jsx(Do,{path:"/signup",element:j.jsx(Sle,{data:o})}),j.jsx(Do,{path:"/user",element:j.jsx(wle,{data:o,onLoad:a})}),j.jsx(Do,{path:"/create",element:j.jsx(Lle,{onLoad:a})}),j.jsx(Do,{path:"/post",element:j.jsx($le,{}),children:j.jsxs(Do,{path:":postid",element:j.jsx(Mle,{data:o,onComment:a}),children:[j.jsx(Do,{path:"edit",element:j.jsx(zle,{onLoad:a})}),j.jsx(Do,{path:":commentid",element:j.jsx(Ule,{onLoad:a})})]})})]})]})})}Lv.createRoot(document.getElementById("root")).render(j.jsx(yP.StrictMode,{children:j.jsx(jle,{})}));
